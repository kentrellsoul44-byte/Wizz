var $T=Object.defineProperty;var Xp=t=>{throw TypeError(t)};var FT=(t,e,n)=>e in t?$T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qe=(t,e,n)=>FT(t,typeof e!="symbol"?e+"":e,n),JT=(t,e,n)=>e.has(t)||Xp("Cannot "+n);var Zp=(t,e,n)=>e.has(t)?Xp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var Is=(t,e,n)=>(JT(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function Bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YT(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),n}var ju={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function KT(){if(Wp)return Us;Wp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,u){var d=null;if(u!==void 0&&(d=""+u),r.key!==void 0&&(d=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:t,type:o,key:d,ref:r!==void 0?r:null,props:u}}return Us.Fragment=e,Us.jsx=n,Us.jsxs=n,Us}var jp;function QT(){return jp||(jp=1,ju.exports=KT()),ju.exports}var w=QT(),ec={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function XT(){if(em)return ye;em=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function k(A,O,W){this.props=A,this.context=O,this.refs=D,this.updater=W||E}k.prototype.isReactComponent={},k.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=k.prototype;function z(A,O,W){this.props=A,this.context=O,this.refs=D,this.updater=W||E}var N=z.prototype=new V;N.constructor=z,x(N,k.prototype),N.isPureReactComponent=!0;var J=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function K(A,O,W,j,le,we){return W=we.ref,{$$typeof:t,type:A,key:O,ref:W!==void 0?W:null,props:we}}function Q(A,O){return K(A.type,O,void 0,void 0,void 0,A.props)}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ue(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return O[W]})}var ne=/\/+/g;function se(A,O){return typeof A=="object"&&A!==null&&A.key!=null?ue(""+A.key):O.toString(36)}function de(){}function he(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(de,de):(A.status="pending",A.then(function(O){A.status==="pending"&&(A.status="fulfilled",A.value=O)},function(O){A.status==="pending"&&(A.status="rejected",A.reason=O)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ee(A,O,W,j,le){var we=typeof A;(we==="undefined"||we==="boolean")&&(A=null);var me=!1;if(A===null)me=!0;else switch(we){case"bigint":case"string":case"number":me=!0;break;case"object":switch(A.$$typeof){case t:case e:me=!0;break;case v:return me=A._init,ee(me(A._payload),O,W,j,le)}}if(me)return le=le(A),me=j===""?"."+se(A,0):j,J(le)?(W="",me!=null&&(W=me.replace(ne,"$&/")+"/"),ee(le,O,W,"",function(Cn){return Cn})):le!=null&&(Z(le)&&(le=Q(le,W+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(ne,"$&/")+"/")+me)),O.push(le)),1;me=0;var _t=j===""?".":j+":";if(J(A))for(var Oe=0;Oe<A.length;Oe++)j=A[Oe],we=_t+se(j,Oe),me+=ee(j,O,W,we,le);else if(Oe=_(A),typeof Oe=="function")for(A=Oe.call(A),Oe=0;!(j=A.next()).done;)j=j.value,we=_t+se(j,Oe++),me+=ee(j,O,W,we,le);else if(we==="object"){if(typeof A.then=="function")return ee(he(A),O,W,j,le);throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return me}function U(A,O,W){if(A==null)return A;var j=[],le=0;return ee(A,j,"","",function(we){return O.call(W,we,le++)}),j}function $(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var Y=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function pe(){}return ye.Children={map:U,forEach:function(A,O,W){U(A,function(){O.apply(this,arguments)},W)},count:function(A){var O=0;return U(A,function(){O++}),O},toArray:function(A){return U(A,function(O){return O})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ye.Component=k,ye.Fragment=n,ye.Profiler=r,ye.PureComponent=z,ye.StrictMode=o,ye.Suspense=g,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ye.__COMPILER_RUNTIME={__proto__:null,c:function(A){return B.H.useMemoCache(A)}},ye.cache=function(A){return function(){return A.apply(null,arguments)}},ye.cloneElement=function(A,O,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var j=x({},A.props),le=A.key,we=void 0;if(O!=null)for(me in O.ref!==void 0&&(we=void 0),O.key!==void 0&&(le=""+O.key),O)!X.call(O,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&O.ref===void 0||(j[me]=O[me]);var me=arguments.length-2;if(me===1)j.children=W;else if(1<me){for(var _t=Array(me),Oe=0;Oe<me;Oe++)_t[Oe]=arguments[Oe+2];j.children=_t}return K(A.type,le,void 0,void 0,we,j)},ye.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},ye.createElement=function(A,O,W){var j,le={},we=null;if(O!=null)for(j in O.key!==void 0&&(we=""+O.key),O)X.call(O,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(le[j]=O[j]);var me=arguments.length-2;if(me===1)le.children=W;else if(1<me){for(var _t=Array(me),Oe=0;Oe<me;Oe++)_t[Oe]=arguments[Oe+2];le.children=_t}if(A&&A.defaultProps)for(j in me=A.defaultProps,me)le[j]===void 0&&(le[j]=me[j]);return K(A,we,void 0,void 0,null,le)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(A){return{$$typeof:h,render:A}},ye.isValidElement=Z,ye.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:$}},ye.memo=function(A,O){return{$$typeof:p,type:A,compare:O===void 0?null:O}},ye.startTransition=function(A){var O=B.T,W={};B.T=W;try{var j=A(),le=B.S;le!==null&&le(W,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(pe,Y)}catch(we){Y(we)}finally{B.T=O}},ye.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ye.use=function(A){return B.H.use(A)},ye.useActionState=function(A,O,W){return B.H.useActionState(A,O,W)},ye.useCallback=function(A,O){return B.H.useCallback(A,O)},ye.useContext=function(A){return B.H.useContext(A)},ye.useDebugValue=function(){},ye.useDeferredValue=function(A,O){return B.H.useDeferredValue(A,O)},ye.useEffect=function(A,O,W){var j=B.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(A,O)},ye.useId=function(){return B.H.useId()},ye.useImperativeHandle=function(A,O,W){return B.H.useImperativeHandle(A,O,W)},ye.useInsertionEffect=function(A,O){return B.H.useInsertionEffect(A,O)},ye.useLayoutEffect=function(A,O){return B.H.useLayoutEffect(A,O)},ye.useMemo=function(A,O){return B.H.useMemo(A,O)},ye.useOptimistic=function(A,O){return B.H.useOptimistic(A,O)},ye.useReducer=function(A,O,W){return B.H.useReducer(A,O,W)},ye.useRef=function(A){return B.H.useRef(A)},ye.useState=function(A){return B.H.useState(A)},ye.useSyncExternalStore=function(A,O,W){return B.H.useSyncExternalStore(A,O,W)},ye.useTransition=function(){return B.H.useTransition()},ye.version="19.1.1",ye}var tm;function Oc(){return tm||(tm=1,ec.exports=XT()),ec.exports}var re=Oc();const wo=Bc(re);var tc={exports:{}},Ls={},nc={exports:{}},ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function ZT(){return nm||(nm=1,function(t){function e(U,$){var Y=U.length;U.push($);e:for(;0<Y;){var pe=Y-1>>>1,A=U[pe];if(0<r(A,$))U[pe]=$,U[Y]=A,Y=pe;else break e}}function n(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var $=U[0],Y=U.pop();if(Y!==$){U[0]=Y;e:for(var pe=0,A=U.length,O=A>>>1;pe<O;){var W=2*(pe+1)-1,j=U[W],le=W+1,we=U[le];if(0>r(j,Y))le<A&&0>r(we,j)?(U[pe]=we,U[le]=Y,pe=le):(U[pe]=j,U[W]=Y,pe=W);else if(le<A&&0>r(we,Y))U[pe]=we,U[le]=Y,pe=le;else break e}}return $}function r(U,$){var Y=U.sortIndex-$.sortIndex;return Y!==0?Y:U.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var g=[],p=[],v=1,T=null,_=3,E=!1,x=!1,D=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function J(U){for(var $=n(p);$!==null;){if($.callback===null)o(p);else if($.startTime<=U)o(p),$.sortIndex=$.expirationTime,e(g,$);else break;$=n(p)}}function B(U){if(D=!1,J(U),!x)if(n(g)!==null)x=!0,X||(X=!0,se());else{var $=n(p);$!==null&&ee(B,$.startTime-U)}}var X=!1,K=-1,Q=5,Z=-1;function ue(){return k?!0:!(t.unstable_now()-Z<Q)}function ne(){if(k=!1,X){var U=t.unstable_now();Z=U;var $=!0;try{e:{x=!1,D&&(D=!1,z(K),K=-1),E=!0;var Y=_;try{t:{for(J(U),T=n(g);T!==null&&!(T.expirationTime>U&&ue());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,_=T.priorityLevel;var A=pe(T.expirationTime<=U);if(U=t.unstable_now(),typeof A=="function"){T.callback=A,J(U),$=!0;break t}T===n(g)&&o(g),J(U)}else o(g);T=n(g)}if(T!==null)$=!0;else{var O=n(p);O!==null&&ee(B,O.startTime-U),$=!1}}break e}finally{T=null,_=Y,E=!1}$=void 0}}finally{$?se():X=!1}}}var se;if(typeof N=="function")se=function(){N(ne)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,he=de.port2;de.port1.onmessage=ne,se=function(){he.postMessage(null)}}else se=function(){V(ne,0)};function ee(U,$){K=V(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(U){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var Y=_;_=$;try{return U()}finally{_=Y}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=_;_=U;try{return $()}finally{_=Y}},t.unstable_scheduleCallback=function(U,$,Y){var pe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Y+A,U={id:v++,callback:$,priorityLevel:U,startTime:Y,expirationTime:A,sortIndex:-1},Y>pe?(U.sortIndex=Y,e(p,U),n(g)===null&&U===n(p)&&(D?(z(K),K=-1):D=!0,ee(B,Y-pe))):(U.sortIndex=A,e(g,U),x||E||(x=!0,X||(X=!0,se()))),U},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(U){var $=_;return function(){var Y=_;_=$;try{return U.apply(this,arguments)}finally{_=Y}}}}(ic)),ic}var im;function WT(){return im||(im=1,nc.exports=ZT()),nc.exports}var oc={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function jT(){if(om)return ft;om=1;var t=Oc();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ft.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},ft.flushSync=function(g){var p=d.T,v=o.p;try{if(d.T=null,o.p=2,g)return g()}finally{d.T=p,o.p=v,o.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:E}):v==="script"&&o.d.X(g,{crossOrigin:T,integrity:_,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin);o.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},ft.requestFormReset=function(g){o.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,v){return d.H.useFormState(g,p,v)},ft.useFormStatus=function(){return d.H.useHostTransitionStatus()},ft.version="19.1.1",ft}var sm;function e_(){if(sm)return oc.exports;sm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oc.exports=jT(),oc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function t_(){if(rm)return Ls;rm=1;var t=WT(),e=Oc(),n=e_();function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function d(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(u(i)!==i)throw Error(o(188))}function g(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(o(188));return s!==i?null:i}for(var l=i,f=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){l=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),i;if(y===f)return h(m),s;y=y.sibling}throw Error(o(188))}if(l.return!==f.return)l=m,f=y;else{for(var S=!1,C=m.child;C;){if(C===l){S=!0,l=m,f=y;break}if(C===f){S=!0,f=m,l=y;break}C=C.sibling}if(!S){for(C=y.child;C;){if(C===l){S=!0,l=y,f=m;break}if(C===f){S=!0,f=y,l=m;break}C=C.sibling}if(!S)throw Error(o(189))}}if(l.alternate!==f)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),N=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var de=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===de?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case N:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case J:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:he(i.type)||"Memo";case Q:s=i._payload,i=i._init;try{return he(i(s))}catch{}}return null}var ee=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},pe=[],A=-1;function O(i){return{current:i}}function W(i){0>A||(i.current=pe[A],pe[A]=null,A--)}function j(i,s){A++,pe[A]=i.current,i.current=s}var le=O(null),we=O(null),me=O(null),_t=O(null);function Oe(i,s){switch(j(me,s),j(we,i),j(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?wp(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=wp(s),i=xp(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(le),j(le,i)}function Cn(){W(le),W(we),W(me)}function Vl(i){i.memoizedState!==null&&j(_t,i);var s=le.current,l=xp(s,i.type);s!==l&&(j(we,i),j(le,l))}function er(i){we.current===i&&(W(le),W(we)),_t.current===i&&(W(_t),Rs._currentValue=Y)}var Bl=Object.prototype.hasOwnProperty,Ol=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,Cv=t.unstable_shouldYield,Ev=t.unstable_requestPaint,Jt=t.unstable_now,wv=t.unstable_getCurrentPriorityLevel,of=t.unstable_ImmediatePriority,sf=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,xv=t.unstable_LowPriority,rf=t.unstable_IdlePriority,bv=t.log,Av=t.unstable_setDisableYieldValue,Po=null,St=null;function En(i){if(typeof bv=="function"&&Av(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Po,i)}catch{}}var Ct=Math.clz32?Math.clz32:kv,Rv=Math.log,Mv=Math.LN2;function kv(i){return i>>>=0,i===0?32:31-(Rv(i)/Mv|0)|0}var nr=256,ir=4194304;function Zn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function or(i,s,l){var f=i.pendingLanes;if(f===0)return 0;var m=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var C=f&134217727;return C!==0?(f=C&~y,f!==0?m=Zn(f):(S&=C,S!==0?m=Zn(S):l||(l=C&~i,l!==0&&(m=Zn(l))))):(C=f&~y,C!==0?m=Zn(C):S!==0?m=Zn(S):l||(l=f&~i,l!==0&&(m=Zn(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function qo(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Nv(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(){var i=nr;return nr<<=1,(nr&4194048)===0&&(nr=256),i}function af(){var i=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),i}function zl(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Vo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Dv(i,s,l,f,m,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var C=i.entanglements,b=i.expirationTimes,L=i.hiddenUpdates;for(l=S&~l;0<l;){var H=31-Ct(l),F=1<<H;C[H]=0,b[H]=-1;var P=L[H];if(P!==null)for(L[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}l&=~F}f!==0&&uf(i,f,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~s))}function uf(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-Ct(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function cf(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-Ct(l),m=1<<f;m&s|i[f]&s&&(i[f]|=s),l&=~m}}function Gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $l(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ff(){var i=$.p;return i!==0?i:(i=window.event,i===void 0?32:$p(i.type))}function Iv(i,s){var l=$.p;try{return $.p=i,s()}finally{$.p=l}}var wn=Math.random().toString(36).slice(2),ut="__reactFiber$"+wn,pt="__reactProps$"+wn,bi="__reactContainer$"+wn,Fl="__reactEvents$"+wn,Uv="__reactListeners$"+wn,Lv="__reactHandles$"+wn,df="__reactResources$"+wn,Bo="__reactMarker$"+wn;function Jl(i){delete i[ut],delete i[pt],delete i[Fl],delete i[Uv],delete i[Lv]}function Ai(i){var s=i[ut];if(s)return s;for(var l=i.parentNode;l;){if(s=l[bi]||l[ut]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Mp(i);i!==null;){if(l=i[ut])return l;i=Mp(i)}return s}i=l,l=i.parentNode}return null}function Ri(i){if(i=i[ut]||i[bi]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Oo(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(o(33))}function Mi(i){var s=i[df];return s||(s=i[df]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function et(i){i[Bo]=!0}var hf=new Set,pf={};function Wn(i,s){ki(i,s),ki(i+"Capture",s)}function ki(i,s){for(pf[i]=s,i=0;i<s.length;i++)hf.add(s[i])}var Pv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},gf={};function qv(i){return Bl.call(gf,i)?!0:Bl.call(mf,i)?!1:Pv.test(i)?gf[i]=!0:(mf[i]=!0,!1)}function sr(i,s,l){if(qv(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function rr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function en(i,s,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+f)}}var Yl,yf;function Ni(i){if(Yl===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Yl=s&&s[1]||"",yf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yl+i+yf}var Kl=!1;function Ql(i,s){if(!i||Kl)return"";Kl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(i,[],F)}else{try{F.call()}catch(q){P=q}i.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=i())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],C=y[1];if(S&&C){var b=S.split(`
`),L=C.split(`
`);for(m=f=0;f<b.length&&!b[f].includes("DetermineComponentFrameRoot");)f++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(f===b.length||m===L.length)for(f=b.length-1,m=L.length-1;1<=f&&0<=m&&b[f]!==L[m];)m--;for(;1<=f&&0<=m;f--,m--)if(b[f]!==L[m]){if(f!==1||m!==1)do if(f--,m--,0>m||b[f]!==L[m]){var H=`
`+b[f].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=f&&0<=m);break}}}finally{Kl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ni(l):""}function Vv(i){switch(i.tag){case 26:case 27:case 5:return Ni(i.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return Ql(i.type,!1);case 11:return Ql(i.type.render,!1);case 1:return Ql(i.type,!0);case 31:return Ni("Activity");default:return""}}function vf(i){try{var s="";do s+=Vv(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Nt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tf(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bv(i){var s=Tf(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lr(i){i._valueTracker||(i._valueTracker=Bv(i))}function _f(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=Tf(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function ar(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ov=/[\n"\\]/g;function Dt(i){return i.replace(Ov,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xl(i,s,l,f,m,y,S,C){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Nt(s)):i.value!==""+Nt(s)&&(i.value=""+Nt(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Zl(i,S,Nt(s)):l!=null?Zl(i,S,Nt(l)):f!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Nt(C):i.removeAttribute("name")}function Sf(i,s,l,f,m,y,S,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Nt(l):"",s=s!=null?""+Nt(s):l,C||s===i.value||(i.value=s),i.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=C?i.checked:!!f,i.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Zl(i,s,l){s==="number"&&ar(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Di(i,s,l,f){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Nt(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Cf(i,s,l){if(s!=null&&(s=""+Nt(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Nt(l):""}function Ef(i,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(o(92));if(ee(f)){if(1<f.length)throw Error(o(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Nt(s),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Ii(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Hv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(i,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,l):typeof l!="number"||l===0||Hv.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function xf(i,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&l[m]!==f&&wf(i,m,f)}else for(var y in s)s.hasOwnProperty(y)&&wf(i,y,s[y])}function Wl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(i){return Gv.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var jl=null;function ea(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,Li=null;function bf(i){var s=Ri(i);if(s&&(i=s.stateNode)){var l=i[pt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xl(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var m=f[pt]||null;if(!m)throw Error(o(90));Xl(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===i.form&&_f(f)}break e;case"textarea":Cf(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Di(i,!!l.multiple,s,!1)}}}var ta=!1;function Af(i,s,l){if(ta)return i(s,l);ta=!0;try{var f=i(s);return f}finally{if(ta=!1,(Ui!==null||Li!==null)&&(Kr(),Ui&&(s=Ui,i=Li,Li=Ui=null,bf(s),i)))for(s=0;s<i.length;s++)bf(i[s])}}function Ho(i,s){var l=i.stateNode;if(l===null)return null;var f=l[pt]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(tn)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){na=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{na=!1}var xn=null,ia=null,cr=null;function Rf(){if(cr)return cr;var i,s=ia,l=s.length,f,m="value"in xn?xn.value:xn.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(f=1;f<=S&&s[l-f]===m[y-f];f++);return cr=m.slice(i,1<f?1-f:void 0)}function fr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function dr(){return!0}function Mf(){return!1}function mt(i){function s(l,f,m,y,S){this._reactName=l,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dr:Mf,this.isPropagationStopped=Mf,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=mt(jn),Go=v({},jn,{view:0,detail:0}),$v=mt(Go),oa,sa,$o,pr=v({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$o&&($o&&i.type==="mousemove"?(oa=i.screenX-$o.screenX,sa=i.screenY-$o.screenY):sa=oa=0,$o=i),oa)},movementY:function(i){return"movementY"in i?i.movementY:sa}}),kf=mt(pr),Fv=v({},pr,{dataTransfer:0}),Jv=mt(Fv),Yv=v({},Go,{relatedTarget:0}),ra=mt(Yv),Kv=v({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=mt(Kv),Xv=v({},jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zv=mt(Xv),Wv=v({},jn,{data:0}),Nf=mt(Wv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=t0[i])?!!s[i]:!1}function la(){return n0}var i0=v({},Go,{key:function(i){if(i.key){var s=jv[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=fr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?e0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(i){return i.type==="keypress"?fr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),o0=mt(i0),s0=v({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=mt(s0),r0=v({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),l0=mt(r0),a0=v({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0=mt(a0),c0=v({},pr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=mt(c0),d0=v({},jn,{newState:0,oldState:0}),h0=mt(d0),p0=[9,13,27,32],aa=tn&&"CompositionEvent"in window,Fo=null;tn&&"documentMode"in document&&(Fo=document.documentMode);var m0=tn&&"TextEvent"in window&&!Fo,If=tn&&(!aa||Fo&&8<Fo&&11>=Fo),Uf=" ",Lf=!1;function Pf(i,s){switch(i){case"keyup":return p0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Pi=!1;function g0(i,s){switch(i){case"compositionend":return qf(s);case"keypress":return s.which!==32?null:(Lf=!0,Uf);case"textInput":return i=s.data,i===Uf&&Lf?null:i;default:return null}}function y0(i,s){if(Pi)return i==="compositionend"||!aa&&Pf(i,s)?(i=Rf(),cr=ia=xn=null,Pi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return If&&s.locale!=="ko"?null:s.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!v0[i.type]:s==="textarea"}function Bf(i,s,l,f){Ui?Li?Li.push(f):Li=[f]:Ui=f,s=el(s,"onChange"),0<s.length&&(l=new hr("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var Jo=null,Yo=null;function T0(i){Tp(i,0)}function mr(i){var s=Oo(i);if(_f(s))return i}function Of(i,s){if(i==="change")return s}var Hf=!1;if(tn){var ua;if(tn){var ca="oninput"in document;if(!ca){var zf=document.createElement("div");zf.setAttribute("oninput","return;"),ca=typeof zf.oninput=="function"}ua=ca}else ua=!1;Hf=ua&&(!document.documentMode||9<document.documentMode)}function Gf(){Jo&&(Jo.detachEvent("onpropertychange",$f),Yo=Jo=null)}function $f(i){if(i.propertyName==="value"&&mr(Yo)){var s=[];Bf(s,Yo,i,ea(i)),Af(T0,s)}}function _0(i,s,l){i==="focusin"?(Gf(),Jo=s,Yo=l,Jo.attachEvent("onpropertychange",$f)):i==="focusout"&&Gf()}function S0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mr(Yo)}function C0(i,s){if(i==="click")return mr(s)}function E0(i,s){if(i==="input"||i==="change")return mr(s)}function w0(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Et=typeof Object.is=="function"?Object.is:w0;function Ko(i,s){if(Et(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var m=l[f];if(!Bl.call(s,m)||!Et(i[m],s[m]))return!1}return!0}function Ff(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jf(i,s){var l=Ff(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ff(l)}}function Yf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Yf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Kf(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ar(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ar(i.document)}return s}function fa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var x0=tn&&"documentMode"in document&&11>=document.documentMode,qi=null,da=null,Qo=null,ha=!1;function Qf(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ha||qi==null||qi!==ar(f)||(f=qi,"selectionStart"in f&&fa(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qo&&Ko(Qo,f)||(Qo=f,f=el(da,"onSelect"),0<f.length&&(s=new hr("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=qi)))}function ei(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Vi={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},pa={},Xf={};tn&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ti(i){if(pa[i])return pa[i];if(!Vi[i])return i;var s=Vi[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Xf)return pa[i]=s[l];return i}var Zf=ti("animationend"),Wf=ti("animationiteration"),jf=ti("animationstart"),b0=ti("transitionrun"),A0=ti("transitionstart"),R0=ti("transitioncancel"),ed=ti("transitionend"),td=new Map,ma="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ma.push("scrollEnd");function Ht(i,s){td.set(i,s),Wn(s,[i])}var nd=new WeakMap;function It(i,s){if(typeof i=="object"&&i!==null){var l=nd.get(i);return l!==void 0?l:(s={value:i,source:s,stack:vf(s)},nd.set(i,s),s)}return{value:i,source:s,stack:vf(s)}}var Ut=[],Bi=0,ga=0;function gr(){for(var i=Bi,s=ga=Bi=0;s<i;){var l=Ut[s];Ut[s++]=null;var f=Ut[s];Ut[s++]=null;var m=Ut[s];Ut[s++]=null;var y=Ut[s];if(Ut[s++]=null,f!==null&&m!==null){var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}y!==0&&id(l,m,y)}}function yr(i,s,l,f){Ut[Bi++]=i,Ut[Bi++]=s,Ut[Bi++]=l,Ut[Bi++]=f,ga|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function ya(i,s,l,f){return yr(i,s,l,f),vr(i)}function Oi(i,s){return yr(i,null,null,s),vr(i)}function id(i,s,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-Ct(l),i=y.hiddenUpdates,f=i[m],f===null?i[m]=[s]:f.push(s),s.lane=l|536870912),y):null}function vr(i){if(50<_s)throw _s=0,Eu=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Hi={};function M0(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(i,s,l,f){return new M0(i,s,l,f)}function va(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nn(i,s){var l=i.alternate;return l===null?(l=wt(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function od(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Tr(i,s,l,f,m,y){var S=0;if(f=i,typeof i=="function")va(i)&&(S=1);else if(typeof i=="string")S=NT(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=wt(31,l,s,m),i.elementType=Z,i.lanes=y,i;case x:return ni(l.children,m,y,s);case D:S=8,m|=24;break;case k:return i=wt(12,l,s,m|2),i.elementType=k,i.lanes=y,i;case B:return i=wt(13,l,s,m),i.elementType=B,i.lanes=y,i;case X:return i=wt(19,l,s,m),i.elementType=X,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case N:S=10;break e;case z:S=9;break e;case J:S=11;break e;case K:S=14;break e;case Q:S=16,f=null;break e}S=29,l=Error(o(130,i===null?"null":typeof i,"")),f=null}return s=wt(S,l,s,m),s.elementType=i,s.type=f,s.lanes=y,s}function ni(i,s,l,f){return i=wt(7,i,f,s),i.lanes=l,i}function Ta(i,s,l){return i=wt(6,i,null,s),i.lanes=l,i}function _a(i,s,l){return s=wt(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var zi=[],Gi=0,_r=null,Sr=0,Lt=[],Pt=0,ii=null,on=1,sn="";function oi(i,s){zi[Gi++]=Sr,zi[Gi++]=_r,_r=i,Sr=s}function sd(i,s,l){Lt[Pt++]=on,Lt[Pt++]=sn,Lt[Pt++]=ii,ii=i;var f=on;i=sn;var m=32-Ct(f)-1;f&=~(1<<m),l+=1;var y=32-Ct(s)+m;if(30<y){var S=m-m%5;y=(f&(1<<S)-1).toString(32),f>>=S,m-=S,on=1<<32-Ct(s)+m|l<<m|f,sn=y+i}else on=1<<y|l<<m|f,sn=i}function Sa(i){i.return!==null&&(oi(i,1),sd(i,1,0))}function Ca(i){for(;i===_r;)_r=zi[--Gi],zi[Gi]=null,Sr=zi[--Gi],zi[Gi]=null;for(;i===ii;)ii=Lt[--Pt],Lt[Pt]=null,sn=Lt[--Pt],Lt[Pt]=null,on=Lt[--Pt],Lt[Pt]=null}var ht=null,Ge=null,be=!1,si=null,Yt=!1,Ea=Error(o(519));function ri(i){var s=Error(o(418,""));throw Wo(It(s,i)),Ea}function rd(i){var s=i.stateNode,l=i.type,f=i.memoizedProps;switch(s[ut]=i,s[pt]=f,l){case"dialog":Se("cancel",s),Se("close",s);break;case"iframe":case"object":case"embed":Se("load",s);break;case"video":case"audio":for(l=0;l<Cs.length;l++)Se(Cs[l],s);break;case"source":Se("error",s);break;case"img":case"image":case"link":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"input":Se("invalid",s),Sf(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),lr(s);break;case"select":Se("invalid",s);break;case"textarea":Se("invalid",s),Ef(s,f.value,f.defaultValue,f.children),lr(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||Ep(s.textContent,l)?(f.popover!=null&&(Se("beforetoggle",s),Se("toggle",s)),f.onScroll!=null&&Se("scroll",s),f.onScrollEnd!=null&&Se("scrollend",s),f.onClick!=null&&(s.onclick=tl),s=!0):s=!1,s||ri(i)}function ld(i){for(ht=i.return;ht;)switch(ht.tag){case 5:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ht=ht.return}}function Xo(i){if(i!==ht)return!1;if(!be)return ld(i),be=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Bu(i.type,i.memoizedProps)),l=!l),l&&Ge&&ri(i),ld(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Ge=Gt(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Ge=null}}else s===27?(s=Ge,Hn(i.type)?(i=Gu,Gu=null,Ge=i):Ge=s):Ge=ht?Gt(i.stateNode.nextSibling):null;return!0}function Zo(){Ge=ht=null,be=!1}function ad(){var i=si;return i!==null&&(vt===null?vt=i:vt.push.apply(vt,i),si=null),i}function Wo(i){si===null?si=[i]:si.push(i)}var wa=O(null),li=null,rn=null;function bn(i,s,l){j(wa,s._currentValue),s._currentValue=l}function ln(i){i._currentValue=wa.current,W(wa)}function xa(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function ba(i,s,l,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var b=0;b<s.length;b++)if(C.context===s[b]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),xa(y.return,l,i),f||(S=null);break e}y=C.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(o(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),xa(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function jo(i,s,l,f){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var C=m.type;Et(m.pendingProps.value,S.value)||(i!==null?i.push(C):i=[C])}}else if(m===_t.current){if(S=m.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Rs):i=[Rs])}m=m.return}i!==null&&ba(s,i,l,f),s.flags|=262144}function Cr(i){for(i=i.firstContext;i!==null;){if(!Et(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ai(i){li=i,rn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ct(i){return ud(li,i)}function Er(i,s){return li===null&&ai(i),ud(i,s)}function ud(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},rn===null){if(i===null)throw Error(o(308));rn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else rn=rn.next=s;return l}var k0=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},N0=t.unstable_scheduleCallback,D0=t.unstable_NormalPriority,Xe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Aa(){return{controller:new k0,data:new Map,refCount:0}}function es(i){i.refCount--,i.refCount===0&&N0(D0,function(){i.controller.abort()})}var ts=null,Ra=0,$i=0,Fi=null;function I0(i,s){if(ts===null){var l=ts=[];Ra=0,$i=ku(),Fi={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Ra++,s.then(cd,cd),s}function cd(){if(--Ra===0&&ts!==null){Fi!==null&&(Fi.status="fulfilled");var i=ts;ts=null,$i=0,Fi=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function U0(i,s){var l=[],f={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),f}var fd=U.S;U.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&I0(i,s),fd!==null&&fd(i,s)};var ui=O(null);function Ma(){var i=ui.current;return i!==null?i:Pe.pooledCache}function wr(i,s){s===null?j(ui,ui.current):j(ui,s.pool)}function dd(){var i=Ma();return i===null?null:{parent:Xe._currentValue,pool:i}}var ns=Error(o(460)),hd=Error(o(474)),xr=Error(o(542)),ka={then:function(){}};function pd(i){return i=i.status,i==="fulfilled"||i==="rejected"}function br(){}function md(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(br,br),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,yd(i),i;default:if(typeof s.status=="string")s.then(br,br);else{if(i=Pe,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,yd(i),i}throw is=s,ns}}var is=null;function gd(){if(is===null)throw Error(o(459));var i=is;return is=null,i}function yd(i){if(i===ns||i===xr)throw Error(o(483))}var An=!1;function Na(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Da(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mn(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=vr(i),id(i,null,l),s}return yr(i,f,s,l),vr(i)}function os(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,cf(i,l)}}function Ia(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ua=!1;function ss(){if(Ua){var i=Fi;if(i!==null)throw i}}function rs(i,s,l,f){Ua=!1;var m=i.updateQueue;An=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var b=C,L=b.next;b.next=null,S===null?y=L:S.next=L,S=b;var H=i.alternate;H!==null&&(H=H.updateQueue,C=H.lastBaseUpdate,C!==S&&(C===null?H.firstBaseUpdate=L:C.next=L,H.lastBaseUpdate=b))}if(y!==null){var F=m.baseState;S=0,H=L=b=null,C=y;do{var P=C.lane&-536870913,q=P!==C.lane;if(q?(Ee&P)===P:(f&P)===P){P!==0&&P===$i&&(Ua=!0),H!==null&&(H=H.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=i,ae=C;P=s;var Ie=l;switch(ae.tag){case 1:if(fe=ae.payload,typeof fe=="function"){F=fe.call(Ie,F,P);break e}F=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ae.payload,P=typeof fe=="function"?fe.call(Ie,F,P):fe,P==null)break e;F=v({},F,P);break e;case 2:An=!0}}P=C.callback,P!==null&&(i.flags|=64,q&&(i.flags|=8192),q=m.callbacks,q===null?m.callbacks=[P]:q.push(P))}else q={lane:P,tag:C.tag,payload:C.payload,callback:C.callback,next:null},H===null?(L=H=q,b=F):H=H.next=q,S|=P;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;q=C,C=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);H===null&&(b=F),m.baseState=b,m.firstBaseUpdate=L,m.lastBaseUpdate=H,y===null&&(m.shared.lanes=0),qn|=S,i.lanes=S,i.memoizedState=F}}function vd(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function Td(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)vd(l[i],s)}var Ji=O(null),Ar=O(0);function _d(i,s){i=pn,j(Ar,i),j(Ji,s),pn=i|s.baseLanes}function La(){j(Ar,pn),j(Ji,Ji.current)}function Pa(){pn=Ar.current,W(Ji),W(Ar)}var kn=0,ve=null,Ne=null,Ke=null,Rr=!1,Yi=!1,ci=!1,Mr=0,ls=0,Ki=null,L0=0;function Fe(){throw Error(o(321))}function qa(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Et(i[l],s[l]))return!1;return!0}function Va(i,s,l,f,m,y){return kn=y,ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=i===null||i.memoizedState===null?ih:oh,ci=!1,y=l(f,m),ci=!1,Yi&&(y=Cd(s,l,f,m)),Sd(i),y}function Sd(i){U.H=Lr;var s=Ne!==null&&Ne.next!==null;if(kn=0,Ke=Ne=ve=null,Rr=!1,ls=0,Ki=null,s)throw Error(o(300));i===null||tt||(i=i.dependencies,i!==null&&Cr(i)&&(tt=!0))}function Cd(i,s,l,f){ve=i;var m=0;do{if(Yi&&(Ki=null),ls=0,Yi=!1,25<=m)throw Error(o(301));if(m+=1,Ke=Ne=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=z0,y=s(l,f)}while(Yi);return y}function P0(){var i=U.H,s=i.useState()[0];return s=typeof s.then=="function"?as(s):s,i=i.useState()[0],(Ne!==null?Ne.memoizedState:null)!==i&&(ve.flags|=1024),s}function Ba(){var i=Mr!==0;return Mr=0,i}function Oa(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Ha(i){if(Rr){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Rr=!1}kn=0,Ke=Ne=ve=null,Yi=!1,ls=Mr=0,Ki=null}function gt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ve.memoizedState=Ke=i:Ke=Ke.next=i,Ke}function Qe(){if(Ne===null){var i=ve.alternate;i=i!==null?i.memoizedState:null}else i=Ne.next;var s=Ke===null?ve.memoizedState:Ke.next;if(s!==null)Ke=s,Ne=i;else{if(i===null)throw ve.alternate===null?Error(o(467)):Error(o(310));Ne=i,i={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ke===null?ve.memoizedState=Ke=i:Ke=Ke.next=i}return Ke}function za(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function as(i){var s=ls;return ls+=1,Ki===null&&(Ki=[]),i=md(Ki,i,s),s=ve,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?ih:oh),i}function kr(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return as(i);if(i.$$typeof===N)return ct(i)}throw Error(o(438,String(i)))}function Ga(i){var s=null,l=ve.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=ve.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=za(),ve.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),f=0;f<i;f++)l[f]=ue;return s.index++,l}function an(i,s){return typeof s=="function"?s(i):s}function Nr(i){var s=Qe();return $a(s,Ne,i)}function $a(i,s,l){var f=i.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var m=i.baseQueue,y=f.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,f.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var C=S=null,b=null,L=s,H=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Ee&F)===F:(kn&F)===F){var P=L.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===$i&&(H=!0);else if((kn&P)===P){L=L.next,P===$i&&(H=!0);continue}else F={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(C=b=F,S=y):b=b.next=F,ve.lanes|=P,qn|=P;F=L.action,ci&&l(y,F),y=L.hasEagerState?L.eagerState:l(y,F)}else P={lane:F,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(C=b=P,S=y):b=b.next=P,ve.lanes|=F,qn|=F;L=L.next}while(L!==null&&L!==s);if(b===null?S=y:b.next=C,!Et(y,i.memoizedState)&&(tt=!0,H&&(l=Fi,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=b,f.lastRenderedState=y}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Fa(i){var s=Qe(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var f=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);Et(y,s.memoizedState)||(tt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,f]}function Ed(i,s,l){var f=ve,m=Qe(),y=be;if(y){if(l===void 0)throw Error(o(407));l=l()}else l=s();var S=!Et((Ne||m).memoizedState,l);S&&(m.memoizedState=l,tt=!0),m=m.queue;var C=bd.bind(null,f,m,i);if(us(2048,8,C,[i]),m.getSnapshot!==s||S||Ke!==null&&Ke.memoizedState.tag&1){if(f.flags|=2048,Qi(9,Dr(),xd.bind(null,f,m,l,s),null),Pe===null)throw Error(o(349));y||(kn&124)!==0||wd(f,s,l)}return l}function wd(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ve.updateQueue,s===null?(s=za(),ve.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function xd(i,s,l,f){s.value=l,s.getSnapshot=f,Ad(s)&&Rd(i)}function bd(i,s,l){return l(function(){Ad(s)&&Rd(i)})}function Ad(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Et(i,l)}catch{return!0}}function Rd(i){var s=Oi(i,2);s!==null&&Mt(s,i,2)}function Ja(i){var s=gt();if(typeof i=="function"){var l=i;if(i=l(),ci){En(!0);try{l()}finally{En(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:i},s}function Md(i,s,l,f){return i.baseState=l,$a(i,Ne,typeof f=="function"?f:an)}function q0(i,s,l,f,m){if(Ur(i))throw Error(o(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};U.T!==null?l(!0):y.isTransition=!1,f(y),l=s.pending,l===null?(y.next=s.pending=y,kd(s,y)):(y.next=l.next,s.pending=l.next=y)}}function kd(i,s){var l=s.action,f=s.payload,m=i.state;if(s.isTransition){var y=U.T,S={};U.T=S;try{var C=l(m,f),b=U.S;b!==null&&b(S,C),Nd(i,s,C)}catch(L){Ya(i,s,L)}finally{U.T=y}}else try{y=l(m,f),Nd(i,s,y)}catch(L){Ya(i,s,L)}}function Nd(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Dd(i,s,f)},function(f){return Ya(i,s,f)}):Dd(i,s,l)}function Dd(i,s,l){s.status="fulfilled",s.value=l,Id(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,kd(i,l)))}function Ya(i,s,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Id(s),s=s.next;while(s!==f)}i.action=null}function Id(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ud(i,s){return s}function Ld(i,s){if(be){var l=Pe.formState;if(l!==null){e:{var f=ve;if(be){if(Ge){t:{for(var m=Ge,y=Yt;m.nodeType!==8;){if(!y){m=null;break t}if(m=Gt(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ge=Gt(m.nextSibling),f=m.data==="F!";break e}}ri(f)}f=!1}f&&(s=l[0])}}return l=gt(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:s},l.queue=f,l=eh.bind(null,ve,f),f.dispatch=l,f=Ja(!1),y=Wa.bind(null,ve,!1,f.queue),f=gt(),m={state:s,dispatch:null,action:i,pending:null},f.queue=m,l=q0.bind(null,ve,m,y,l),m.dispatch=l,f.memoizedState=i,[s,l,!1]}function Pd(i){var s=Qe();return qd(s,Ne,i)}function qd(i,s,l){if(s=$a(i,s,Ud)[0],i=Nr(an)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=as(s)}catch(S){throw S===ns?xr:S}else f=s;s=Qe();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(ve.flags|=2048,Qi(9,Dr(),V0.bind(null,m,l),null)),[f,y,i]}function V0(i,s){i.action=s}function Vd(i){var s=Qe(),l=Ne;if(l!==null)return qd(s,l,i);Qe(),s=s.memoizedState,l=Qe();var f=l.queue.dispatch;return l.memoizedState=i,[s,f,!1]}function Qi(i,s,l,f){return i={tag:i,create:l,deps:f,inst:s,next:null},s=ve.updateQueue,s===null&&(s=za(),ve.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i),i}function Dr(){return{destroy:void 0,resource:void 0}}function Bd(){return Qe().memoizedState}function Ir(i,s,l,f){var m=gt();f=f===void 0?null:f,ve.flags|=i,m.memoizedState=Qi(1|s,Dr(),l,f)}function us(i,s,l,f){var m=Qe();f=f===void 0?null:f;var y=m.memoizedState.inst;Ne!==null&&f!==null&&qa(f,Ne.memoizedState.deps)?m.memoizedState=Qi(s,y,l,f):(ve.flags|=i,m.memoizedState=Qi(1|s,y,l,f))}function Od(i,s){Ir(8390656,8,i,s)}function Hd(i,s){us(2048,8,i,s)}function zd(i,s){return us(4,2,i,s)}function Gd(i,s){return us(4,4,i,s)}function $d(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Fd(i,s,l){l=l!=null?l.concat([i]):null,us(4,4,$d.bind(null,s,i),l)}function Ka(){}function Jd(i,s){var l=Qe();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&qa(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function Yd(i,s){var l=Qe();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&qa(s,f[1]))return f[0];if(f=i(),ci){En(!0);try{i()}finally{En(!1)}}return l.memoizedState=[f,s],f}function Qa(i,s,l){return l===void 0||(kn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=Xh(),ve.lanes|=i,qn|=i,l)}function Kd(i,s,l,f){return Et(l,s)?l:Ji.current!==null?(i=Qa(i,l,f),Et(i,s)||(tt=!0),i):(kn&42)===0?(tt=!0,i.memoizedState=l):(i=Xh(),ve.lanes|=i,qn|=i,s)}function Qd(i,s,l,f,m){var y=$.p;$.p=y!==0&&8>y?y:8;var S=U.T,C={};U.T=C,Wa(i,!1,s,l);try{var b=m(),L=U.S;if(L!==null&&L(C,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=U0(b,f);cs(i,s,H,Rt(i))}else cs(i,s,f,Rt(i))}catch(F){cs(i,s,{then:function(){},status:"rejected",reason:F},Rt())}finally{$.p=y,U.T=S}}function B0(){}function Xa(i,s,l,f){if(i.tag!==5)throw Error(o(476));var m=Xd(i).queue;Qd(i,m,s,Y,l===null?B0:function(){return Zd(i),l(f)})}function Xd(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:Y},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Zd(i){var s=Xd(i).next.queue;cs(i,s,{},Rt())}function Za(){return ct(Rs)}function Wd(){return Qe().memoizedState}function jd(){return Qe().memoizedState}function O0(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Rt();i=Rn(l);var f=Mn(s,i,l);f!==null&&(Mt(f,s,l),os(f,s,l)),s={cache:Aa()},i.payload=s;return}s=s.return}}function H0(i,s,l){var f=Rt();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(i)?th(s,l):(l=ya(i,s,l,f),l!==null&&(Mt(l,i,f),nh(l,s,f)))}function eh(i,s,l){var f=Rt();cs(i,s,l,f)}function cs(i,s,l,f){var m={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ur(i))th(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,C=y(S,l);if(m.hasEagerState=!0,m.eagerState=C,Et(C,S))return yr(i,s,m,0),Pe===null&&gr(),!1}catch{}finally{}if(l=ya(i,s,m,f),l!==null)return Mt(l,i,f),nh(l,s,f),!0}return!1}function Wa(i,s,l,f){if(f={lane:2,revertLane:ku(),action:f,hasEagerState:!1,eagerState:null,next:null},Ur(i)){if(s)throw Error(o(479))}else s=ya(i,l,f,2),s!==null&&Mt(s,i,2)}function Ur(i){var s=i.alternate;return i===ve||s!==null&&s===ve}function th(i,s){Yi=Rr=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function nh(i,s,l){if((l&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,cf(i,l)}}var Lr={readContext:ct,use:kr,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},ih={readContext:ct,use:kr,useCallback:function(i,s){return gt().memoizedState=[i,s===void 0?null:s],i},useContext:ct,useEffect:Od,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ir(4194308,4,$d.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ir(4194308,4,i,s)},useInsertionEffect:function(i,s){Ir(4,2,i,s)},useMemo:function(i,s){var l=gt();s=s===void 0?null:s;var f=i();if(ci){En(!0);try{i()}finally{En(!1)}}return l.memoizedState=[f,s],f},useReducer:function(i,s,l){var f=gt();if(l!==void 0){var m=l(s);if(ci){En(!0);try{l(s)}finally{En(!1)}}}else m=s;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=H0.bind(null,ve,i),[f.memoizedState,i]},useRef:function(i){var s=gt();return i={current:i},s.memoizedState=i},useState:function(i){i=Ja(i);var s=i.queue,l=eh.bind(null,ve,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ka,useDeferredValue:function(i,s){var l=gt();return Qa(l,i,s)},useTransition:function(){var i=Ja(!1);return i=Qd.bind(null,ve,i.queue,!0,!1),gt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var f=ve,m=gt();if(be){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),Pe===null)throw Error(o(349));(Ee&124)!==0||wd(f,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,Od(bd.bind(null,f,y,i),[i]),f.flags|=2048,Qi(9,Dr(),xd.bind(null,f,y,l,s),null),l},useId:function(){var i=gt(),s=Pe.identifierPrefix;if(be){var l=sn,f=on;l=(f&~(1<<32-Ct(f)-1)).toString(32)+l,s=""+s+"R"+l,l=Mr++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=L0++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Za,useFormState:Ld,useActionState:Ld,useOptimistic:function(i){var s=gt();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Wa.bind(null,ve,!0,l),l.dispatch=s,[i,s]},useMemoCache:Ga,useCacheRefresh:function(){return gt().memoizedState=O0.bind(null,ve)}},oh={readContext:ct,use:kr,useCallback:Jd,useContext:ct,useEffect:Hd,useImperativeHandle:Fd,useInsertionEffect:zd,useLayoutEffect:Gd,useMemo:Yd,useReducer:Nr,useRef:Bd,useState:function(){return Nr(an)},useDebugValue:Ka,useDeferredValue:function(i,s){var l=Qe();return Kd(l,Ne.memoizedState,i,s)},useTransition:function(){var i=Nr(an)[0],s=Qe().memoizedState;return[typeof i=="boolean"?i:as(i),s]},useSyncExternalStore:Ed,useId:Wd,useHostTransitionStatus:Za,useFormState:Pd,useActionState:Pd,useOptimistic:function(i,s){var l=Qe();return Md(l,Ne,i,s)},useMemoCache:Ga,useCacheRefresh:jd},z0={readContext:ct,use:kr,useCallback:Jd,useContext:ct,useEffect:Hd,useImperativeHandle:Fd,useInsertionEffect:zd,useLayoutEffect:Gd,useMemo:Yd,useReducer:Fa,useRef:Bd,useState:function(){return Fa(an)},useDebugValue:Ka,useDeferredValue:function(i,s){var l=Qe();return Ne===null?Qa(l,i,s):Kd(l,Ne.memoizedState,i,s)},useTransition:function(){var i=Fa(an)[0],s=Qe().memoizedState;return[typeof i=="boolean"?i:as(i),s]},useSyncExternalStore:Ed,useId:Wd,useHostTransitionStatus:Za,useFormState:Vd,useActionState:Vd,useOptimistic:function(i,s){var l=Qe();return Ne!==null?Md(l,Ne,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Ga,useCacheRefresh:jd},Xi=null,fs=0;function Pr(i){var s=fs;return fs+=1,Xi===null&&(Xi=[]),md(Xi,i,s)}function ds(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function qr(i,s){throw s.$$typeof===T?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function sh(i){var s=i._init;return s(i._payload)}function rh(i){function s(M,R){if(i){var I=M.deletions;I===null?(M.deletions=[R],M.flags|=16):I.push(R)}}function l(M,R){if(!i)return null;for(;R!==null;)s(M,R),R=R.sibling;return null}function f(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function m(M,R){return M=nn(M,R),M.index=0,M.sibling=null,M}function y(M,R,I){return M.index=I,i?(I=M.alternate,I!==null?(I=I.index,I<R?(M.flags|=67108866,R):I):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function S(M){return i&&M.alternate===null&&(M.flags|=67108866),M}function C(M,R,I,G){return R===null||R.tag!==6?(R=Ta(I,M.mode,G),R.return=M,R):(R=m(R,I),R.return=M,R)}function b(M,R,I,G){var te=I.type;return te===x?H(M,R,I.props.children,G,I.key):R!==null&&(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Q&&sh(te)===R.type)?(R=m(R,I.props),ds(R,I),R.return=M,R):(R=Tr(I.type,I.key,I.props,null,M.mode,G),ds(R,I),R.return=M,R)}function L(M,R,I,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=_a(I,M.mode,G),R.return=M,R):(R=m(R,I.children||[]),R.return=M,R)}function H(M,R,I,G,te){return R===null||R.tag!==7?(R=ni(I,M.mode,G,te),R.return=M,R):(R=m(R,I),R.return=M,R)}function F(M,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ta(""+R,M.mode,I),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return I=Tr(R.type,R.key,R.props,null,M.mode,I),ds(I,R),I.return=M,I;case E:return R=_a(R,M.mode,I),R.return=M,R;case Q:var G=R._init;return R=G(R._payload),F(M,R,I)}if(ee(R)||se(R))return R=ni(R,M.mode,I,null),R.return=M,R;if(typeof R.then=="function")return F(M,Pr(R),I);if(R.$$typeof===N)return F(M,Er(M,R),I);qr(M,R)}return null}function P(M,R,I,G){var te=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return te!==null?null:C(M,R,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===te?b(M,R,I,G):null;case E:return I.key===te?L(M,R,I,G):null;case Q:return te=I._init,I=te(I._payload),P(M,R,I,G)}if(ee(I)||se(I))return te!==null?null:H(M,R,I,G,null);if(typeof I.then=="function")return P(M,R,Pr(I),G);if(I.$$typeof===N)return P(M,R,Er(M,I),G);qr(M,I)}return null}function q(M,R,I,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(I)||null,C(R,M,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return M=M.get(G.key===null?I:G.key)||null,b(R,M,G,te);case E:return M=M.get(G.key===null?I:G.key)||null,L(R,M,G,te);case Q:var Te=G._init;return G=Te(G._payload),q(M,R,I,G,te)}if(ee(G)||se(G))return M=M.get(I)||null,H(R,M,G,te,null);if(typeof G.then=="function")return q(M,R,I,Pr(G),te);if(G.$$typeof===N)return q(M,R,I,Er(R,G),te);qr(R,G)}return null}function fe(M,R,I,G){for(var te=null,Te=null,oe=R,ce=R=0,it=null;oe!==null&&ce<I.length;ce++){oe.index>ce?(it=oe,oe=null):it=oe.sibling;var xe=P(M,oe,I[ce],G);if(xe===null){oe===null&&(oe=it);break}i&&oe&&xe.alternate===null&&s(M,oe),R=y(xe,R,ce),Te===null?te=xe:Te.sibling=xe,Te=xe,oe=it}if(ce===I.length)return l(M,oe),be&&oi(M,ce),te;if(oe===null){for(;ce<I.length;ce++)oe=F(M,I[ce],G),oe!==null&&(R=y(oe,R,ce),Te===null?te=oe:Te.sibling=oe,Te=oe);return be&&oi(M,ce),te}for(oe=f(oe);ce<I.length;ce++)it=q(oe,M,ce,I[ce],G),it!==null&&(i&&it.alternate!==null&&oe.delete(it.key===null?ce:it.key),R=y(it,R,ce),Te===null?te=it:Te.sibling=it,Te=it);return i&&oe.forEach(function(Jn){return s(M,Jn)}),be&&oi(M,ce),te}function ae(M,R,I,G){if(I==null)throw Error(o(151));for(var te=null,Te=null,oe=R,ce=R=0,it=null,xe=I.next();oe!==null&&!xe.done;ce++,xe=I.next()){oe.index>ce?(it=oe,oe=null):it=oe.sibling;var Jn=P(M,oe,xe.value,G);if(Jn===null){oe===null&&(oe=it);break}i&&oe&&Jn.alternate===null&&s(M,oe),R=y(Jn,R,ce),Te===null?te=Jn:Te.sibling=Jn,Te=Jn,oe=it}if(xe.done)return l(M,oe),be&&oi(M,ce),te;if(oe===null){for(;!xe.done;ce++,xe=I.next())xe=F(M,xe.value,G),xe!==null&&(R=y(xe,R,ce),Te===null?te=xe:Te.sibling=xe,Te=xe);return be&&oi(M,ce),te}for(oe=f(oe);!xe.done;ce++,xe=I.next())xe=q(oe,M,ce,xe.value,G),xe!==null&&(i&&xe.alternate!==null&&oe.delete(xe.key===null?ce:xe.key),R=y(xe,R,ce),Te===null?te=xe:Te.sibling=xe,Te=xe);return i&&oe.forEach(function(GT){return s(M,GT)}),be&&oi(M,ce),te}function Ie(M,R,I,G){if(typeof I=="object"&&I!==null&&I.type===x&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var te=I.key;R!==null;){if(R.key===te){if(te=I.type,te===x){if(R.tag===7){l(M,R.sibling),G=m(R,I.props.children),G.return=M,M=G;break e}}else if(R.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Q&&sh(te)===R.type){l(M,R.sibling),G=m(R,I.props),ds(G,I),G.return=M,M=G;break e}l(M,R);break}else s(M,R);R=R.sibling}I.type===x?(G=ni(I.props.children,M.mode,G,I.key),G.return=M,M=G):(G=Tr(I.type,I.key,I.props,null,M.mode,G),ds(G,I),G.return=M,M=G)}return S(M);case E:e:{for(te=I.key;R!==null;){if(R.key===te)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){l(M,R.sibling),G=m(R,I.children||[]),G.return=M,M=G;break e}else{l(M,R);break}else s(M,R);R=R.sibling}G=_a(I,M.mode,G),G.return=M,M=G}return S(M);case Q:return te=I._init,I=te(I._payload),Ie(M,R,I,G)}if(ee(I))return fe(M,R,I,G);if(se(I)){if(te=se(I),typeof te!="function")throw Error(o(150));return I=te.call(I),ae(M,R,I,G)}if(typeof I.then=="function")return Ie(M,R,Pr(I),G);if(I.$$typeof===N)return Ie(M,R,Er(M,I),G);qr(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(l(M,R.sibling),G=m(R,I),G.return=M,M=G):(l(M,R),G=Ta(I,M.mode,G),G.return=M,M=G),S(M)):l(M,R)}return function(M,R,I,G){try{fs=0;var te=Ie(M,R,I,G);return Xi=null,te}catch(oe){if(oe===ns||oe===xr)throw oe;var Te=wt(29,oe,null,M.mode);return Te.lanes=G,Te.return=M,Te}finally{}}}var Zi=rh(!0),lh=rh(!1),qt=O(null),Kt=null;function Nn(i){var s=i.alternate;j(Ze,Ze.current&1),j(qt,i),Kt===null&&(s===null||Ji.current!==null||s.memoizedState!==null)&&(Kt=i)}function ah(i){if(i.tag===22){if(j(Ze,Ze.current),j(qt,i),Kt===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Kt=i)}}else Dn()}function Dn(){j(Ze,Ze.current),j(qt,qt.current)}function un(i){W(qt),Kt===i&&(Kt=null),W(Ze)}var Ze=O(0);function Vr(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||zu(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ja(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:v({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var eu={enqueueSetState:function(i,s,l){i=i._reactInternals;var f=Rt(),m=Rn(f);m.payload=s,l!=null&&(m.callback=l),s=Mn(i,m,f),s!==null&&(Mt(s,i,f),os(s,i,f))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=Rt(),m=Rn(f);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Mn(i,m,f),s!==null&&(Mt(s,i,f),os(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Rt(),f=Rn(l);f.tag=2,s!=null&&(f.callback=s),s=Mn(i,f,l),s!==null&&(Mt(s,i,l),os(s,i,l))}};function uh(i,s,l,f,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,S):s.prototype&&s.prototype.isPureReactComponent?!Ko(l,f)||!Ko(m,y):!0}function ch(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&eu.enqueueReplaceState(s,s.state,null)}function fi(i,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(i=i.defaultProps){l===s&&(l=v({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var Br=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function fh(i){Br(i)}function dh(i){console.error(i)}function hh(i){Br(i)}function Or(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function ph(i,s,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tu(i,s,l){return l=Rn(l),l.tag=3,l.payload={element:null},l.callback=function(){Or(i,s)},l}function mh(i){return i=Rn(i),i.tag=3,i}function gh(i,s,l,f){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;i.payload=function(){return m(y)},i.callback=function(){ph(s,l,f)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){ph(s,l,f),typeof m!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function G0(i,s,l,f,m){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&jo(s,l,m,!0),l=qt.current,l!==null){switch(l.tag){case 13:return Kt===null?xu():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=m,f===ka?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Au(i,f,m)),!1;case 22:return l.flags|=65536,f===ka?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Au(i,f,m)),!1}throw Error(o(435,l.tag))}return Au(i,f,m),xu(),!1}if(be)return s=qt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==Ea&&(i=Error(o(422),{cause:f}),Wo(It(i,l)))):(f!==Ea&&(s=Error(o(423),{cause:f}),Wo(It(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=It(f,l),m=tu(i.stateNode,f,m),Ia(i,m),$e!==4&&($e=2)),!1;var y=Error(o(520),{cause:f});if(y=It(y,l),Ts===null?Ts=[y]:Ts.push(y),$e!==4&&($e=2),s===null)return!0;f=It(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=tu(l.stateNode,f,i),Ia(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vn===null||!Vn.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=mh(m),gh(m,i,l,f),Ia(l,m),!1}l=l.return}while(l!==null);return!1}var yh=Error(o(461)),tt=!1;function rt(i,s,l,f){s.child=i===null?lh(s,null,l,f):Zi(s,i.child,l,f)}function vh(i,s,l,f,m){l=l.render;var y=s.ref;if("ref"in f){var S={};for(var C in f)C!=="ref"&&(S[C]=f[C])}else S=f;return ai(s),f=Va(i,s,l,S,y,m),C=Ba(),i!==null&&!tt?(Oa(i,s,m),cn(i,s,m)):(be&&C&&Sa(s),s.flags|=1,rt(i,s,f,m),s.child)}function Th(i,s,l,f,m){if(i===null){var y=l.type;return typeof y=="function"&&!va(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,_h(i,s,y,f,m)):(i=Tr(l.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!uu(i,m)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ko,l(S,f)&&i.ref===s.ref)return cn(i,s,m)}return s.flags|=1,i=nn(y,f),i.ref=s.ref,i.return=s,s.child=i}function _h(i,s,l,f,m){if(i!==null){var y=i.memoizedProps;if(Ko(y,f)&&i.ref===s.ref)if(tt=!1,s.pendingProps=f=y,uu(i,m))(i.flags&131072)!==0&&(tt=!0);else return s.lanes=i.lanes,cn(i,s,m)}return nu(i,s,l,f,m)}function Sh(i,s,l){var f=s.pendingProps,m=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=y!==null?y.baseLanes|l:l,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~f}else s.childLanes=0,s.child=null;return Ch(i,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&wr(s,y!==null?y.cachePool:null),y!==null?_d(s,y):La(),ah(s);else return s.lanes=s.childLanes=536870912,Ch(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(wr(s,y.cachePool),_d(s,y),Dn(),s.memoizedState=null):(i!==null&&wr(s,null),La(),Dn());return rt(i,s,m,l),s.child}function Ch(i,s,l,f){var m=Ma();return m=m===null?null:{parent:Xe._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&wr(s,null),La(),ah(s),i!==null&&jo(i,s,f,!0),null}function Hr(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function nu(i,s,l,f,m){return ai(s),l=Va(i,s,l,f,void 0,m),f=Ba(),i!==null&&!tt?(Oa(i,s,m),cn(i,s,m)):(be&&f&&Sa(s),s.flags|=1,rt(i,s,l,m),s.child)}function Eh(i,s,l,f,m,y){return ai(s),s.updateQueue=null,l=Cd(s,f,l,m),Sd(i),f=Ba(),i!==null&&!tt?(Oa(i,s,y),cn(i,s,y)):(be&&f&&Sa(s),s.flags|=1,rt(i,s,l,y),s.child)}function wh(i,s,l,f,m){if(ai(s),s.stateNode===null){var y=Hi,S=l.contextType;typeof S=="object"&&S!==null&&(y=ct(S)),y=new l(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eu,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Na(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?ct(S):Hi,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ja(s,l,S,f),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&eu.enqueueReplaceState(y,y.state,null),rs(s,f,y,m),ss(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,b=fi(l,C);y.props=b;var L=y.context,H=l.contextType;S=Hi,typeof H=="object"&&H!==null&&(S=ct(H));var F=l.getDerivedStateFromProps;H=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||L!==S)&&ch(s,y,f,S),An=!1;var P=s.memoizedState;y.state=P,rs(s,f,y,m),ss(),L=s.memoizedState,C||P!==L||An?(typeof F=="function"&&(ja(s,l,F,f),L=s.memoizedState),(b=An||uh(s,l,b,f,P,L,S))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=L),y.props=f,y.state=L,y.context=S,f=b):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Da(i,s),S=s.memoizedProps,H=fi(l,S),y.props=H,F=s.pendingProps,P=y.context,L=l.contextType,b=Hi,typeof L=="object"&&L!==null&&(b=ct(L)),C=l.getDerivedStateFromProps,(L=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==F||P!==b)&&ch(s,y,f,b),An=!1,P=s.memoizedState,y.state=P,rs(s,f,y,m),ss();var q=s.memoizedState;S!==F||P!==q||An||i!==null&&i.dependencies!==null&&Cr(i.dependencies)?(typeof C=="function"&&(ja(s,l,C,f),q=s.memoizedState),(H=An||uh(s,l,H,f,P,q,b)||i!==null&&i.dependencies!==null&&Cr(i.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,q,b),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,q,b)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=q),y.props=f,y.state=q,y.context=b,f=H):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&P===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Hr(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=Zi(s,i.child,null,m),s.child=Zi(s,null,l,m)):rt(i,s,l,m),s.memoizedState=y.state,i=s.child):i=cn(i,s,m),i}function xh(i,s,l,f){return Zo(),s.flags|=256,rt(i,s,l,f),s.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(i){return{baseLanes:i,cachePool:dd()}}function su(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Vt),i}function bh(i,s,l){var f=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(Ze.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(be){if(m?Nn(s):Dn(),be){var C=Ge,b;if(b=C){e:{for(b=C,C=Yt;b.nodeType!==8;){if(!C){C=null;break e}if(b=Gt(b.nextSibling),b===null){C=null;break e}}C=b}C!==null?(s.memoizedState={dehydrated:C,treeContext:ii!==null?{id:on,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},b=wt(18,null,null,0),b.stateNode=C,b.return=s,s.child=b,ht=s,Ge=null,b=!0):b=!1}b||ri(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return zu(C)?s.lanes=32:s.lanes=536870912,null;un(s)}return C=f.children,f=f.fallback,m?(Dn(),m=s.mode,C=zr({mode:"hidden",children:C},m),f=ni(f,m,l,null),C.return=s,f.return=s,C.sibling=f,s.child=C,m=s.child,m.memoizedState=ou(l),m.childLanes=su(i,S,l),s.memoizedState=iu,f):(Nn(s),ru(s,C))}if(b=i.memoizedState,b!==null&&(C=b.dehydrated,C!==null)){if(y)s.flags&256?(Nn(s),s.flags&=-257,s=lu(i,s,l)):s.memoizedState!==null?(Dn(),s.child=i.child,s.flags|=128,s=null):(Dn(),m=f.fallback,C=s.mode,f=zr({mode:"visible",children:f.children},C),m=ni(m,C,l,null),m.flags|=2,f.return=s,m.return=s,f.sibling=m,s.child=f,Zi(s,i.child,null,l),f=s.child,f.memoizedState=ou(l),f.childLanes=su(i,S,l),s.memoizedState=iu,s=m);else if(Nn(s),zu(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var L=S.dgst;S=L,f=Error(o(419)),f.stack="",f.digest=S,Wo({value:f,source:null,stack:null}),s=lu(i,s,l)}else if(tt||jo(i,s,l,!1),S=(l&i.childLanes)!==0,tt||S){if(S=Pe,S!==null&&(f=l&-l,f=(f&42)!==0?1:Gl(f),f=(f&(S.suspendedLanes|l))!==0?0:f,f!==0&&f!==b.retryLane))throw b.retryLane=f,Oi(i,f),Mt(S,i,f),yh;C.data==="$?"||xu(),s=lu(i,s,l)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=b.treeContext,Ge=Gt(C.nextSibling),ht=s,be=!0,si=null,Yt=!1,i!==null&&(Lt[Pt++]=on,Lt[Pt++]=sn,Lt[Pt++]=ii,on=i.id,sn=i.overflow,ii=s),s=ru(s,f.children),s.flags|=4096);return s}return m?(Dn(),m=f.fallback,C=s.mode,b=i.child,L=b.sibling,f=nn(b,{mode:"hidden",children:f.children}),f.subtreeFlags=b.subtreeFlags&65011712,L!==null?m=nn(L,m):(m=ni(m,C,l,null),m.flags|=2),m.return=s,f.return=s,f.sibling=m,s.child=f,f=m,m=s.child,C=i.child.memoizedState,C===null?C=ou(l):(b=C.cachePool,b!==null?(L=Xe._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=dd(),C={baseLanes:C.baseLanes|l,cachePool:b}),m.memoizedState=C,m.childLanes=su(i,S,l),s.memoizedState=iu,f):(Nn(s),l=i.child,i=l.sibling,l=nn(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function ru(i,s){return s=zr({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function zr(i,s){return i=wt(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function lu(i,s,l){return Zi(s,i.child,null,l),i=ru(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Ah(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),xa(i.return,s,l)}function au(i,s,l,f,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=m)}function Rh(i,s,l){var f=s.pendingProps,m=f.revealOrder,y=f.tail;if(rt(i,s,f.children,l),f=Ze.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ah(i,l,s);else if(i.tag===19)Ah(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(j(Ze,f),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Vr(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),au(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Vr(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}au(s,!0,l,null,y);break;case"together":au(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cn(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),qn|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(jo(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,l=nn(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=nn(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function uu(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Cr(i)))}function $0(i,s,l){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),bn(s,Xe,i.memoizedState.cache),Zo();break;case 27:case 5:Vl(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:bn(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Nn(s),s.flags|=128,null):(l&s.child.childLanes)!==0?bh(i,s,l):(Nn(s),i=cn(i,s,l),i!==null?i.sibling:null);Nn(s);break;case 19:var m=(i.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(jo(i,s,l,!1),f=(l&s.childLanes)!==0),m){if(f)return Rh(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),j(Ze,Ze.current),f)break;return null;case 22:case 23:return s.lanes=0,Sh(i,s,l);case 24:bn(s,Xe,i.memoizedState.cache)}return cn(i,s,l)}function Mh(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)tt=!0;else{if(!uu(i,l)&&(s.flags&128)===0)return tt=!1,$0(i,s,l);tt=(i.flags&131072)!==0}else tt=!1,be&&(s.flags&1048576)!==0&&sd(s,Sr,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var f=s.elementType,m=f._init;if(f=m(f._payload),s.type=f,typeof f=="function")va(f)?(i=fi(f,i),s.tag=1,s=wh(null,s,f,i,l)):(s.tag=0,s=nu(null,s,f,i,l));else{if(f!=null){if(m=f.$$typeof,m===J){s.tag=11,s=vh(null,s,f,i,l);break e}else if(m===K){s.tag=14,s=Th(null,s,f,i,l);break e}}throw s=he(f)||f,Error(o(306,s,""))}}return s;case 0:return nu(i,s,s.type,s.pendingProps,l);case 1:return f=s.type,m=fi(f,s.pendingProps),wh(i,s,f,m,l);case 3:e:{if(Oe(s,s.stateNode.containerInfo),i===null)throw Error(o(387));f=s.pendingProps;var y=s.memoizedState;m=y.element,Da(i,s),rs(s,f,null,l);var S=s.memoizedState;if(f=S.cache,bn(s,Xe,f),f!==y.cache&&ba(s,[Xe],l,!0),ss(),f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=xh(i,s,f,l);break e}else if(f!==m){m=It(Error(o(424)),s),Wo(m),s=xh(i,s,f,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ge=Gt(i.firstChild),ht=s,be=!0,si=null,Yt=!0,l=lh(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Zo(),f===m){s=cn(i,s,l);break e}rt(i,s,f,l)}s=s.child}return s;case 26:return Hr(i,s),i===null?(l=Ip(s.type,null,s.pendingProps,null))?s.memoizedState=l:be||(l=s.type,i=s.pendingProps,f=nl(me.current).createElement(l),f[ut]=s,f[pt]=i,at(f,l,i),et(f),s.stateNode=f):s.memoizedState=Ip(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Vl(s),i===null&&be&&(f=s.stateNode=kp(s.type,s.pendingProps,me.current),ht=s,Yt=!0,m=Ge,Hn(s.type)?(Gu=m,Ge=Gt(f.firstChild)):Ge=m),rt(i,s,s.pendingProps.children,l),Hr(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&be&&((m=f=Ge)&&(f=vT(f,s.type,s.pendingProps,Yt),f!==null?(s.stateNode=f,ht=s,Ge=Gt(f.firstChild),Yt=!1,m=!0):m=!1),m||ri(s)),Vl(s),m=s.type,y=s.pendingProps,S=i!==null?i.memoizedProps:null,f=y.children,Bu(m,y)?f=null:S!==null&&Bu(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=Va(i,s,P0,null,null,l),Rs._currentValue=m),Hr(i,s),rt(i,s,f,l),s.child;case 6:return i===null&&be&&((i=l=Ge)&&(l=TT(l,s.pendingProps,Yt),l!==null?(s.stateNode=l,ht=s,Ge=null,i=!0):i=!1),i||ri(s)),null;case 13:return bh(i,s,l);case 4:return Oe(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Zi(s,null,f,l):rt(i,s,f,l),s.child;case 11:return vh(i,s,s.type,s.pendingProps,l);case 7:return rt(i,s,s.pendingProps,l),s.child;case 8:return rt(i,s,s.pendingProps.children,l),s.child;case 12:return rt(i,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,bn(s,s.type,f.value),rt(i,s,f.children,l),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,ai(s),m=ct(m),f=f(m),s.flags|=1,rt(i,s,f,l),s.child;case 14:return Th(i,s,s.type,s.pendingProps,l);case 15:return _h(i,s,s.type,s.pendingProps,l);case 19:return Rh(i,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},i===null?(l=zr(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=nn(i.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Sh(i,s,l);case 24:return ai(s),f=ct(Xe),i===null?(m=Ma(),m===null&&(m=Pe,y=Aa(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:f,cache:m},Na(s),bn(s,Xe,m)):((i.lanes&l)!==0&&(Da(i,s),rs(s,null,null,l),ss()),m=i.memoizedState,y=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),bn(s,Xe,f)):(f=y.cache,bn(s,Xe,f),f!==m.cache&&ba(s,[Xe],l,!0))),rt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function fn(i){i.flags|=4}function kh(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vp(s)){if(s=qt.current,s!==null&&((Ee&4194048)===Ee?Kt!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||s!==Kt))throw is=ka,hd;i.flags|=8192}}function Gr(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?af():536870912,i.lanes|=s,to|=s)}function hs(i,s){if(!be)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ze(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function F0(i,s,l){var f=s.pendingProps;switch(Ca(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return l=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ln(Xe),Cn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Xo(s)?fn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),ze(s),null;case 26:return l=s.memoizedState,i===null?(fn(s),l!==null?(ze(s),kh(s,l)):(ze(s),s.flags&=-16777217)):l?l!==i.memoizedState?(fn(s),ze(s),kh(s,l)):(ze(s),s.flags&=-16777217):(i.memoizedProps!==f&&fn(s),ze(s),s.flags&=-16777217),null;case 27:er(s),l=me.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==f&&fn(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ze(s),null}i=le.current,Xo(s)?rd(s):(i=kp(m,f,l),s.stateNode=i,fn(s))}return ze(s),null;case 5:if(er(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&fn(s);else{if(!f){if(s.stateNode===null)throw Error(o(166));return ze(s),null}if(i=le.current,Xo(s))rd(s);else{switch(m=nl(me.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?m.createElement(l,{is:f.is}):m.createElement(l)}}i[ut]=s,i[pt]=f;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(at(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fn(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&fn(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(o(166));if(i=me.current,Xo(s)){if(i=s.stateNode,l=s.memoizedProps,f=null,m=ht,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[ut]=s,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ep(i.nodeValue,l)),i||ri(s)}else i=nl(i).createTextNode(f),i[ut]=s,s.stateNode=i}return ze(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Xo(s),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(o(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[ut]=s}else Zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),m=!1}else m=ad(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(un(s),s):(un(s),null)}if(un(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Gr(s,s.updateQueue),ze(s),null;case 4:return Cn(),i===null&&Uu(s.stateNode.containerInfo),ze(s),null;case 10:return ln(s.type),ze(s),null;case 19:if(W(Ze),m=s.memoizedState,m===null)return ze(s),null;if(f=(s.flags&128)!==0,y=m.rendering,y===null)if(f)hs(m,!1);else{if($e!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Vr(i),y!==null){for(s.flags|=128,hs(m,!1),i=y.updateQueue,s.updateQueue=i,Gr(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)od(l,i),l=l.sibling;return j(Ze,Ze.current&1|2),s.child}i=i.sibling}m.tail!==null&&Jt()>Jr&&(s.flags|=128,f=!0,hs(m,!1),s.lanes=4194304)}else{if(!f)if(i=Vr(y),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Gr(s,i),hs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!be)return ze(s),null}else 2*Jt()-m.renderingStartTime>Jr&&l!==536870912&&(s.flags|=128,f=!0,hs(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Jt(),s.sibling=null,i=Ze.current,j(Ze,f?i&1|2:i&1),s):(ze(s),null);case 22:case 23:return un(s),Pa(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),l=s.updateQueue,l!==null&&Gr(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),i!==null&&W(ui),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ln(Xe),ze(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function J0(i,s){switch(Ca(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ln(Xe),Cn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return er(s),null;case 13:if(un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Zo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(Ze),null;case 4:return Cn(),null;case 10:return ln(s.type),null;case 22:case 23:return un(s),Pa(),i!==null&&W(ui),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ln(Xe),null;case 25:return null;default:return null}}function Nh(i,s){switch(Ca(s),s.tag){case 3:ln(Xe),Cn();break;case 26:case 27:case 5:er(s);break;case 4:Cn();break;case 13:un(s);break;case 19:W(Ze);break;case 10:ln(s.type);break;case 22:case 23:un(s),Pa(),i!==null&&W(ui);break;case 24:ln(Xe)}}function ps(i,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){f=void 0;var y=l.create,S=l.inst;f=y(),S.destroy=f}l=l.next}while(l!==m)}}catch(C){Le(s,s.return,C)}}function In(i,s,l){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&i)===i){var S=f.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,m=s;var b=l,L=C;try{L()}catch(H){Le(m,b,H)}}}f=f.next}while(f!==y)}}catch(H){Le(s,s.return,H)}}function Dh(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Td(s,l)}catch(f){Le(i,i.return,f)}}}function Ih(i,s,l){l.props=fi(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Le(i,s,f)}}function ms(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(m){Le(i,s,m)}}function Qt(i,s){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(m){Le(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Le(i,s,m)}else l.current=null}function Uh(i){var s=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(m){Le(i,i.return,m)}}function cu(i,s,l){try{var f=i.stateNode;hT(f,i.type,l,s),f[pt]=s}catch(m){Le(i,i.return,m)}}function Lh(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hn(i.type)||i.tag===4}function fu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hn(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function du(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=tl));else if(f!==4&&(f===27&&Hn(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(du(i,s,l),i=i.sibling;i!==null;)du(i,s,l),i=i.sibling}function $r(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(f===27&&Hn(i.type)&&(l=i.stateNode),i=i.child,i!==null))for($r(i,s,l),i=i.sibling;i!==null;)$r(i,s,l),i=i.sibling}function Ph(i){var s=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);at(s,f,l),s[ut]=i,s[pt]=l}catch(y){Le(i,i.return,y)}}var dn=!1,Je=!1,hu=!1,qh=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Y0(i,s){if(i=i.containerInfo,qu=al,i=Kf(i),fa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,C=-1,b=-1,L=0,H=0,F=i,P=null;t:for(;;){for(var q;F!==l||m!==0&&F.nodeType!==3||(C=S+m),F!==y||f!==0&&F.nodeType!==3||(b=S+f),F.nodeType===3&&(S+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===i)break t;if(P===l&&++L===m&&(C=S),P===y&&++H===f&&(b=S),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}l=C===-1||b===-1?null:{start:C,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vu={focusedElem:i,selectionRange:l},al=!1,nt=s;nt!==null;)if(s=nt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,nt=i;else for(;nt!==null;){switch(s=nt,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var fe=fi(l.type,m,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(fe,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(ae){Le(l,l.return,ae)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Hu(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hu(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=s.sibling,i!==null){i.return=s.return,nt=i;break}nt=s.return}}function Vh(i,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Un(i,l),f&4&&ps(5,l);break;case 1:if(Un(i,l),f&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){Le(l,l.return,S)}else{var m=fi(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Le(l,l.return,S)}}f&64&&Dh(l),f&512&&ms(l,l.return);break;case 3:if(Un(i,l),f&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Td(i,s)}catch(S){Le(l,l.return,S)}}break;case 27:s===null&&f&4&&Ph(l);case 26:case 5:Un(i,l),s===null&&f&4&&Uh(l),f&512&&ms(l,l.return);break;case 12:Un(i,l);break;case 13:Un(i,l),f&4&&Hh(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=nT.bind(null,l),_T(i,l))));break;case 22:if(f=l.memoizedState!==null||dn,!f){s=s!==null&&s.memoizedState!==null||Je,m=dn;var y=Je;dn=f,(Je=s)&&!y?Ln(i,l,(l.subtreeFlags&8772)!==0):Un(i,l),dn=m,Je=y}break;case 30:break;default:Un(i,l)}}function Bh(i){var s=i.alternate;s!==null&&(i.alternate=null,Bh(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Jl(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var He=null,yt=!1;function hn(i,s,l){for(l=l.child;l!==null;)Oh(i,s,l),l=l.sibling}function Oh(i,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Po,l)}catch{}switch(l.tag){case 26:Je||Qt(l,s),hn(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Je||Qt(l,s);var f=He,m=yt;Hn(l.type)&&(He=l.stateNode,yt=!1),hn(i,s,l),ws(l.stateNode),He=f,yt=m;break;case 5:Je||Qt(l,s);case 6:if(f=He,m=yt,He=null,hn(i,s,l),He=f,yt=m,He!==null)if(yt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(y){Le(l,s,y)}else try{He.removeChild(l.stateNode)}catch(y){Le(l,s,y)}break;case 18:He!==null&&(yt?(i=He,Rp(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ds(i)):Rp(He,l.stateNode));break;case 4:f=He,m=yt,He=l.stateNode.containerInfo,yt=!0,hn(i,s,l),He=f,yt=m;break;case 0:case 11:case 14:case 15:Je||In(2,l,s),Je||In(4,l,s),hn(i,s,l);break;case 1:Je||(Qt(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Ih(l,s,f)),hn(i,s,l);break;case 21:hn(i,s,l);break;case 22:Je=(f=Je)||l.memoizedState!==null,hn(i,s,l),Je=f;break;default:hn(i,s,l)}}function Hh(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ds(i)}catch(l){Le(s,s.return,l)}}function K0(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new qh),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new qh),s;default:throw Error(o(435,i.tag))}}function pu(i,s){var l=K0(i);s.forEach(function(f){var m=iT.bind(null,i,f);l.has(f)||(l.add(f),f.then(m,m))})}function xt(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var m=l[f],y=i,S=s,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Hn(C.type)){He=C.stateNode,yt=!1;break e}break;case 5:He=C.stateNode,yt=!1;break e;case 3:case 4:He=C.stateNode.containerInfo,yt=!0;break e}C=C.return}if(He===null)throw Error(o(160));Oh(y,S,m),He=null,yt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)zh(s,i),s=s.sibling}var zt=null;function zh(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xt(s,i),bt(i),f&4&&(In(3,i,i.return),ps(3,i),In(5,i,i.return));break;case 1:xt(s,i),bt(i),f&512&&(Je||l===null||Qt(l,l.return)),f&64&&dn&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var m=zt;if(xt(s,i),bt(i),f&512&&(Je||l===null||Qt(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Bo]||y[ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),at(y,f,l),y[ut]=i,et(y),f=y;break e;case"link":var S=Pp("link","href",m).get(f+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(y=S[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break t}}y=m.createElement(f),at(y,f,l),m.head.appendChild(y);break;case"meta":if(S=Pp("meta","content",m).get(f+(l.content||""))){for(C=0;C<S.length;C++)if(y=S[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break t}}y=m.createElement(f),at(y,f,l),m.head.appendChild(y);break;default:throw Error(o(468,f))}y[ut]=i,et(y),f=y}i.stateNode=f}else qp(m,i.type,i.stateNode);else i.stateNode=Lp(m,f,i.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?qp(m,i.type,i.stateNode):Lp(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&cu(i,i.memoizedProps,l.memoizedProps)}break;case 27:xt(s,i),bt(i),f&512&&(Je||l===null||Qt(l,l.return)),l!==null&&f&4&&cu(i,i.memoizedProps,l.memoizedProps);break;case 5:if(xt(s,i),bt(i),f&512&&(Je||l===null||Qt(l,l.return)),i.flags&32){m=i.stateNode;try{Ii(m,"")}catch(q){Le(i,i.return,q)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,cu(i,m,l!==null?l.memoizedProps:m)),f&1024&&(hu=!0);break;case 6:if(xt(s,i),bt(i),f&4){if(i.stateNode===null)throw Error(o(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(q){Le(i,i.return,q)}}break;case 3:if(sl=null,m=zt,zt=il(s.containerInfo),xt(s,i),zt=m,bt(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Ds(s.containerInfo)}catch(q){Le(i,i.return,q)}hu&&(hu=!1,Gh(i));break;case 4:f=zt,zt=il(i.stateNode.containerInfo),xt(s,i),bt(i),zt=f;break;case 12:xt(s,i),bt(i);break;case 13:xt(s,i),bt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_u=Jt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,pu(i,f)));break;case 22:m=i.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,L=dn,H=Je;if(dn=L||m,Je=H||b,xt(s,i),Je=H,dn=L,bt(i),f&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||b||dn||Je||di(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){b=l=s;try{if(y=b.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=b.stateNode;var F=b.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(q){Le(b,b.return,q)}}}else if(s.tag===6){if(l===null){b=s;try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(q){Le(b,b.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,pu(i,l))));break;case 19:xt(s,i),bt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,pu(i,f)));break;case 30:break;case 21:break;default:xt(s,i),bt(i)}}function bt(i){var s=i.flags;if(s&2){try{for(var l,f=i.return;f!==null;){if(Lh(f)){l=f;break}f=f.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var m=l.stateNode,y=fu(i);$r(i,y,m);break;case 5:var S=l.stateNode;l.flags&32&&(Ii(S,""),l.flags&=-33);var C=fu(i);$r(i,C,S);break;case 3:case 4:var b=l.stateNode.containerInfo,L=fu(i);du(i,L,b);break;default:throw Error(o(161))}}catch(H){Le(i,i.return,H)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Gh(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Gh(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Un(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vh(i,s.alternate,s),s=s.sibling}function di(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:In(4,s,s.return),di(s);break;case 1:Qt(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Ih(s,s.return,l),di(s);break;case 27:ws(s.stateNode);case 26:case 5:Qt(s,s.return),di(s);break;case 22:s.memoizedState===null&&di(s);break;case 30:di(s);break;default:di(s)}i=i.sibling}}function Ln(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=i,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ln(m,y,l),ps(4,y);break;case 1:if(Ln(m,y,l),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Le(f,f.return,L)}if(f=y,m=f.updateQueue,m!==null){var C=f.stateNode;try{var b=m.shared.hiddenCallbacks;if(b!==null)for(m.shared.hiddenCallbacks=null,m=0;m<b.length;m++)vd(b[m],C)}catch(L){Le(f,f.return,L)}}l&&S&64&&Dh(y),ms(y,y.return);break;case 27:Ph(y);case 26:case 5:Ln(m,y,l),l&&f===null&&S&4&&Uh(y),ms(y,y.return);break;case 12:Ln(m,y,l);break;case 13:Ln(m,y,l),l&&S&4&&Hh(m,y);break;case 22:y.memoizedState===null&&Ln(m,y,l),ms(y,y.return);break;case 30:break;default:Ln(m,y,l)}s=s.sibling}}function mu(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&es(l))}function gu(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&es(i))}function Xt(i,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$h(i,s,l,f),s=s.sibling}function $h(i,s,l,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(i,s,l,f),m&2048&&ps(9,s);break;case 1:Xt(i,s,l,f);break;case 3:Xt(i,s,l,f),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&es(i)));break;case 12:if(m&2048){Xt(i,s,l,f),i=s.stateNode;try{var y=s.memoizedProps,S=y.id,C=y.onPostCommit;typeof C=="function"&&C(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(b){Le(s,s.return,b)}}else Xt(i,s,l,f);break;case 13:Xt(i,s,l,f);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?Xt(i,s,l,f):gs(i,s):y._visibility&2?Xt(i,s,l,f):(y._visibility|=2,Wi(i,s,l,f,(s.subtreeFlags&10256)!==0)),m&2048&&mu(S,s);break;case 24:Xt(i,s,l,f),m&2048&&gu(s.alternate,s);break;default:Xt(i,s,l,f)}}function Wi(i,s,l,f,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,S=s,C=l,b=f,L=S.flags;switch(S.tag){case 0:case 11:case 15:Wi(y,S,C,b,m),ps(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?Wi(y,S,C,b,m):gs(y,S):(H._visibility|=2,Wi(y,S,C,b,m)),m&&L&2048&&mu(S.alternate,S);break;case 24:Wi(y,S,C,b,m),m&&L&2048&&gu(S.alternate,S);break;default:Wi(y,S,C,b,m)}s=s.sibling}}function gs(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,f=s,m=f.flags;switch(f.tag){case 22:gs(l,f),m&2048&&mu(f.alternate,f);break;case 24:gs(l,f),m&2048&&gu(f.alternate,f);break;default:gs(l,f)}s=s.sibling}}var ys=8192;function ji(i){if(i.subtreeFlags&ys)for(i=i.child;i!==null;)Fh(i),i=i.sibling}function Fh(i){switch(i.tag){case 26:ji(i),i.flags&ys&&i.memoizedState!==null&&IT(zt,i.memoizedState,i.memoizedProps);break;case 5:ji(i);break;case 3:case 4:var s=zt;zt=il(i.stateNode.containerInfo),ji(i),zt=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ys,ys=16777216,ji(i),ys=s):ji(i));break;default:ji(i)}}function Jh(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function vs(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];nt=f,Kh(f,i)}Jh(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yh(i),i=i.sibling}function Yh(i){switch(i.tag){case 0:case 11:case 15:vs(i),i.flags&2048&&In(9,i,i.return);break;case 3:vs(i);break;case 12:vs(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Fr(i)):vs(i);break;default:vs(i)}}function Fr(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];nt=f,Kh(f,i)}Jh(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:In(8,s,s.return),Fr(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Fr(s));break;default:Fr(s)}i=i.sibling}}function Kh(i,s){for(;nt!==null;){var l=nt;switch(l.tag){case 0:case 11:case 15:In(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:es(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,nt=f;else e:for(l=i;nt!==null;){f=nt;var m=f.sibling,y=f.return;if(Bh(f),f===l){nt=null;break e}if(m!==null){m.return=y,nt=m;break e}nt=y}}}var Q0={getCacheForType:function(i){var s=ct(Xe),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},X0=typeof WeakMap=="function"?WeakMap:Map,Re=0,Pe=null,_e=null,Ee=0,Me=0,At=null,Pn=!1,eo=!1,yu=!1,pn=0,$e=0,qn=0,hi=0,vu=0,Vt=0,to=0,Ts=null,vt=null,Tu=!1,_u=0,Jr=1/0,Yr=null,Vn=null,lt=0,Bn=null,no=null,io=0,Su=0,Cu=null,Qh=null,_s=0,Eu=null;function Rt(){if((Re&2)!==0&&Ee!==0)return Ee&-Ee;if(U.T!==null){var i=$i;return i!==0?i:ku()}return ff()}function Xh(){Vt===0&&(Vt=(Ee&536870912)===0||be?lf():536870912);var i=qt.current;return i!==null&&(i.flags|=32),Vt}function Mt(i,s,l){(i===Pe&&(Me===2||Me===9)||i.cancelPendingCommit!==null)&&(oo(i,0),On(i,Ee,Vt,!1)),Vo(i,l),((Re&2)===0||i!==Pe)&&(i===Pe&&((Re&2)===0&&(hi|=l),$e===4&&On(i,Ee,Vt,!1)),Zt(i))}function Zh(i,s,l){if((Re&6)!==0)throw Error(o(327));var f=!l&&(s&124)===0&&(s&i.expiredLanes)===0||qo(i,s),m=f?j0(i,s):bu(i,s,!0),y=f;do{if(m===0){eo&&!f&&On(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!Z0(l)){m=bu(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var C=i;m=Ts;var b=C.current.memoizedState.isDehydrated;if(b&&(oo(C,S).flags|=256),S=bu(C,S,!1),S!==2){if(yu&&!b){C.errorRecoveryDisabledLanes|=y,hi|=y,m=4;break e}y=vt,vt=m,y!==null&&(vt===null?vt=y:vt.push.apply(vt,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){oo(i,0),On(i,s,0,!0);break}e:{switch(f=i,y=m,y){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:On(f,s,Vt,!Pn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(m=_u+300-Jt(),10<m)){if(On(f,s,Vt,!Pn),or(f,0,!0)!==0)break e;f.timeoutHandle=bp(Wh.bind(null,f,l,vt,Yr,Tu,s,Vt,hi,to,Pn,y,2,-0,0),m);break e}Wh(f,l,vt,Yr,Tu,s,Vt,hi,to,Pn,y,0,-0,0)}}break}while(!0);Zt(i)}function Wh(i,s,l,f,m,y,S,C,b,L,H,F,P,q){if(i.timeoutHandle=-1,F=s.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:DT},Fh(s),F=UT(),F!==null)){i.cancelPendingCommit=F(sp.bind(null,i,s,y,l,f,m,S,C,b,H,1,P,q)),On(i,y,S,!L);return}sp(i,s,y,l,f,m,S,C,b)}function Z0(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var m=l[f],y=m.getSnapshot;m=m.value;try{if(!Et(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function On(i,s,l,f){s&=~vu,s&=~hi,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var m=s;0<m;){var y=31-Ct(m),S=1<<y;f[y]=-1,m&=~S}l!==0&&uf(i,l,s)}function Kr(){return(Re&6)===0?(Ss(0),!1):!0}function wu(){if(_e!==null){if(Me===0)var i=_e.return;else i=_e,rn=li=null,Ha(i),Xi=null,fs=0,i=_e;for(;i!==null;)Nh(i.alternate,i),i=i.return;_e=null}}function oo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,mT(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),wu(),Pe=i,_e=l=nn(i.current,null),Ee=s,Me=0,At=null,Pn=!1,eo=qo(i,s),yu=!1,to=Vt=vu=hi=qn=$e=0,vt=Ts=null,Tu=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var m=31-Ct(f),y=1<<m;s|=i[m],f&=~y}return pn=s,gr(),l}function jh(i,s){ve=null,U.H=Lr,s===ns||s===xr?(s=gd(),Me=3):s===hd?(s=gd(),Me=4):Me=s===yh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,At=s,_e===null&&($e=1,Or(i,It(s,i.current)))}function ep(){var i=U.H;return U.H=Lr,i===null?Lr:i}function tp(){var i=U.A;return U.A=Q0,i}function xu(){$e=4,Pn||(Ee&4194048)!==Ee&&qt.current!==null||(eo=!0),(qn&134217727)===0&&(hi&134217727)===0||Pe===null||On(Pe,Ee,Vt,!1)}function bu(i,s,l){var f=Re;Re|=2;var m=ep(),y=tp();(Pe!==i||Ee!==s)&&(Yr=null,oo(i,s)),s=!1;var S=$e;e:do try{if(Me!==0&&_e!==null){var C=_e,b=At;switch(Me){case 8:wu(),S=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(s=!0);var L=Me;if(Me=0,At=null,so(i,C,b,L),l&&eo){S=0;break e}break;default:L=Me,Me=0,At=null,so(i,C,b,L)}}W0(),S=$e;break}catch(H){jh(i,H)}while(!0);return s&&i.shellSuspendCounter++,rn=li=null,Re=f,U.H=m,U.A=y,_e===null&&(Pe=null,Ee=0,gr()),S}function W0(){for(;_e!==null;)np(_e)}function j0(i,s){var l=Re;Re|=2;var f=ep(),m=tp();Pe!==i||Ee!==s?(Yr=null,Jr=Jt()+500,oo(i,s)):eo=qo(i,s);e:do try{if(Me!==0&&_e!==null){s=_e;var y=At;t:switch(Me){case 1:Me=0,At=null,so(i,s,y,1);break;case 2:case 9:if(pd(y)){Me=0,At=null,ip(s);break}s=function(){Me!==2&&Me!==9||Pe!==i||(Me=7),Zt(i)},y.then(s,s);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:pd(y)?(Me=0,At=null,ip(s)):(Me=0,At=null,so(i,s,y,7));break;case 5:var S=null;switch(_e.tag){case 26:S=_e.memoizedState;case 5:case 27:var C=_e;if(!S||Vp(S)){Me=0,At=null;var b=C.sibling;if(b!==null)_e=b;else{var L=C.return;L!==null?(_e=L,Qr(L)):_e=null}break t}}Me=0,At=null,so(i,s,y,5);break;case 6:Me=0,At=null,so(i,s,y,6);break;case 8:wu(),$e=6;break e;default:throw Error(o(462))}}eT();break}catch(H){jh(i,H)}while(!0);return rn=li=null,U.H=f,U.A=m,Re=l,_e!==null?0:(Pe=null,Ee=0,gr(),$e)}function eT(){for(;_e!==null&&!Cv();)np(_e)}function np(i){var s=Mh(i.alternate,i,pn);i.memoizedProps=i.pendingProps,s===null?Qr(i):_e=s}function ip(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Eh(l,s,s.pendingProps,s.type,void 0,Ee);break;case 11:s=Eh(l,s,s.pendingProps,s.type.render,s.ref,Ee);break;case 5:Ha(s);default:Nh(l,s),s=_e=od(s,pn),s=Mh(l,s,pn)}i.memoizedProps=i.pendingProps,s===null?Qr(i):_e=s}function so(i,s,l,f){rn=li=null,Ha(s),Xi=null,fs=0;var m=s.return;try{if(G0(i,m,s,l,Ee)){$e=1,Or(i,It(l,i.current)),_e=null;return}}catch(y){if(m!==null)throw _e=m,y;$e=1,Or(i,It(l,i.current)),_e=null;return}s.flags&32768?(be||f===1?i=!0:eo||(Ee&536870912)!==0?i=!1:(Pn=i=!0,(f===2||f===9||f===3||f===6)&&(f=qt.current,f!==null&&f.tag===13&&(f.flags|=16384))),op(s,i)):Qr(s)}function Qr(i){var s=i;do{if((s.flags&32768)!==0){op(s,Pn);return}i=s.return;var l=F0(s.alternate,s,pn);if(l!==null){_e=l;return}if(s=s.sibling,s!==null){_e=s;return}_e=s=i}while(s!==null);$e===0&&($e=5)}function op(i,s){do{var l=J0(i.alternate,i);if(l!==null){l.flags&=32767,_e=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){_e=i;return}_e=i=l}while(i!==null);$e=6,_e=null}function sp(i,s,l,f,m,y,S,C,b){i.cancelPendingCommit=null;do Xr();while(lt!==0);if((Re&6)!==0)throw Error(o(327));if(s!==null){if(s===i.current)throw Error(o(177));if(y=s.lanes|s.childLanes,y|=ga,Dv(i,l,y,S,C,b),i===Pe&&(_e=Pe=null,Ee=0),no=s,Bn=i,io=l,Su=y,Cu=m,Qh=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oT(tr,function(){return cp(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,m=$.p,$.p=2,S=Re,Re|=4;try{Y0(i,s,l)}finally{Re=S,$.p=m,U.T=f}}lt=1,rp(),lp(),ap()}}function rp(){if(lt===1){lt=0;var i=Bn,s=no,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var f=$.p;$.p=2;var m=Re;Re|=4;try{zh(s,i);var y=Vu,S=Kf(i.containerInfo),C=y.focusedElem,b=y.selectionRange;if(S!==C&&C&&C.ownerDocument&&Yf(C.ownerDocument.documentElement,C)){if(b!==null&&fa(C)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in C)C.selectionStart=L,C.selectionEnd=Math.min(H,C.value.length);else{var F=C.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var q=P.getSelection(),fe=C.textContent.length,ae=Math.min(b.start,fe),Ie=b.end===void 0?ae:Math.min(b.end,fe);!q.extend&&ae>Ie&&(S=Ie,Ie=ae,ae=S);var M=Jf(C,ae),R=Jf(C,Ie);if(M&&R&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var I=F.createRange();I.setStart(M.node,M.offset),q.removeAllRanges(),ae>Ie?(q.addRange(I),q.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),q.addRange(I))}}}}for(F=[],q=C;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var G=F[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}al=!!qu,Vu=qu=null}finally{Re=m,$.p=f,U.T=l}}i.current=s,lt=2}}function lp(){if(lt===2){lt=0;var i=Bn,s=no,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var f=$.p;$.p=2;var m=Re;Re|=4;try{Vh(i,s.alternate,s)}finally{Re=m,$.p=f,U.T=l}}lt=3}}function ap(){if(lt===4||lt===3){lt=0,Ev();var i=Bn,s=no,l=io,f=Qh;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?lt=5:(lt=0,no=Bn=null,up(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Vn=null),$l(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Po,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=U.T,m=$.p,$.p=2,U.T=null;try{for(var y=i.onRecoverableError,S=0;S<f.length;S++){var C=f[S];y(C.value,{componentStack:C.stack})}}finally{U.T=s,$.p=m}}(io&3)!==0&&Xr(),Zt(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Eu?_s++:(_s=0,Eu=i):_s=0,Ss(0)}}function up(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,es(s)))}function Xr(i){return rp(),lp(),ap(),cp()}function cp(){if(lt!==5)return!1;var i=Bn,s=Su;Su=0;var l=$l(io),f=U.T,m=$.p;try{$.p=32>l?32:l,U.T=null,l=Cu,Cu=null;var y=Bn,S=io;if(lt=0,no=Bn=null,io=0,(Re&6)!==0)throw Error(o(331));var C=Re;if(Re|=4,Yh(y.current),$h(y,y.current,S,l),Re=C,Ss(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Po,y)}catch{}return!0}finally{$.p=m,U.T=f,up(i,s)}}function fp(i,s,l){s=It(l,s),s=tu(i.stateNode,s,2),i=Mn(i,s,2),i!==null&&(Vo(i,2),Zt(i))}function Le(i,s,l){if(i.tag===3)fp(i,i,l);else for(;s!==null;){if(s.tag===3){fp(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vn===null||!Vn.has(f))){i=It(l,i),l=mh(2),f=Mn(s,l,2),f!==null&&(gh(l,f,s,i),Vo(f,2),Zt(f));break}}s=s.return}}function Au(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new X0;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(l)||(yu=!0,m.add(l),i=tT.bind(null,i,s,l),s.then(i,i))}function tT(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Pe===i&&(Ee&l)===l&&($e===4||$e===3&&(Ee&62914560)===Ee&&300>Jt()-_u?(Re&2)===0&&oo(i,0):vu|=l,to===Ee&&(to=0)),Zt(i)}function dp(i,s){s===0&&(s=af()),i=Oi(i,s),i!==null&&(Vo(i,s),Zt(i))}function nT(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),dp(i,l)}function iT(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(s),dp(i,l)}function oT(i,s){return Ol(i,s)}var Zr=null,ro=null,Ru=!1,Wr=!1,Mu=!1,pi=0;function Zt(i){i!==ro&&i.next===null&&(ro===null?Zr=ro=i:ro=ro.next=i),Wr=!0,Ru||(Ru=!0,rT())}function Ss(i,s){if(!Mu&&Wr){Mu=!0;do for(var l=!1,f=Zr;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var S=f.suspendedLanes,C=f.pingedLanes;y=(1<<31-Ct(42|i)+1)-1,y&=m&~(S&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,gp(f,y))}else y=Ee,y=or(f,f===Pe?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||qo(f,y)||(l=!0,gp(f,y));f=f.next}while(l);Mu=!1}}function sT(){hp()}function hp(){Wr=Ru=!1;var i=0;pi!==0&&(pT()&&(i=pi),pi=0);for(var s=Jt(),l=null,f=Zr;f!==null;){var m=f.next,y=pp(f,s);y===0?(f.next=null,l===null?Zr=m:l.next=m,m===null&&(ro=l)):(l=f,(i!==0||(y&3)!==0)&&(Wr=!0)),f=m}Ss(i)}function pp(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Ct(y),C=1<<S,b=m[S];b===-1?((C&l)===0||(C&f)!==0)&&(m[S]=Nv(C,s)):b<=s&&(i.expiredLanes|=C),y&=~C}if(s=Pe,l=Ee,l=or(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===s&&(Me===2||Me===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Hl(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||qo(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(f!==null&&Hl(f),$l(l)){case 2:case 8:l=sf;break;case 32:l=tr;break;case 268435456:l=rf;break;default:l=tr}return f=mp.bind(null,i),l=Ol(l,f),i.callbackPriority=s,i.callbackNode=l,s}return f!==null&&f!==null&&Hl(f),i.callbackPriority=2,i.callbackNode=null,2}function mp(i,s){if(lt!==0&&lt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Xr()&&i.callbackNode!==l)return null;var f=Ee;return f=or(i,i===Pe?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Zh(i,f,s),pp(i,Jt()),i.callbackNode!=null&&i.callbackNode===l?mp.bind(null,i):null)}function gp(i,s){if(Xr())return null;Zh(i,s,!0)}function rT(){gT(function(){(Re&6)!==0?Ol(of,sT):hp()})}function ku(){return pi===0&&(pi=lf()),pi}function yp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ur(""+i)}function vp(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function lT(i,s,l,f,m){if(s==="submit"&&l&&l.stateNode===m){var y=yp((m[pt]||null).action),S=f.submitter;S&&(s=(s=S[pt]||null)?yp(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var C=new hr("action","action",null,f,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(pi!==0){var b=S?vp(m,S):new FormData(m);Xa(l,{pending:!0,data:b,method:m.method,action:y},null,b)}}else typeof y=="function"&&(C.preventDefault(),b=S?vp(m,S):new FormData(m),Xa(l,{pending:!0,data:b,method:m.method,action:y},y,b))},currentTarget:m}]})}}for(var Nu=0;Nu<ma.length;Nu++){var Du=ma[Nu],aT=Du.toLowerCase(),uT=Du[0].toUpperCase()+Du.slice(1);Ht(aT,"on"+uT)}Ht(Zf,"onAnimationEnd"),Ht(Wf,"onAnimationIteration"),Ht(jf,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(b0,"onTransitionRun"),Ht(A0,"onTransitionStart"),Ht(R0,"onTransitionCancel"),Ht(ed,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function Tp(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],m=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var S=f.length-1;0<=S;S--){var C=f[S],b=C.instance,L=C.currentTarget;if(C=C.listener,b!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=L;try{y(m)}catch(H){Br(H)}m.currentTarget=null,y=b}else for(S=0;S<f.length;S++){if(C=f[S],b=C.instance,L=C.currentTarget,C=C.listener,b!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=L;try{y(m)}catch(H){Br(H)}m.currentTarget=null,y=b}}}}function Se(i,s){var l=s[Fl];l===void 0&&(l=s[Fl]=new Set);var f=i+"__bubble";l.has(f)||(_p(s,i,2,!1),l.add(f))}function Iu(i,s,l){var f=0;s&&(f|=4),_p(l,i,f,s)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Uu(i){if(!i[jr]){i[jr]=!0,hf.forEach(function(l){l!=="selectionchange"&&(cT.has(l)||Iu(l,!1,i),Iu(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[jr]||(s[jr]=!0,Iu("selectionchange",!1,s))}}function _p(i,s,l,f){switch($p(s)){case 2:var m=qT;break;case 8:m=VT;break;default:m=Ku}l=m.bind(null,s,l,i),m=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Lu(i,s,l,f,m){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var C=f.stateNode.containerInfo;if(C===m)break;if(S===4)for(S=f.return;S!==null;){var b=S.tag;if((b===3||b===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;C!==null;){if(S=Ai(C),S===null)return;if(b=S.tag,b===5||b===6||b===26||b===27){f=y=S;continue e}C=C.parentNode}}f=f.return}Af(function(){var L=y,H=ea(l),F=[];e:{var P=td.get(i);if(P!==void 0){var q=hr,fe=i;switch(i){case"keypress":if(fr(l)===0)break e;case"keydown":case"keyup":q=o0;break;case"focusin":fe="focus",q=ra;break;case"focusout":fe="blur",q=ra;break;case"beforeblur":case"afterblur":q=ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=l0;break;case Zf:case Wf:case jf:q=Qv;break;case ed:q=u0;break;case"scroll":case"scrollend":q=$v;break;case"wheel":q=f0;break;case"copy":case"cut":case"paste":q=Zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Df;break;case"toggle":case"beforetoggle":q=h0}var ae=(s&4)!==0,Ie=!ae&&(i==="scroll"||i==="scrollend"),M=ae?P!==null?P+"Capture":null:P;ae=[];for(var R=L,I;R!==null;){var G=R;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||M===null||(G=Ho(R,M),G!=null&&ae.push(Es(R,G,I))),Ie)break;R=R.return}0<ae.length&&(P=new q(P,fe,null,l,H),F.push({event:P,listeners:ae}))}}if((s&7)===0){e:{if(P=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",P&&l!==jl&&(fe=l.relatedTarget||l.fromElement)&&(Ai(fe)||fe[bi]))break e;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(fe=l.relatedTarget||l.toElement,q=L,fe=fe?Ai(fe):null,fe!==null&&(Ie=u(fe),ae=fe.tag,fe!==Ie||ae!==5&&ae!==27&&ae!==6)&&(fe=null)):(q=null,fe=L),q!==fe)){if(ae=kf,G="onMouseLeave",M="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ae=Df,G="onPointerLeave",M="onPointerEnter",R="pointer"),Ie=q==null?P:Oo(q),I=fe==null?P:Oo(fe),P=new ae(G,R+"leave",q,l,H),P.target=Ie,P.relatedTarget=I,G=null,Ai(H)===L&&(ae=new ae(M,R+"enter",fe,l,H),ae.target=I,ae.relatedTarget=Ie,G=ae),Ie=G,q&&fe)t:{for(ae=q,M=fe,R=0,I=ae;I;I=lo(I))R++;for(I=0,G=M;G;G=lo(G))I++;for(;0<R-I;)ae=lo(ae),R--;for(;0<I-R;)M=lo(M),I--;for(;R--;){if(ae===M||M!==null&&ae===M.alternate)break t;ae=lo(ae),M=lo(M)}ae=null}else ae=null;q!==null&&Sp(F,P,q,ae,!1),fe!==null&&Ie!==null&&Sp(F,Ie,fe,ae,!0)}}e:{if(P=L?Oo(L):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var te=Of;else if(Vf(P))if(Hf)te=E0;else{te=S0;var Te=_0}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&Wl(L.elementType)&&(te=Of):te=C0;if(te&&(te=te(i,L))){Bf(F,te,l,H);break e}Te&&Te(i,P,L),i==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Zl(P,"number",P.value)}switch(Te=L?Oo(L):window,i){case"focusin":(Vf(Te)||Te.contentEditable==="true")&&(qi=Te,da=L,Qo=null);break;case"focusout":Qo=da=qi=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Qf(F,l,H);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":Qf(F,l,H)}var oe;if(aa)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Pi?Pf(i,l)&&(ce="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(If&&l.locale!=="ko"&&(Pi||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Pi&&(oe=Rf()):(xn=H,ia="value"in xn?xn.value:xn.textContent,Pi=!0)),Te=el(L,ce),0<Te.length&&(ce=new Nf(ce,i,null,l,H),F.push({event:ce,listeners:Te}),oe?ce.data=oe:(oe=qf(l),oe!==null&&(ce.data=oe)))),(oe=m0?g0(i,l):y0(i,l))&&(ce=el(L,"onBeforeInput"),0<ce.length&&(Te=new Nf("onBeforeInput","beforeinput",null,l,H),F.push({event:Te,listeners:ce}),Te.data=oe)),lT(F,i,L,l,H)}Tp(F,s)})}function Es(i,s,l){return{instance:i,listener:s,currentTarget:l}}function el(i,s){for(var l=s+"Capture",f=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ho(i,l),m!=null&&f.unshift(Es(i,m,y)),m=Ho(i,s),m!=null&&f.push(Es(i,m,y))),i.tag===3)return f;i=i.return}return[]}function lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Sp(i,s,l,f,m){for(var y=s._reactName,S=[];l!==null&&l!==f;){var C=l,b=C.alternate,L=C.stateNode;if(C=C.tag,b!==null&&b===f)break;C!==5&&C!==26&&C!==27||L===null||(b=L,m?(L=Ho(l,y),L!=null&&S.unshift(Es(l,L,b))):m||(L=Ho(l,y),L!=null&&S.push(Es(l,L,b)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function Cp(i){return(typeof i=="string"?i:""+i).replace(fT,`
`).replace(dT,"")}function Ep(i,s){return s=Cp(s),Cp(i)===s}function tl(){}function De(i,s,l,f,m,y){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ii(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ii(i,""+f);break;case"className":rr(i,"class",f);break;case"tabIndex":rr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(i,l,f);break;case"style":xf(i,f,y);break;case"data":if(s!=="object"){rr(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ur(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&De(i,s,"name",m.name,m,null),De(i,s,"formEncType",m.formEncType,m,null),De(i,s,"formMethod",m.formMethod,m,null),De(i,s,"formTarget",m.formTarget,m,null)):(De(i,s,"encType",m.encType,m,null),De(i,s,"method",m.method,m,null),De(i,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ur(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=tl);break;case"onScroll":f!=null&&Se("scroll",i);break;case"onScrollEnd":f!=null&&Se("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(m.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=ur(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":Se("beforetoggle",i),Se("toggle",i),sr(i,"popover",f);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":sr(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zv.get(l)||l,sr(i,l,f))}}function Pu(i,s,l,f,m,y){switch(l){case"style":xf(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(m.children!=null)throw Error(o(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Ii(i,f):(typeof f=="number"||typeof f=="bigint")&&Ii(i,""+f);break;case"onScroll":f!=null&&Se("scroll",i);break;case"onScrollEnd":f!=null&&Se("scrollend",i);break;case"onClick":f!=null&&(i.onclick=tl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=i[pt]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,f,m);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):sr(i,l,f)}}}function at(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",i),Se("load",i);var f=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:De(i,s,y,S,l,null)}}m&&De(i,s,"srcSet",l.srcSet,l,null),f&&De(i,s,"src",l.src,l,null);return;case"input":Se("invalid",i);var C=y=S=m=null,b=null,L=null;for(f in l)if(l.hasOwnProperty(f)){var H=l[f];if(H!=null)switch(f){case"name":m=H;break;case"type":S=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":y=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,s));break;default:De(i,s,f,H,l,null)}}Sf(i,y,C,b,L,S,m,!1),lr(i);return;case"select":Se("invalid",i),f=S=y=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":S=C;break;case"multiple":f=C;default:De(i,s,m,C,l,null)}s=y,l=S,i.multiple=!!f,s!=null?Di(i,!!f,s,!1):l!=null&&Di(i,!!f,l,!0);return;case"textarea":Se("invalid",i),y=m=f=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":f=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:De(i,s,S,C,l,null)}Ef(i,f,m,y),lr(i);return;case"option":for(b in l)if(l.hasOwnProperty(b)&&(f=l[b],f!=null))switch(b){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:De(i,s,b,f,l,null)}return;case"dialog":Se("beforetoggle",i),Se("toggle",i),Se("cancel",i),Se("close",i);break;case"iframe":case"object":Se("load",i);break;case"video":case"audio":for(f=0;f<Cs.length;f++)Se(Cs[f],i);break;case"image":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"embed":case"source":case"link":Se("error",i),Se("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(f=l[L],f!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:De(i,s,L,f,l,null)}return;default:if(Wl(s)){for(H in l)l.hasOwnProperty(H)&&(f=l[H],f!==void 0&&Pu(i,s,H,f,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(f=l[C],f!=null&&De(i,s,C,f,l,null))}function hT(i,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,C=null,b=null,L=null,H=null;for(q in l){var F=l[q];if(l.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:f.hasOwnProperty(q)||De(i,s,q,null,f,F)}}for(var P in f){var q=f[P];if(F=l[P],f.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":y=q;break;case"name":m=q;break;case"checked":L=q;break;case"defaultChecked":H=q;break;case"value":S=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,s));break;default:q!==F&&De(i,s,P,q,f,F)}}Xl(i,S,C,b,L,H,y,m);return;case"select":q=S=C=P=null;for(y in l)if(b=l[y],l.hasOwnProperty(y)&&b!=null)switch(y){case"value":break;case"multiple":q=b;default:f.hasOwnProperty(y)||De(i,s,y,null,f,b)}for(m in f)if(y=f[m],b=l[m],f.hasOwnProperty(m)&&(y!=null||b!=null))switch(m){case"value":P=y;break;case"defaultValue":C=y;break;case"multiple":S=y;default:y!==b&&De(i,s,m,y,f,b)}s=C,l=S,f=q,P!=null?Di(i,!!l,P,!1):!!f!=!!l&&(s!=null?Di(i,!!l,s,!0):Di(i,!!l,l?[]:"",!1));return;case"textarea":q=P=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:De(i,s,C,null,f,m)}for(S in f)if(m=f[S],y=l[S],f.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":P=m;break;case"defaultValue":q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==y&&De(i,s,S,m,f,y)}Cf(i,P,q);return;case"option":for(var fe in l)if(P=l[fe],l.hasOwnProperty(fe)&&P!=null&&!f.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:De(i,s,fe,null,f,P)}for(b in f)if(P=f[b],q=l[b],f.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":i.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:De(i,s,b,P,f,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in l)P=l[ae],l.hasOwnProperty(ae)&&P!=null&&!f.hasOwnProperty(ae)&&De(i,s,ae,null,f,P);for(L in f)if(P=f[L],q=l[L],f.hasOwnProperty(L)&&P!==q&&(P!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:De(i,s,L,P,f,q)}return;default:if(Wl(s)){for(var Ie in l)P=l[Ie],l.hasOwnProperty(Ie)&&P!==void 0&&!f.hasOwnProperty(Ie)&&Pu(i,s,Ie,void 0,f,P);for(H in f)P=f[H],q=l[H],!f.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||Pu(i,s,H,P,f,q);return}}for(var M in l)P=l[M],l.hasOwnProperty(M)&&P!=null&&!f.hasOwnProperty(M)&&De(i,s,M,null,f,P);for(F in f)P=f[F],q=l[F],!f.hasOwnProperty(F)||P===q||P==null&&q==null||De(i,s,F,P,f,q)}var qu=null,Vu=null;function nl(i){return i.nodeType===9?i:i.ownerDocument}function wp(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Bu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ou=null;function pT(){var i=window.event;return i&&i.type==="popstate"?i===Ou?!1:(Ou=i,!0):(Ou=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(i){return Ap.resolve(null).then(i).catch(yT)}:bp;function yT(i){setTimeout(function(){throw i})}function Hn(i){return i==="head"}function Rp(i,s){var l=s,f=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<f&&8>f){l=f;var S=i.ownerDocument;if(l&1&&ws(S.documentElement),l&2&&ws(S.body),l&4)for(l=S.head,ws(l),S=l.firstChild;S;){var C=S.nextSibling,b=S.nodeName;S[Bo]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=C}}if(m===0){i.removeChild(y),Ds(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:f=l.charCodeAt(0)-48;else f=0;l=y}while(l);Ds(s)}function Hu(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hu(l),Jl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function vT(i,s,l,f){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Bo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Gt(i.nextSibling),i===null)break}return null}function TT(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Gt(i.nextSibling),i===null))return null;return i}function zu(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function _T(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Gt(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Gu=null;function Mp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function kp(i,s,l){switch(s=nl(l),i){case"html":if(i=s.documentElement,!i)throw Error(o(452));return i;case"head":if(i=s.head,!i)throw Error(o(453));return i;case"body":if(i=s.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function ws(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Jl(i)}var Bt=new Map,Np=new Set;function il(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mn=$.d;$.d={f:ST,r:CT,D:ET,C:wT,L:xT,m:bT,X:RT,S:AT,M:MT};function ST(){var i=mn.f(),s=Kr();return i||s}function CT(i){var s=Ri(i);s!==null&&s.tag===5&&s.type==="form"?Zd(s):mn.r(i)}var ao=typeof document>"u"?null:document;function Dp(i,s,l){var f=ao;if(f&&typeof s=="string"&&s){var m=Dt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Np.has(m)||(Np.add(m),i={rel:i,crossOrigin:l,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),at(s,"link",i),et(s),f.head.appendChild(s)))}}function ET(i){mn.D(i),Dp("dns-prefetch",i,null)}function wT(i,s){mn.C(i,s),Dp("preconnect",i,s)}function xT(i,s,l){mn.L(i,s,l);var f=ao;if(f&&i&&s){var m='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Dt(l.imageSizes)+'"]')):m+='[href="'+Dt(i)+'"]';var y=m;switch(s){case"style":y=uo(i);break;case"script":y=co(i)}Bt.has(y)||(i=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Bt.set(y,i),f.querySelector(m)!==null||s==="style"&&f.querySelector(xs(y))||s==="script"&&f.querySelector(bs(y))||(s=f.createElement("link"),at(s,"link",i),et(s),f.head.appendChild(s)))}}function bT(i,s){mn.m(i,s);var l=ao;if(l&&i){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Dt(f)+'"][href="'+Dt(i)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=co(i)}if(!Bt.has(y)&&(i=v({rel:"modulepreload",href:i},s),Bt.set(y,i),l.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bs(y)))return}f=l.createElement("link"),at(f,"link",i),et(f),l.head.appendChild(f)}}}function AT(i,s,l){mn.S(i,s,l);var f=ao;if(f&&i){var m=Mi(f).hoistableStyles,y=uo(i);s=s||"default";var S=m.get(y);if(!S){var C={loading:0,preload:null};if(S=f.querySelector(xs(y)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Bt.get(y))&&$u(i,l);var b=S=f.createElement("link");et(b),at(b,"link",i),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){C.loading|=1}),b.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ol(S,s,f)}S={type:"stylesheet",instance:S,count:1,state:C},m.set(y,S)}}}function RT(i,s){mn.X(i,s);var l=ao;if(l&&i){var f=Mi(l).hoistableScripts,m=co(i),y=f.get(m);y||(y=l.querySelector(bs(m)),y||(i=v({src:i,async:!0},s),(s=Bt.get(m))&&Fu(i,s),y=l.createElement("script"),et(y),at(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function MT(i,s){mn.M(i,s);var l=ao;if(l&&i){var f=Mi(l).hoistableScripts,m=co(i),y=f.get(m);y||(y=l.querySelector(bs(m)),y||(i=v({src:i,async:!0,type:"module"},s),(s=Bt.get(m))&&Fu(i,s),y=l.createElement("script"),et(y),at(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Ip(i,s,l,f){var m=(m=me.current)?il(m):null;if(!m)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uo(l.href),l=Mi(m).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=uo(l.href);var y=Mi(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(xs(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Bt.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bt.set(i,l),y||kT(m,i,l,S.state))),s&&f===null)throw Error(o(528,""));return S}if(s&&f!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=co(l),l=Mi(m).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function uo(i){return'href="'+Dt(i)+'"'}function xs(i){return'link[rel="stylesheet"]['+i+"]"}function Up(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function kT(i,s,l,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),at(s,"link",l),et(s),i.head.appendChild(s))}function co(i){return'[src="'+Dt(i)+'"]'}function bs(i){return"script[async]"+i}function Lp(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(f)return s.instance=f,et(f),f;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),et(f),at(f,"style",m),ol(f,l.precedence,i),s.instance=f;case"stylesheet":m=uo(l.href);var y=i.querySelector(xs(m));if(y)return s.state.loading|=4,s.instance=y,et(y),y;f=Up(l),(m=Bt.get(m))&&$u(f,m),y=(i.ownerDocument||i).createElement("link"),et(y);var S=y;return S._p=new Promise(function(C,b){S.onload=C,S.onerror=b}),at(y,"link",f),s.state.loading|=4,ol(y,l.precedence,i),s.instance=y;case"script":return y=co(l.src),(m=i.querySelector(bs(y)))?(s.instance=m,et(m),m):(f=l,(m=Bt.get(y))&&(f=v({},l),Fu(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),et(m),at(m,"link",f),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,ol(f,l.precedence,i));return s.instance}function ol(i,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,S=0;S<f.length;S++){var C=f[S];if(C.dataset.precedence===s)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function $u(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Fu(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var sl=null;function Pp(i,s,l){if(sl===null){var f=new Map,m=sl=new Map;m.set(l,f)}else m=sl,f=m.get(l),f||(f=new Map,m.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Bo]||y[ut]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=i+S;var C=f.get(S);C?C.push(y):f.set(S,[y])}}return f}function qp(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function NT(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vp(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var As=null;function DT(){}function IT(i,s,l){if(As===null)throw Error(o(475));var f=As;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=uo(l.href),y=i.querySelector(xs(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=rl.bind(f),i.then(f,f)),s.state.loading|=4,s.instance=y,et(y);return}y=i.ownerDocument||i,l=Up(l),(m=Bt.get(m))&&$u(l,m),y=y.createElement("link"),et(y);var S=y;S._p=new Promise(function(C,b){S.onload=C,S.onerror=b}),at(y,"link",l),s.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=rl.bind(f),i.addEventListener("load",s),i.addEventListener("error",s))}}function UT(){if(As===null)throw Error(o(475));var i=As;return i.stylesheets&&i.count===0&&Ju(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Ju(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function rl(){if(this.count--,this.count===0){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ll=null;function Ju(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ll=new Map,s.forEach(LT,i),ll=null,rl.call(i))}function LT(i,s){if(!(s.state.loading&4)){var l=ll.get(i);if(l)var f=l.get(null);else{l=new Map,ll.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),f=S)}f&&l.set(null,f)}m=s.instance,S=m.getAttribute("data-precedence"),y=l.get(S)||f,y===f&&l.set(null,m),l.set(S,m),this.count++,f=rl.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Rs={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function PT(i,s,l,f,m,y,S,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.hiddenUpdates=zl(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Bp(i,s,l,f,m,y,S,C,b,L,H,F){return i=new PT(i,s,l,S,C,b,L,F),s=1,y===!0&&(s|=24),y=wt(3,null,null,s),i.current=y,y.stateNode=i,s=Aa(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:s},Na(y),i}function Op(i){return i?(i=Hi,i):Hi}function Hp(i,s,l,f,m,y){m=Op(m),f.context===null?f.context=m:f.pendingContext=m,f=Rn(s),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=Mn(i,f,s),l!==null&&(Mt(l,i,s),os(l,i,s))}function zp(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Yu(i,s){zp(i,s),(i=i.alternate)&&zp(i,s)}function Gp(i){if(i.tag===13){var s=Oi(i,67108864);s!==null&&Mt(s,i,67108864),Yu(i,67108864)}}var al=!0;function qT(i,s,l,f){var m=U.T;U.T=null;var y=$.p;try{$.p=2,Ku(i,s,l,f)}finally{$.p=y,U.T=m}}function VT(i,s,l,f){var m=U.T;U.T=null;var y=$.p;try{$.p=8,Ku(i,s,l,f)}finally{$.p=y,U.T=m}}function Ku(i,s,l,f){if(al){var m=Qu(f);if(m===null)Lu(i,s,f,ul,l),Fp(i,f);else if(OT(m,i,s,l,f))f.stopPropagation();else if(Fp(i,f),s&4&&-1<BT.indexOf(i)){for(;m!==null;){var y=Ri(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Zn(y.pendingLanes);if(S!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var b=1<<31-Ct(S);C.entanglements[1]|=b,S&=~b}Zt(y),(Re&6)===0&&(Jr=Jt()+500,Ss(0))}}break;case 13:C=Oi(y,2),C!==null&&Mt(C,y,2),Kr(),Yu(y,2)}if(y=Qu(f),y===null&&Lu(i,s,f,ul,l),y===m)break;m=y}m!==null&&f.stopPropagation()}else Lu(i,s,f,null,l)}}function Qu(i){return i=ea(i),Xu(i)}var ul=null;function Xu(i){if(ul=null,i=Ai(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ul=i,null}function $p(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wv()){case of:return 2;case sf:return 8;case tr:case xv:return 32;case rf:return 268435456;default:return 32}default:return 32}}var Zu=!1,zn=null,Gn=null,$n=null,Ms=new Map,ks=new Map,Fn=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(i,s){switch(i){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Ms.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(s.pointerId)}}function Ns(i,s,l,f,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Ri(s),s!==null&&Gp(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function OT(i,s,l,f,m){switch(s){case"focusin":return zn=Ns(zn,i,s,l,f,m),!0;case"dragenter":return Gn=Ns(Gn,i,s,l,f,m),!0;case"mouseover":return $n=Ns($n,i,s,l,f,m),!0;case"pointerover":var y=m.pointerId;return Ms.set(y,Ns(Ms.get(y)||null,i,s,l,f,m)),!0;case"gotpointercapture":return y=m.pointerId,ks.set(y,Ns(ks.get(y)||null,i,s,l,f,m)),!0}return!1}function Jp(i){var s=Ai(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=d(l),s!==null){i.blockedOn=s,Iv(i.priority,function(){if(l.tag===13){var f=Rt();f=Gl(f);var m=Oi(l,f);m!==null&&Mt(m,l,f),Yu(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Qu(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);jl=f,l.target.dispatchEvent(f),jl=null}else return s=Ri(l),s!==null&&Gp(s),i.blockedOn=l,!1;s.shift()}return!0}function Yp(i,s,l){cl(i)&&l.delete(s)}function HT(){Zu=!1,zn!==null&&cl(zn)&&(zn=null),Gn!==null&&cl(Gn)&&(Gn=null),$n!==null&&cl($n)&&($n=null),Ms.forEach(Yp),ks.forEach(Yp)}function fl(i,s){i.blockedOn===s&&(i.blockedOn=null,Zu||(Zu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HT)))}var dl=null;function Kp(i){dl!==i&&(dl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dl===i&&(dl=null);for(var s=0;s<i.length;s+=3){var l=i[s],f=i[s+1],m=i[s+2];if(typeof f!="function"){if(Xu(f||l)===null)continue;break}var y=Ri(l);y!==null&&(i.splice(s,3),s-=3,Xa(y,{pending:!0,data:m,method:l.method,action:f},f,m))}}))}function Ds(i){function s(b){return fl(b,i)}zn!==null&&fl(zn,i),Gn!==null&&fl(Gn,i),$n!==null&&fl($n,i),Ms.forEach(s),ks.forEach(s);for(var l=0;l<Fn.length;l++){var f=Fn[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Fn.length&&(l=Fn[0],l.blockedOn===null);)Jp(l),l.blockedOn===null&&Fn.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var m=l[f],y=l[f+1],S=m[pt]||null;if(typeof y=="function")S||Kp(l);else if(S){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[pt]||null)C=S.formAction;else if(Xu(m)!==null)continue}else C=S.action;typeof C=="function"?l[f+1]=C:(l.splice(f,3),f-=3),Kp(l)}}}function Wu(i){this._internalRoot=i}hl.prototype.render=Wu.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,f=Rt();Hp(l,f,i,s,null,null)},hl.prototype.unmount=Wu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Hp(i.current,2,null,i,null,null),Kr(),s[bi]=null}};function hl(i){this._internalRoot=i}hl.prototype.unstable_scheduleHydration=function(i){if(i){var s=ff();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Fn.length&&s!==0&&s<Fn[l].priority;l++);Fn.splice(l,0,i),l===0&&Jp(i)}};var Qp=e.version;if(Qp!=="19.1.1")throw Error(o(527,Qp,"19.1.1"));$.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=g(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var zT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Po=pl.inject(zT),St=pl}catch{}}return Ls.createRoot=function(i,s){if(!r(i))throw Error(o(299));var l=!1,f="",m=fh,y=dh,S=hh,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Bp(i,1,!1,null,null,l,f,m,y,S,C,null),i[bi]=s.current,Uu(i),new Wu(s)},Ls.hydrateRoot=function(i,s,l){if(!r(i))throw Error(o(299));var f=!1,m="",y=fh,S=dh,C=hh,b=null,L=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(b=l.unstable_transitionCallbacks),l.formState!==void 0&&(L=l.formState)),s=Bp(i,1,!0,s,l??null,f,m,y,S,C,b,L),s.context=Op(null),l=s.current,f=Rt(),f=Gl(f),m=Rn(f),m.callback=null,Mn(l,m,f),l=f,s.current.lanes=l,Vo(s,l),Zt(s),i[bi]=s.current,Uu(i),new hl(s)},Ls.version="19.1.1",Ls}var lm;function n_(){if(lm)return tc.exports;lm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tc.exports=t_(),tc.exports}var i_=n_();const o_=Bc(i_),s_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),r_=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.48.398.668 1.03.26 1.431l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 0 1-.26-1.431l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})]}),l_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),a_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})}),u_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),c_=({user:t,theme:e,onToggleTheme:n,onOpenSettings:o,onLogout:r})=>{var v,T,_;const[u,d]=re.useState(!1),h=re.useRef(null),g=((v=t.user_metadata)==null?void 0:v.name)||((T=t.user_metadata)==null?void 0:T.full_name)||t.email,p=(_=t.user_metadata)==null?void 0:_.avatar_url;return re.useEffect(()=>{const E=x=>{h.current&&!h.current.contains(x.target)&&d(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),w.jsxs("div",{className:"relative",ref:h,children:[w.jsxs("button",{onClick:()=>d(E=>!E),className:"flex items-center w-full gap-3 text-left p-2 rounded-md text-text-secondary hover:bg-input-bg hover:text-text-primary transition-colors","aria-haspopup":"true","aria-expanded":u,children:[p?w.jsx("img",{src:p,alt:g,className:"h-8 w-8 rounded-full bg-border-color"}):w.jsx("span",{className:"h-8 w-8 rounded-full bg-border-color flex items-center justify-center text-text-primary font-bold text-sm",children:(g==null?void 0:g.charAt(0).toUpperCase())||"?"}),w.jsxs("div",{className:"flex-1 overflow-hidden",children:[w.jsx("span",{className:"text-sm font-medium text-text-primary truncate block",children:g}),w.jsx("span",{className:"text-xs text-text-secondary truncate block",children:t.email})]})]}),u&&w.jsx("div",{className:"absolute bottom-full left-0 w-full mb-2 bg-sidebar-bg border border-border-color rounded-lg shadow-xl z-10",children:w.jsxs("div",{className:"p-1",children:[w.jsxs("button",{onClick:()=>{n(),d(!1)},className:"flex items-center gap-3 w-full text-left p-2 text-sm rounded-md text-text-secondary hover:bg-input-bg hover:text-text-primary transition-colors",children:[e==="dark"?w.jsx(a_,{className:"w-4 h-4"}):w.jsx(u_,{className:"w-4 h-4"}),w.jsxs("span",{children:["Switch to ",e==="dark"?"Light":"Dark"," Mode"]})]}),w.jsxs("button",{onClick:()=>{o(),d(!1)},className:"flex items-center gap-3 w-full text-left p-2 text-sm rounded-md text-text-secondary hover:bg-input-bg hover:text-text-primary transition-colors",children:[w.jsx(r_,{className:"w-4 h-4"}),w.jsx("span",{children:"Settings"})]}),w.jsx("div",{className:"my-1 h-px bg-border-color"}),w.jsxs("button",{onClick:()=>{r(),d(!1)},className:"flex items-center gap-3 w-full text-left p-2 text-sm rounded-md text-accent-red hover:bg-red-500/10 transition-colors",children:[w.jsx(l_,{className:"w-4 h-4"}),w.jsx("span",{children:"Logout"})]})]})})]})},f_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),d_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),h_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.036-2.134H8.718c-1.126 0-2.037.955-2.037 2.134v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),p_=({session:t,isActive:e,onSelect:n,onDelete:o,onRename:r})=>{const[u,d]=re.useState(!1),[h,g]=re.useState(t.title),p=re.useRef(null);re.useEffect(()=>{var _,E;u&&((_=p.current)==null||_.focus(),(E=p.current)==null||E.select())},[u]);const v=()=>{d(!1),h.trim()&&h.trim()!==t.title?r(t.id,h.trim()):g(t.title)},T=_=>{_.stopPropagation(),window.confirm(`Are you sure you want to delete "${t.title}"?`)&&o(t.id)};return w.jsxs("div",{onClick:()=>n(t.id),className:`group relative flex items-center w-full text-left rounded-md cursor-pointer transition-colors ${e?"bg-accent-blue text-white":"text-text-secondary hover:bg-input-bg hover:text-text-primary"}`,children:[u?w.jsx("input",{ref:p,type:"text",value:h,onClick:_=>_.stopPropagation(),onChange:_=>g(_.target.value),onBlur:v,onKeyDown:_=>{_.key==="Enter"&&v(),_.key==="Escape"&&(d(!1),g(t.title))},className:"flex-1 bg-transparent px-4 py-2 text-sm focus:outline-none"}):w.jsx("span",{className:"flex-1 px-4 py-2 text-sm truncate",children:t.title}),!u&&w.jsxs("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-inherit rounded-md",children:[w.jsx("button",{onClick:_=>{_.stopPropagation(),d(!0)},className:`p-1 ${e?"hover:bg-blue-400":"hover:bg-border-color"} rounded`,"aria-label":"Rename session",children:w.jsx(d_,{className:"h-4 w-4"})}),w.jsx("button",{onClick:T,className:`p-1 ${e?"hover:bg-blue-400":"hover:bg-border-color"} rounded`,"aria-label":"Delete session",children:w.jsx(h_,{className:"h-4 w-4"})})]})]})},m_=({isOpen:t,sessions:e,activeSessionId:n,user:o,theme:r,onNewSession:u,onSelectSession:d,onDeleteSession:h,onRenameSession:g,onToggleTheme:p,onOpenSettings:v,onLogout:T})=>{const[_,E]=re.useState(""),[x,D]=re.useState("");re.useEffect(()=>{const V=setTimeout(()=>D(_.trim().toLowerCase()),200);return()=>clearTimeout(V)},[_]);const k=re.useMemo(()=>x?e.filter(V=>{if(V.title.toLowerCase().includes(x))return!0;for(const z of V.messages)if(typeof z.content=="string"){if(z.content.toLowerCase().includes(x))return!0}else if(z.content&&typeof z.content=="object"){const N=z.content;if([N.summary,N.thinkingProcess,N.verificationSummary,N.signal,N.confidence,N.riskRewardRatio,N.timeframe].some(B=>typeof B=="string"&&B.toLowerCase().includes(x)))return!0}return!1}):e,[x,e]);return w.jsxs("aside",{className:`bg-sidebar-bg flex flex-col transition-all duration-300 ease-in-out border-r border-border-color ${t?"w-64":"w-0"} overflow-hidden`,children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-color h-14",children:[w.jsx("h2",{className:"text-xl font-bold whitespace-nowrap text-text-primary",children:"History"}),w.jsx("button",{onClick:u,className:"p-2 rounded-md hover:bg-input-bg focus:outline-none focus:ring-2 focus:ring-accent-blue","aria-label":"Create new analysis",children:w.jsx(s_,{className:"h-6 w-6 text-text-secondary"})})]}),w.jsx("div",{className:"p-2 border-b border-border-color",children:w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"text",placeholder:"Search...",value:_,onChange:V=>E(V.target.value),className:"w-full bg-input-bg border border-transparent rounded-md pl-9 pr-3 py-1.5 text-sm text-text-primary placeholder-text-secondary focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"}),w.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:w.jsx(f_,{className:"h-4 w-4 text-text-secondary"})})]})}),w.jsx("nav",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:k.map(V=>w.jsx(p_,{session:V,isActive:V.id===n,onSelect:d,onDelete:h,onRename:g},V.id))}),w.jsx("div",{className:"p-2 border-t border-border-color",children:w.jsx(c_,{user:o,theme:r,onToggleTheme:p,onOpenSettings:v,onLogout:T})})]})},g_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3.375 3.375 0 1112.81 7.341L5.17 15.011a1.125 1.125 0 001.591 1.59L15.182 8.25"})}),y_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),v_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:w.jsx("path",{d:"M6 6h12v12H6z"})}),T_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})});async function __(t,e=1024,n=768){const o=await E_(t),r=document.createElement("canvas");r.width=e,r.height=n;const u=r.getContext("2d");if(!u)throw new Error("Canvas not supported");u.fillStyle="#ffffff",u.fillRect(0,0,e,n);const d=Math.min(e/o.naturalWidth,n/o.naturalHeight),h=Math.round(o.naturalWidth*d),g=Math.round(o.naturalHeight*d),p=Math.floor((e-h)/2),v=Math.floor((n-g)/2);u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(o,p,v,h,g);const _=await(await new Promise(E=>r.toBlob(x=>E(x),"image/png"))).arrayBuffer();return new Uint8Array(_)}async function S_(t){const e=await crypto.subtle.digest("SHA-256",t);return C_(new Uint8Array(e))}function C_(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}async function E_(t){return new Promise((e,n)=>{const o=new Image;o.onload=()=>e(o),o.onerror=r=>n(r),typeof t=="string"?o.src=t.startsWith("data:")?t:URL.createObjectURL(new Blob([t])):o.src=URL.createObjectURL(t)})}function am(t){return["v1",t.modelVersion,t.promptVersion,t.ultra?"ultra":"normal",...t.imageHashes.sort()].join("|")}const w_=async t=>{const e=await __(t),n=await S_(e),o=new Blob([e],{type:"image/png"});return{mimeType:"image/png",data:await new Promise((u,d)=>{const h=new FileReader;h.onloadend=()=>{const g=h.result,p=g.indexOf(",");u(p>=0?g.slice(p+1):g)},h.onerror=g=>d(g),h.readAsDataURL(o)}),hash:n}},x_=({onSendMessage:t,isLoading:e,onStopGeneration:n,initialPrompt:o,isUltraMode:r,onToggleUltraMode:u})=>{const[d,h]=re.useState(""),[g,p]=re.useState([]),[v,T]=re.useState([]),[_,E]=re.useState(!1),x=re.useRef(null),D=re.useRef(null),k=re.useRef(null);re.useEffect(()=>{var Q;o&&(h(o),(Q=D.current)==null||Q.focus())},[o]),re.useEffect(()=>{const Q=Z=>{k.current&&!k.current.contains(Z.target)&&E(!1)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]);const V=Q=>{const Z=[],ue=new Set(g.map(se=>se.name+se.size)),ne=Array.from(Q);for(const se of ne){if(!se.type.startsWith("image/"))continue;const de=se.name+se.size;ue.has(de)||Z.push(se)}Z.length!==0&&(Z.forEach(se=>{const de=new FileReader;de.onloadend=()=>{T(he=>[...he,de.result])},de.readAsDataURL(se)}),p(se=>[...se,...Z]))},z=Q=>{Q.target.files&&V(Q.target.files)},N=Q=>{Q.preventDefault(),Q.dataTransfer.files&&Q.dataTransfer.files.length>0&&(V(Q.dataTransfer.files),Q.dataTransfer.clearData())},J=Q=>{const Z=Q.clipboardData.items,ue=[];for(let ne=0;ne<Z.length;ne++){const se=Z[ne];if(se.kind==="file"){const de=se.getAsFile();de&&de.type.startsWith("image/")&&ue.push(de)}}ue.length>0&&V(ue)},B=async()=>{if(!d.trim()&&g.length===0||e)return;let Q=[];g.length>0&&(Q=await Promise.all(g.map(w_))),t(d,Q),h(""),p([]),T([]),x.current&&(x.current.value="")},X=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),B())},K=Q=>{p(Z=>Z.filter((ue,ne)=>ne!==Q)),T(Z=>Z.filter((ue,ne)=>ne!==Q)),x.current&&g.length===1&&(x.current.value="")};return w.jsxs("div",{className:"bg-input-bg border border-border-color rounded-lg p-2 flex flex-col",onDrop:N,onDragOver:Q=>Q.preventDefault(),onPaste:J,children:[v.length>0&&w.jsx("div",{className:"p-2 grid grid-cols-3 gap-2",children:v.map((Q,Z)=>w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:Q,alt:`Image preview ${Z+1}`,className:"max-h-24 w-full object-cover rounded-md"}),w.jsx("button",{onClick:()=>K(Z),className:"absolute top-0 right-0 m-1 bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs",children:""})]},Z))}),w.jsxs("div",{className:"flex items-start",children:[w.jsx("button",{onClick:()=>{var Q;return(Q=x.current)==null?void 0:Q.click()},className:"p-2 text-text-secondary hover:text-text-primary self-center",disabled:e,"aria-label":"Attach images",children:w.jsx(g_,{className:"h-5 w-5"})}),w.jsx("input",{type:"file",ref:x,onChange:z,className:"hidden",multiple:!0,accept:"image/png, image/jpeg, image/webp"}),w.jsxs("div",{className:"relative self-center",ref:k,children:[w.jsx("button",{onClick:()=>E(Q=>!Q),className:`p-2 text-text-secondary hover:text-text-primary transition-colors ${r?"text-accent-blue":""}`,disabled:e,"aria-label":"Wizz Ultra Settings",children:w.jsx(T_,{className:"h-5 w-5"})}),_&&w.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-72 bg-sidebar-bg border border-border-color rounded-lg shadow-xl z-10 p-3",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-text-primary",children:"Wizz Ultra"}),w.jsx("p",{className:"text-xs text-text-secondary",children:"Advanced analysis mode"})]}),w.jsxs("label",{htmlFor:"ultra-toggle",className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{type:"checkbox",id:"ultra-toggle",className:"sr-only peer",checked:r,onChange:u}),w.jsx("div",{className:"w-11 h-6 bg-border-color peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-accent-blue peer-focus:ring-offset-sidebar-bg rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-blue"})]})]}),w.jsx("p",{className:"text-xs text-text-secondary mt-2 border-t border-border-color pt-2",children:"Provides a more detailed, multi-pass analysis for higher accuracy."})]})]}),w.jsx("textarea",{ref:D,value:d,onChange:Q=>h(Q.target.value),onKeyDown:X,placeholder:"Describe the chart or ask a question... (you can also paste or drag-and-drop images)",className:"flex-1 bg-transparent resize-none focus:outline-none text-text-primary placeholder-text-secondary px-2 pt-1.5 max-h-28",rows:1,disabled:e}),w.jsx("div",{className:"self-center",children:e?w.jsx("button",{onClick:n,className:"p-2 rounded-md bg-accent-red text-white","aria-label":"Stop generation",children:w.jsx(v_,{className:"h-5 w-5"})}):w.jsx("button",{onClick:B,disabled:!d.trim()&&g.length===0,className:"p-2 rounded-md bg-accent-blue text-white disabled:bg-gray-500 disabled:cursor-not-allowed","aria-label":"Send message",children:w.jsx(y_,{className:"h-5 w-5"})})})]})]})};function Hc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ci=Hc();function hy(t){Ci=t}const py=/[&<>"']/,b_=new RegExp(py.source,"g"),my=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,A_=new RegExp(my.source,"g"),R_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},um=t=>R_[t];function kt(t,e){if(e){if(py.test(t))return t.replace(b_,um)}else if(my.test(t))return t.replace(A_,um);return t}const M_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function k_(t){return t.replace(M_,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const N_=/(^|[^\[])\^/g;function Ue(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const o={replace:(r,u)=>{let d=typeof u=="string"?u:u.source;return d=d.replace(N_,"$1"),n=n.replace(r,d),o},getRegex:()=>new RegExp(n,e)};return o}function cm(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const zs={exec:()=>null};function fm(t,e){const n=t.replace(/\|/g,(u,d,h)=>{let g=!1,p=d;for(;--p>=0&&h[p]==="\\";)g=!g;return g?"|":" |"}),o=n.split(/ \|/);let r=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;r<o.length;r++)o[r]=o[r].trim().replace(/\\\|/g,"|");return o}function Ps(t,e,n){const o=t.length;if(o===0)return"";let r=0;for(;r<o&&t.charAt(o-r-1)===e;)r++;return t.slice(0,o-r)}function D_(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let o=0;o<t.length;o++)if(t[o]==="\\")o++;else if(t[o]===e[0])n++;else if(t[o]===e[1]&&(n--,n<0))return o;return-1}function dm(t,e,n,o){const r=e.href,u=e.title?kt(e.title):null,d=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){o.state.inLink=!0;const h={type:"link",raw:n,href:r,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,h}return{type:"image",raw:n,href:r,title:u,text:kt(d)}}function I_(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const o=n[1];return e.split(`
`).map(r=>{const u=r.match(/^\s+/);if(u===null)return r;const[d]=u;return d.length>=o.length?r.slice(o.length):r}).join(`
`)}class xl{constructor(e){qe(this,"options");qe(this,"rules");qe(this,"lexer");this.options=e||Ci}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const o=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Ps(o,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const o=n[0],r=I_(o,n[3]||"");return{type:"code",raw:o,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let o=n[2].trim();if(/#$/.test(o)){const r=Ps(o,"#");(this.options.pedantic||!r||/ $/.test(r))&&(o=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Ps(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let o=Ps(n[0],`
`).split(`
`),r="",u="";const d=[];for(;o.length>0;){let h=!1;const g=[];let p;for(p=0;p<o.length;p++)if(/^ {0,3}>/.test(o[p]))g.push(o[p]),h=!0;else if(!h)g.push(o[p]);else break;o=o.slice(p);const v=g.join(`
`),T=v.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${v}`:v,u=u?`${u}
${T}`:T;const _=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(T,d,!0),this.lexer.state.top=_,o.length===0)break;const E=d[d.length-1];if((E==null?void 0:E.type)==="code")break;if((E==null?void 0:E.type)==="blockquote"){const x=E,D=x.raw+`
`+o.join(`
`),k=this.blockquote(D);d[d.length-1]=k,r=r.substring(0,r.length-x.raw.length)+k.raw,u=u.substring(0,u.length-x.text.length)+k.text;break}else if((E==null?void 0:E.type)==="list"){const x=E,D=x.raw+`
`+o.join(`
`),k=this.list(D);d[d.length-1]=k,r=r.substring(0,r.length-E.raw.length)+k.raw,u=u.substring(0,u.length-x.raw.length)+k.raw,o=D.substring(d[d.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:d,text:u}}}list(e){let n=this.rules.block.list.exec(e);if(n){let o=n[1].trim();const r=o.length>1,u={type:"list",raw:"",ordered:r,start:r?+o.slice(0,-1):"",loose:!1,items:[]};o=r?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=r?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let h=!1;for(;e;){let g=!1,p="",v="";if(!(n=d.exec(e))||this.rules.block.hr.test(e))break;p=n[0],e=e.substring(p.length);let T=n[2].split(`
`,1)[0].replace(/^\t+/,V=>" ".repeat(3*V.length)),_=e.split(`
`,1)[0],E=!T.trim(),x=0;if(this.options.pedantic?(x=2,v=T.trimStart()):E?x=n[1].length+1:(x=n[2].search(/[^ ]/),x=x>4?1:x,v=T.slice(x),x+=n[1].length),E&&/^ *$/.test(_)&&(p+=_+`
`,e=e.substring(_.length+1),g=!0),!g){const V=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),z=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),N=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),J=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const B=e.split(`
`,1)[0];if(_=B,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),N.test(_)||J.test(_)||V.test(_)||z.test(e))break;if(_.search(/[^ ]/)>=x||!_.trim())v+=`
`+_.slice(x);else{if(E||T.search(/[^ ]/)>=4||N.test(T)||J.test(T)||z.test(T))break;v+=`
`+_}!E&&!_.trim()&&(E=!0),p+=B+`
`,e=e.substring(B.length+1),T=_.slice(x)}}u.loose||(h?u.loose=!0:/\n *\n *$/.test(p)&&(h=!0));let D=null,k;this.options.gfm&&(D=/^\[[ xX]\] /.exec(v),D&&(k=D[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:p,task:!!D,checked:k,loose:!1,text:v,tokens:[]}),u.raw+=p}u.items[u.items.length-1].raw=u.items[u.items.length-1].raw.trimEnd(),u.items[u.items.length-1].text=u.items[u.items.length-1].text.trimEnd(),u.raw=u.raw.trimEnd();for(let g=0;g<u.items.length;g++)if(this.lexer.state.top=!1,u.items[g].tokens=this.lexer.blockTokens(u.items[g].text,[]),!u.loose){const p=u.items[g].tokens.filter(T=>T.type==="space"),v=p.length>0&&p.some(T=>/\n.*\n/.test(T.raw));u.loose=v}if(u.loose)for(let g=0;g<u.items.length;g++)u.items[g].loose=!0;return u}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const o=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",u=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:o,raw:n[0],href:r,title:u}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const o=fm(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),u=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],d={type:"table",raw:n[0],header:[],align:[],rows:[]};if(o.length===r.length){for(const h of r)/^ *-+: *$/.test(h)?d.align.push("right"):/^ *:-+: *$/.test(h)?d.align.push("center"):/^ *:-+ *$/.test(h)?d.align.push("left"):d.align.push(null);for(let h=0;h<o.length;h++)d.header.push({text:o[h],tokens:this.lexer.inline(o[h]),header:!0,align:d.align[h]});for(const h of u)d.rows.push(fm(h,d.header.length).map((g,p)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:d.align[p]})));return d}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const o=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:o,tokens:this.lexer.inline(o)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:kt(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const o=n[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=Ps(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=D_(n[2],"()");if(d>-1){const g=(n[0].indexOf("!")===0?5:4)+n[1].length+d;n[2]=n[2].substring(0,d),n[0]=n[0].substring(0,g).trim(),n[3]=""}}let r=n[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);d&&(r=d[1],u=d[3])}else u=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(o)?r=r.slice(1):r=r.slice(1,-1)),dm(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:u&&u.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){const r=(o[2]||o[1]).replace(/\s+/g," "),u=n[r.toLowerCase()];if(!u){const d=o[0].charAt(0);return{type:"text",raw:d,text:d}}return dm(o,u,o[0],this.lexer)}}emStrong(e,n,o=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...r[0]].length-1;let h,g,p=d,v=0;const T=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(T.lastIndex=0,n=n.slice(-1*e.length+d);(r=T.exec(n))!=null;){if(h=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!h)continue;if(g=[...h].length,r[3]||r[4]){p+=g;continue}else if((r[5]||r[6])&&d%3&&!((d+g)%3)){v+=g;continue}if(p-=g,p>0)continue;g=Math.min(g,g+p+v);const _=[...r[0]][0].length,E=e.slice(0,d+r.index+_+g);if(Math.min(d,g)%2){const D=E.slice(1,-1);return{type:"em",raw:E,text:D,tokens:this.lexer.inlineTokens(D)}}const x=E.slice(2,-2);return{type:"strong",raw:E,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let o=n[2].replace(/\n/g," ");const r=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return r&&u&&(o=o.substring(1,o.length-1)),o=kt(o,!0),{type:"codespan",raw:n[0],text:o}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let o,r;return n[2]==="@"?(o=kt(n[1]),r="mailto:"+o):(o=kt(n[1]),r=o),{type:"link",raw:n[0],text:o,href:r,tokens:[{type:"text",raw:o,text:o}]}}}url(e){var o;let n;if(n=this.rules.inline.url.exec(e)){let r,u;if(n[2]==="@")r=kt(n[0]),u="mailto:"+r;else{let d;do d=n[0],n[0]=((o=this.rules.inline._backpedal.exec(n[0]))==null?void 0:o[0])??"";while(d!==n[0]);r=kt(n[0]),n[1]==="www."?u="http://"+n[0]:u=n[0]}return{type:"link",raw:n[0],text:r,href:u,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=n[0]:o=kt(n[0]),{type:"text",raw:n[0],text:o}}}}const U_=/^(?: *(?:\n|$))+/,L_=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,P_=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,q_=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,gy=/(?:[*+-]|\d{1,9}[.)])/,yy=Ue(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,gy).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,V_=/^[^\n]+/,Gc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,B_=Ue(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Gc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),O_=Ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,gy).getRegex(),Il="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$c=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,H_=Ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",$c).replace("tag",Il).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),vy=Ue(zc).replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Il).getRegex(),z_=Ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",vy).getRegex(),Fc={blockquote:z_,code:L_,def:B_,fences:P_,heading:q_,hr:Qs,html:H_,lheading:yy,list:O_,newline:U_,paragraph:vy,table:zs,text:V_},hm=Ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Il).getRegex(),G_={...Fc,table:hm,paragraph:Ue(zc).replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",hm).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Il).getRegex()},$_={...Fc,html:Ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$c).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:zs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ue(zc).replace("hr",Qs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",yy).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ty=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,F_=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,_y=/^( {2,}|\\)\n(?!\s*$)/,J_=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Xs="\\p{P}\\p{S}",Y_=Ue(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Xs).getRegex(),K_=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Q_=Ue(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Xs).getRegex(),X_=Ue("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Xs).getRegex(),Z_=Ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Xs).getRegex(),W_=Ue(/\\([punct])/,"gu").replace(/punct/g,Xs).getRegex(),j_=Ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),eS=Ue($c).replace("(?:-->|$)","-->").getRegex(),tS=Ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",eS).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),bl=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,nS=Ue(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",bl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Sy=Ue(/^!?\[(label)\]\[(ref)\]/).replace("label",bl).replace("ref",Gc).getRegex(),Cy=Ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",Gc).getRegex(),iS=Ue("reflink|nolink(?!\\()","g").replace("reflink",Sy).replace("nolink",Cy).getRegex(),Jc={_backpedal:zs,anyPunctuation:W_,autolink:j_,blockSkip:K_,br:_y,code:F_,del:zs,emStrongLDelim:Q_,emStrongRDelimAst:X_,emStrongRDelimUnd:Z_,escape:Ty,link:nS,nolink:Cy,punctuation:Y_,reflink:Sy,reflinkSearch:iS,tag:tS,text:J_,url:zs},oS={...Jc,link:Ue(/^!?\[(label)\]\((.*?)\)/).replace("label",bl).getRegex(),reflink:Ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",bl).getRegex()},pc={...Jc,escape:Ue(Ty).replace("])","~|])").getRegex(),url:Ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},sS={...pc,br:Ue(_y).replace("{2,}","*").getRegex(),text:Ue(pc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ml={normal:Fc,gfm:G_,pedantic:$_},qs={normal:Jc,gfm:pc,breaks:sS,pedantic:oS};class Wt{constructor(e){qe(this,"tokens");qe(this,"options");qe(this,"state");qe(this,"tokenizer");qe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ci,this.options.tokenizer=this.options.tokenizer||new xl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ml.normal,inline:qs.normal};this.options.pedantic?(n.block=ml.pedantic,n.inline=qs.pedantic):this.options.gfm&&(n.block=ml.gfm,this.options.breaks?n.inline=qs.breaks:n.inline=qs.gfm),this.tokenizer.rules=n}static get rules(){return{block:ml,inline:qs}}static lex(e,n){return new Wt(n).lex(e)}static lexInline(e,n){return new Wt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const o=this.inlineQueue[n];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],o=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(h,g,p)=>g+"    ".repeat(p.length));let r,u,d;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(h=>(r=h.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),u=n[n.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=u.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),u=n[n.length-1],u&&(u.type==="paragraph"||u.type==="text")?(u.raw+=`
`+r.raw,u.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=u.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(d=e,this.options.extensions&&this.options.extensions.startBlock){let h=1/0;const g=e.slice(1);let p;this.options.extensions.startBlock.forEach(v=>{p=v.call({lexer:this},g),typeof p=="number"&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(d=e.substring(0,h+1))}if(this.state.top&&(r=this.tokenizer.paragraph(d))){u=n[n.length-1],o&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):n.push(r),o=d.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),u=n[n.length-1],u&&u.type==="text"?(u.raw+=`
`+r.raw,u.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=u.text):n.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let o,r,u,d=e,h,g,p;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(h=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)v.includes(h[0].slice(h[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(h=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,h.index)+"["+"a".repeat(h[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(h=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,h.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(g||(p=""),g=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(o=v.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),r=n[n.length-1],r&&o.type==="text"&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):n.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),r=n[n.length-1],r&&o.type==="text"&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(e,d,p)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),n.push(o);continue}if(u=e,this.options.extensions&&this.options.extensions.startInline){let v=1/0;const T=e.slice(1);let _;this.options.extensions.startInline.forEach(E=>{_=E.call({lexer:this},T),typeof _=="number"&&_>=0&&(v=Math.min(v,_))}),v<1/0&&v>=0&&(u=e.substring(0,v+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(p=o.raw.slice(-1)),g=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=o.raw,r.text+=o.text):n.push(o);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return n}}class Al{constructor(e){qe(this,"options");qe(this,"parser");this.options=e||Ci}space(e){return""}code({text:e,lang:n,escaped:o}){var d;const r=(d=(n||"").match(/^\S*/))==null?void 0:d[0],u=e.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+kt(r)+'">'+(o?u:kt(u,!0))+`</code></pre>
`:"<pre><code>"+(o?u:kt(u,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,o=e.start;let r="";for(let h=0;h<e.items.length;h++){const g=e.items[h];r+=this.listitem(g)}const u=n?"ol":"ul",d=n&&o!==1?' start="'+o+'"':"";return"<"+u+d+`>
`+r+"</"+u+`>
`}listitem(e){let n="";if(e.task){const o=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):n+=o+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",o="";for(let u=0;u<e.header.length;u++)o+=this.tablecell(e.header[u]);n+=this.tablerow({text:o});let r="";for(let u=0;u<e.rows.length;u++){const d=e.rows[u];o="";for(let h=0;h<d.length;h++)o+=this.tablecell(d[h]);r+=this.tablerow({text:o})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+n+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:o}){const r=this.parser.parseInline(o),u=cm(e);if(u===null)return r;e=u;let d='<a href="'+e+'"';return n&&(d+=' title="'+n+'"'),d+=">"+r+"</a>",d}image({href:e,title:n,text:o}){const r=cm(e);if(r===null)return o;e=r;let u=`<img src="${e}" alt="${o}"`;return n&&(u+=` title="${n}"`),u+=">",u}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Yc{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class jt{constructor(e){qe(this,"options");qe(this,"renderer");qe(this,"textRenderer");this.options=e||Ci,this.options.renderer=this.options.renderer||new Al,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yc}static parse(e,n){return new jt(n).parse(e)}static parseInline(e,n){return new jt(n).parseInline(e)}parse(e,n=!0){let o="";for(let r=0;r<e.length;r++){const u=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const h=u,g=this.options.extensions.renderers[h.type].call({parser:this},h);if(g!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)){o+=g||"";continue}}const d=u;switch(d.type){case"space":{o+=this.renderer.space(d);continue}case"hr":{o+=this.renderer.hr(d);continue}case"heading":{o+=this.renderer.heading(d);continue}case"code":{o+=this.renderer.code(d);continue}case"table":{o+=this.renderer.table(d);continue}case"blockquote":{o+=this.renderer.blockquote(d);continue}case"list":{o+=this.renderer.list(d);continue}case"html":{o+=this.renderer.html(d);continue}case"paragraph":{o+=this.renderer.paragraph(d);continue}case"text":{let h=d,g=this.renderer.text(h);for(;r+1<e.length&&e[r+1].type==="text";)h=e[++r],g+=`
`+this.renderer.text(h);n?o+=this.renderer.paragraph({type:"paragraph",raw:g,text:g,tokens:[{type:"text",raw:g,text:g}]}):o+=g;continue}default:{const h='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return o}parseInline(e,n){n=n||this.renderer;let o="";for(let r=0;r<e.length;r++){const u=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=h||"";continue}}const d=u;switch(d.type){case"escape":{o+=n.text(d);break}case"html":{o+=n.html(d);break}case"link":{o+=n.link(d);break}case"image":{o+=n.image(d);break}case"strong":{o+=n.strong(d);break}case"em":{o+=n.em(d);break}case"codespan":{o+=n.codespan(d);break}case"br":{o+=n.br(d);break}case"del":{o+=n.del(d);break}case"text":{o+=n.text(d);break}default:{const h='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return o}}class Gs{constructor(e){qe(this,"options");this.options=e||Ci}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}qe(Gs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var _n,Ey,mc,wy;class rS{constructor(...e){Zp(this,_n);qe(this,"defaults",Hc());qe(this,"options",this.setOptions);qe(this,"parse",Is(this,_n,mc).call(this,Wt.lex,jt.parse));qe(this,"parseInline",Is(this,_n,mc).call(this,Wt.lexInline,jt.parseInline));qe(this,"Parser",jt);qe(this,"Renderer",Al);qe(this,"TextRenderer",Yc);qe(this,"Lexer",Wt);qe(this,"Tokenizer",xl);qe(this,"Hooks",Gs);this.use(...e)}walkTokens(e,n){var r,u;let o=[];for(const d of e)switch(o=o.concat(n.call(this,d)),d.type){case"table":{const h=d;for(const g of h.header)o=o.concat(this.walkTokens(g.tokens,n));for(const g of h.rows)for(const p of g)o=o.concat(this.walkTokens(p.tokens,n));break}case"list":{const h=d;o=o.concat(this.walkTokens(h.items,n));break}default:{const h=d;(u=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&u[h.type]?this.defaults.extensions.childTokens[h.type].forEach(g=>{const p=h[g].flat(1/0);o=o.concat(this.walkTokens(p,n))}):h.tokens&&(o=o.concat(this.walkTokens(h.tokens,n)))}}return o}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{const r={...o};if(r.async=this.defaults.async||r.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=n.renderers[u.name];d?n.renderers[u.name]=function(...h){let g=u.renderer.apply(this,h);return g===!1&&(g=d.apply(this,h)),g}:n.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=n[u.level];d?d.unshift(u.tokenizer):n[u.level]=[u.tokenizer],u.start&&(u.level==="block"?n.startBlock?n.startBlock.push(u.start):n.startBlock=[u.start]:u.level==="inline"&&(n.startInline?n.startInline.push(u.start):n.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(n.childTokens[u.name]=u.childTokens)}),r.extensions=n),o.renderer){const u=this.defaults.renderer||new Al(this.defaults);for(const d in o.renderer){if(!(d in u))throw new Error(`renderer '${d}' does not exist`);if(["options","parser"].includes(d))continue;const h=d;let g=o.renderer[h];o.useNewRenderer||(g=Is(this,_n,Ey).call(this,g,h,u));const p=u[h];u[h]=(...v)=>{let T=g.apply(u,v);return T===!1&&(T=p.apply(u,v)),T||""}}r.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new xl(this.defaults);for(const d in o.tokenizer){if(!(d in u))throw new Error(`tokenizer '${d}' does not exist`);if(["options","rules","lexer"].includes(d))continue;const h=d,g=o.tokenizer[h],p=u[h];u[h]=(...v)=>{let T=g.apply(u,v);return T===!1&&(T=p.apply(u,v)),T}}r.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new Gs;for(const d in o.hooks){if(!(d in u))throw new Error(`hook '${d}' does not exist`);if(d==="options")continue;const h=d,g=o.hooks[h],p=u[h];Gs.passThroughHooks.has(d)?u[h]=v=>{if(this.defaults.async)return Promise.resolve(g.call(u,v)).then(_=>p.call(u,_));const T=g.call(u,v);return p.call(u,T)}:u[h]=(...v)=>{let T=g.apply(u,v);return T===!1&&(T=p.apply(u,v)),T}}r.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;r.walkTokens=function(h){let g=[];return g.push(d.call(this,h)),u&&(g=g.concat(u.call(this,h))),g}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Wt.lex(e,n??this.defaults)}parser(e,n){return jt.parse(e,n??this.defaults)}}_n=new WeakSet,Ey=function(e,n,o){switch(n){case"heading":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,o.parser.parseInline(r.tokens),r.depth,k_(o.parser.parseInline(r.tokens,o.parser.textRenderer)))};case"code":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.text,r.lang,!!r.escaped)};case"table":return function(r){if(!r.type||r.type!==n)return e.apply(this,arguments);let u="",d="";for(let g=0;g<r.header.length;g++)d+=this.tablecell({text:r.header[g].text,tokens:r.header[g].tokens,header:!0,align:r.align[g]});u+=this.tablerow({text:d});let h="";for(let g=0;g<r.rows.length;g++){const p=r.rows[g];d="";for(let v=0;v<p.length;v++)d+=this.tablecell({text:p[v].text,tokens:p[v].tokens,header:!1,align:r.align[v]});h+=this.tablerow({text:d})}return e.call(this,u,h)};case"blockquote":return function(r){if(!r.type||r.type!==n)return e.apply(this,arguments);const u=this.parser.parse(r.tokens);return e.call(this,u)};case"list":return function(r){if(!r.type||r.type!==n)return e.apply(this,arguments);const u=r.ordered,d=r.start,h=r.loose;let g="";for(let p=0;p<r.items.length;p++){const v=r.items[p],T=v.checked,_=v.task;let E="";if(v.task){const x=this.checkbox({checked:!!T});h?v.tokens.length>0&&v.tokens[0].type==="paragraph"?(v.tokens[0].text=x+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&v.tokens[0].tokens[0].type==="text"&&(v.tokens[0].tokens[0].text=x+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:x+" "}):E+=x+" "}E+=this.parser.parse(v.tokens,h),g+=this.listitem({type:"list_item",raw:E,text:E,task:_,checked:!!T,loose:h,tokens:v.tokens})}return e.call(this,g,u,d)};case"html":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.text,r.block)};case"paragraph":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(r.tokens))};case"escape":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.text)};case"link":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.href,r.title,this.parser.parseInline(r.tokens))};case"image":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.href,r.title,r.text)};case"strong":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(r.tokens))};case"em":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(r.tokens))};case"codespan":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.text)};case"del":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(r.tokens))};case"text":return function(r){return!r.type||r.type!==n?e.apply(this,arguments):e.call(this,r.text)}}return e},mc=function(e,n){return(o,r)=>{const u={...r},d={...this.defaults,...u};this.defaults.async===!0&&u.async===!1&&(d.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),d.async=!0);const h=Is(this,_n,wy).call(this,!!d.silent,!!d.async);if(typeof o>"u"||o===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(d.hooks&&(d.hooks.options=d),d.async)return Promise.resolve(d.hooks?d.hooks.preprocess(o):o).then(g=>e(g,d)).then(g=>d.hooks?d.hooks.processAllTokens(g):g).then(g=>d.walkTokens?Promise.all(this.walkTokens(g,d.walkTokens)).then(()=>g):g).then(g=>n(g,d)).then(g=>d.hooks?d.hooks.postprocess(g):g).catch(h);try{d.hooks&&(o=d.hooks.preprocess(o));let g=e(o,d);d.hooks&&(g=d.hooks.processAllTokens(g)),d.walkTokens&&this.walkTokens(g,d.walkTokens);let p=n(g,d);return d.hooks&&(p=d.hooks.postprocess(p)),p}catch(g){return h(g)}}},wy=function(e,n){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+kt(o.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(o);throw o}};const _i=new rS;function ke(t,e){return _i.parse(t,e)}ke.options=ke.setOptions=function(t){return _i.setOptions(t),ke.defaults=_i.defaults,hy(ke.defaults),ke};ke.getDefaults=Hc;ke.defaults=Ci;ke.use=function(...t){return _i.use(...t),ke.defaults=_i.defaults,hy(ke.defaults),ke};ke.walkTokens=function(t,e){return _i.walkTokens(t,e)};ke.parseInline=_i.parseInline;ke.Parser=jt;ke.parser=jt.parse;ke.Renderer=Al;ke.TextRenderer=Yc;ke.Lexer=Wt;ke.lexer=Wt.lex;ke.Tokenizer=xl;ke.Hooks=Gs;ke.parse=ke;ke.options;ke.setOptions;ke.use;ke.walkTokens;ke.parseInline;jt.parse;Wt.lex;const lS=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.667 0l3.181-3.183m-4.991-2.691v4.992m0 0h-4.992m4.992 0-3.181-3.183a8.25 8.25 0 0 0-11.667 0L2.985 16.652"})}),aS=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})}),uS=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),cS=()=>w.jsx("div",{className:"w-8 h-8 rounded-full bg-accent-blue flex items-center justify-center font-bold text-white flex-shrink-0",children:"U"}),fS=()=>w.jsx("div",{className:"w-8 h-8 rounded-full bg-sidebar-bg border border-border-color flex items-center justify-center flex-shrink-0",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-accent-blue",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})})}),pm=({content:t})=>{const e=ke.parse(t,{gfm:!0,breaks:!0});return w.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e}})},dS=({result:t})=>{const[e,n]=re.useState(!1),o=t.signal==="BUY"?"text-accent-green":t.signal==="SELL"?"text-accent-red":"text-accent-yellow",r=t.signal==="BUY"?"bg-accent-green-10":t.signal==="SELL"?"bg-accent-red-10":"bg-accent-yellow-10",u=()=>{let d=`Wizz AI Analysis
---
`;d+=`Summary: ${t.summary}
`,d+=`Signal: ${t.signal} (${t.confidence} Confidence)
`,t.trade&&t.confidence==="HIGH"&&(d+=`Entry Price: ${t.trade.entryPrice}
`,d+=`Take Profit: ${t.trade.takeProfit}
`,d+=`Stop Loss: ${t.trade.stopLoss}
`),t.riskRewardRatio&&(d+=`Risk/Reward Ratio: ${t.riskRewardRatio}
`),d+=`AI Confidence Score: ${t.overallConfidenceScore}/100`,navigator.clipboard.writeText(d).then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})};return w.jsxs("div",{className:"border border-border-color rounded-lg space-y-4 bg-sidebar-bg relative",children:[w.jsx("div",{className:"absolute top-2 right-2",children:w.jsx("button",{onClick:u,className:"p-1.5 rounded-md text-text-secondary hover:bg-input-bg hover:text-text-primary transition-colors","aria-label":"Copy analysis to clipboard",children:e?w.jsx(uS,{className:"h-4 w-4 text-accent-green"}):w.jsx(aS,{className:"h-4 w-4"})})}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-text-primary mb-1",children:"Summary"}),w.jsx("p",{className:"text-sm text-text-secondary",children:t.summary})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:`p-3 rounded-lg ${r}`,children:[w.jsx("h4",{className:"text-xs font-semibold text-text-secondary mb-1",children:"Signal"}),w.jsx("p",{className:`text-lg font-bold ${o}`,children:t.signal})]}),w.jsxs("div",{className:"p-3 rounded-lg bg-input-bg-50",children:[w.jsx("h4",{className:"text-xs font-semibold text-text-secondary mb-1",children:"Confidence"}),w.jsx("p",{className:`text-lg font-bold ${t.confidence==="HIGH"?"text-text-primary":"text-text-secondary"}`,children:t.confidence})]})]}),t.timeframe&&w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Analysis Context"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[w.jsxs("div",{className:"bg-input-bg-50 p-2 rounded-md",children:[w.jsx("span",{className:"text-text-secondary block text-xs",children:"Chart Timeframe"}),w.jsx("span",{className:"font-mono text-text-primary",children:t.timeframe})]}),t.riskRewardRatio&&w.jsxs("div",{className:"bg-input-bg-50 p-2 rounded-md",children:[w.jsx("span",{className:"text-text-secondary block text-xs",children:"Risk/Reward Ratio"}),w.jsx("span",{className:"font-mono text-text-primary",children:t.riskRewardRatio})]})]})]}),t.trade&&t.confidence==="HIGH"&&w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Trade Details"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[w.jsxs("div",{className:"bg-input-bg-50 p-2 rounded-md",children:[w.jsx("span",{className:"text-text-secondary block text-xs",children:"Entry Price"}),w.jsx("span",{className:"font-mono text-text-primary",children:t.trade.entryPrice})]}),w.jsxs("div",{className:"bg-input-bg-50 p-2 rounded-md",children:[w.jsx("span",{className:"text-text-secondary block text-xs",children:"Take Profit"}),w.jsx("span",{className:"font-mono text-accent-green",children:t.trade.takeProfit})]}),w.jsxs("div",{className:"bg-input-bg-50 p-2 rounded-md",children:[w.jsx("span",{className:"text-text-secondary block text-xs",children:"Stop Loss"}),w.jsx("span",{className:"font-mono text-accent-red",children:t.trade.stopLoss})]})]})]}),t.confidence==="LOW"&&w.jsx("p",{className:"text-xs text-center text-text-secondary italic",children:"No trade signal provided due to low confidence."}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-text-primary mb-2",children:"Verification"}),w.jsxs("div",{className:"bg-input-bg-50 p-3 rounded-lg space-y-2",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"AI Confidence Score"}),w.jsxs("span",{className:"text-lg font-bold text-text-primary",children:[t.overallConfidenceScore,"/100"]})]}),w.jsx("div",{className:"w-full bg-border-color rounded-full h-2.5",children:w.jsx("div",{className:"bg-accent-blue h-2.5 rounded-full",style:{width:`${t.overallConfidenceScore}%`}})}),w.jsx("p",{className:"text-xs text-text-secondary pt-1",children:t.verificationSummary})]})]})]})]})},hS=wo.memo(({message:t,isLastMessage:e,isLoading:n,onRegenerate:o})=>{const r=t.role==="user",{content:u,thinkingText:d}=t;if(r){const g=[];return Array.isArray(t.images)&&t.images.length>0?g.push(...t.images):t.image&&g.push(t.image),w.jsxs("div",{className:"flex items-start gap-4 justify-end",children:[w.jsxs("div",{className:"flex-1 max-w-2xl bg-accent-blue rounded-lg p-3 text-white",children:[typeof u=="string"&&u&&w.jsx("p",{className:"whitespace-pre-wrap",children:u}),g.length>0&&w.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2",children:g.map((p,v)=>w.jsx("img",{src:p,alt:`User upload ${v+1}`,className:"max-w-xs max-h-64 rounded-md border border-blue-400"},v))})]}),w.jsx(cS,{})]})}const h=typeof u=="string"&&(u.startsWith("Error:")||u.startsWith("Sorry, I encountered an error")||u==="Response stopped by user."||u==="An unexpected error occurred. Please try again.");return w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx(fS,{}),w.jsxs("div",{className:"flex-1 max-w-2xl space-y-4",children:[n&&w.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[w.jsx("div",{className:"h-5 w-5 border-2 border-t-transparent border-accent-blue rounded-full animate-spin"}),w.jsx("span",{children:"Wizz is analyzing..."})]}),d&&w.jsx(pm,{content:d}),typeof u=="object"&&w.jsx(dS,{result:u}),typeof u=="string"&&u&&(h?w.jsx("p",{className:"text-text-secondary italic",children:u}):w.jsx(pm,{content:u})),e&&t.role==="assistant"&&!n&&t.content&&w.jsx("div",{className:"!mt-2 flex justify-start",children:w.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 text-xs text-text-secondary hover:text-text-primary px-2 py-1 rounded-md hover:bg-input-bg transition-colors","aria-label":"Regenerate response",children:[w.jsx(lS,{className:"h-4 w-4"}),w.jsx("span",{children:"Regenerate"})]})})]})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pS,mS;function gS(){return{geminiUrl:pS,vertexUrl:mS}}function yS(t,e,n,o){var r,u;if(!(t!=null&&t.baseUrl)){const d=gS();return e?(r=d.vertexUrl)!==null&&r!==void 0?r:n:(u=d.geminiUrl)!==null&&u!==void 0?u:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ei{}function ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const u=e[r];return u!=null?String(u):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(t,e,n){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(n))for(let p=0;p<g.length;p++){const v=g[p];c(v,e.slice(u+1),n[p])}else for(const p of g)c(p,e.slice(u+1),n)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];c(g[0],e.slice(u+1),n);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in t){const u=t[r];return Array.isArray(u)?u.map(d=>a(d,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mm||(mm={}));var gm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(gm||(gm={}));var Ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ye||(Ye={}));var ym;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ym||(ym={}));var vm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(vm||(vm={}));var Tm;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Tm||(Tm={}));var _m;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_m||(_m={}));var Sm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Sm||(Sm={}));var Cm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cm||(Cm={}));var Em;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Em||(Em={}));var wm;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wm||(wm={}));var xm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(xm||(xm={}));var bm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(bm||(bm={}));var Am;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Am||(Am={}));var Rm;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Rm||(Rm={}));var Mm;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mm||(Mm={}));var Rl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rl||(Rl={}));var km;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var yc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yc||(yc={}));var Nm;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Nm||(Nm={}));var Dm;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Dm||(Dm={}));var Im;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Im||(Im={}));var Um;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Um||(Um={}));var Lm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Lm||(Lm={}));var Pm;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Pm||(Pm={}));var qm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qm||(qm={}));var Vm;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Vm||(Vm={}));var Bm;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bm||(Bm={}));var Om;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Om||(Om={}));var Hm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hm||(Hm={}));var zm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zm||(zm={}));var Gm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Gm||(Gm={}));var $m;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})($m||($m={}));var Fm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Fm||(Fm={}));var Jm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Jm||(Jm={}));var Ym;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ym||(Ym={}));var Km;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Km||(Km={}));var Qm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Qm||(Qm={}));var Xm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xm||(Xm={}));var Zm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Zm||(Zm={}));var Wm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wm||(Wm={}));var jm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jm||(jm={}));var xo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xo||(xo={}));class vc{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Vs{get text(){var e,n,o,r,u,d,h,g;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const _ of(g=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,x]of Object.entries(_))E!=="text"&&E!=="thought"&&(x!==null||x!==void 0)&&T.push(E);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,p+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,n,o,r,u,d,h,g;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(g=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[_,E]of Object.entries(T))_!=="inlineData"&&(E!==null||E!==void 0)&&v.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,o,r,u,d,h,g;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,o,r,u,d,h,g,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,o,r,u,d,h,g,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class eg{}class tg{}class vS{}class TS{}class _S{}class ng{}class ig{}class og{}class SS{}class sg{}class rg{}class lg{}class ag{}class CS{}class ES{}class wS{}class ug{}class xS{get text(){var e,n,o;let r="",u=!1;const d=[];for(const h of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?r:void 0}get data(){var e,n,o;let r="";const u=[];for(const d of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&g!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Ml{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const o=new Ml;if(o.name=e.name,o.metadata=e.metadata,o.done=e.done,o.error=e.error,n){const r=e.response;if(r){const u=new sg,d=r.videos;u.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?gc(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),u.raiMediaFilteredCount=r.raiMediaFilteredCount,u.raiMediaFilteredReasons=r.raiMediaFilteredReasons,o.response=u}}else{const r=e.response;if(r){const u=new sg,d=r.generateVideoResponse,h=d==null?void 0:d.generatedSamples;u.generatedVideos=h==null?void 0:h.map(g=>{const p=g.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?gc(p==null?void 0:p.encodedVideo):void 0,mimeType:g.encoding}}}),u.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,u.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,o.response=u}}return o}}class bS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function xy(t,e){const n=Ae(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function by(t){return Array.isArray(t)?t.map(e=>kl(e)):[kl(t)]}function kl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Ay(t){const e=kl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ry(t){const e=kl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function My(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>cg(e)):[cg(t)]}function Tc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function fg(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function dg(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function dt(t){if(t==null)throw new Error("ContentUnion is required");return Tc(t)?t:{role:"user",parts:My(t)}}function ky(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=dt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=dt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>dt(n)):[dt(e)]}function Ot(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(fg(t)||dg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(t)]}const e=[],n=[],o=Tc(t[0]);for(const r of t){const u=Tc(r);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(r);else{if(fg(r)||dg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:My(n)}),e}function AS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Ye).includes(n[0].toUpperCase())?n[0].toUpperCase():Ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Ye).includes(o.toUpperCase())?o.toUpperCase():Ye.TYPE_UNSPECIFIED})}}function bo(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&AS(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Ye).includes(h.toUpperCase())?h.toUpperCase():Ye.TYPE_UNSPECIFIED}else if(n.includes(d))e[d]=bo(h);else if(o.includes(d)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(bo(p))}e[d]=g}else if(r.includes(d)){const g={};for(const[p,v]of Object.entries(h))g[p]=bo(v);e[d]=g}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Kc(t){return bo(t)}function Qc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bo(e.response));return t}function No(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function RS(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Sn(t,e){if(typeof e!="string")throw new Error("name must be a string");return RS(t,e,"cachedContents")}function Ny(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wi(t){return gc(t)}function MS(t){return t!=null&&typeof t=="object"&&"name"in t}function kS(t){return t!=null&&typeof t=="object"&&"video"in t}function NS(t){return t!=null&&typeof t=="object"&&"uri"in t}function Dy(t){var e;let n;if(MS(t)&&(n=t.name),!(NS(t)&&(n=t.uri,n===void 0))&&!(kS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Iy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Uy(t){for(const e of["models","tunedModels","publisherModels"])if(DS(t,e))return t[e];return[]}function DS(t,e){return t!==null&&typeof t=="object"&&e in t}function IS(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function US(t,e={}){const n=[],o=new Set;for(const r of t){const u=r.name;if(o.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);o.add(u);const d=IS(r,e);d.functionDeclarations&&n.push(...d.functionDeclarations)}return{functionDeclarations:n}}function Ly(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function LS(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Do(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Py(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function qS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function VS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function BS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],PS(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],qS(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],VS(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function qy(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>BS(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function OS(t){const e={},n=a(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&c(e,["default"],o);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const u=a(t,["enum"]);u!=null&&c(e,["enum"],u);const d=a(t,["example"]);d!=null&&c(e,["example"],d);const h=a(t,["format"]);h!=null&&c(e,["format"],h);const g=a(t,["items"]);g!=null&&c(e,["items"],g);const p=a(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=a(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const T=a(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const _=a(t,["maximum"]);_!=null&&c(e,["maximum"],_);const E=a(t,["minItems"]);E!=null&&c(e,["minItems"],E);const x=a(t,["minLength"]);x!=null&&c(e,["minLength"],x);const D=a(t,["minProperties"]);D!=null&&c(e,["minProperties"],D);const k=a(t,["minimum"]);k!=null&&c(e,["minimum"],k);const V=a(t,["nullable"]);V!=null&&c(e,["nullable"],V);const z=a(t,["pattern"]);z!=null&&c(e,["pattern"],z);const N=a(t,["properties"]);N!=null&&c(e,["properties"],N);const J=a(t,["propertyOrdering"]);J!=null&&c(e,["propertyOrdering"],J);const B=a(t,["required"]);B!=null&&c(e,["required"],B);const X=a(t,["title"]);X!=null&&c(e,["title"],X);const K=a(t,["type"]);return K!=null&&c(e,["type"],K),e}function HS(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const o=a(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function zS(t){const e={},n=a(t,["behavior"]);n!=null&&c(e,["behavior"],n);const o=a(t,["description"]);o!=null&&c(e,["description"],o);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const u=a(t,["parameters"]);u!=null&&c(e,["parameters"],u);const d=a(t,["parametersJsonSchema"]);d!=null&&c(e,["parametersJsonSchema"],d);const h=a(t,["response"]);h!=null&&c(e,["response"],h);const g=a(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function GS(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function $S(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],GS(n)),e}function FS(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function JS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],FS(n)),e}function YS(){return{}}function KS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>zS(p))),c(e,["functionDeclarations"],g)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],$S(o));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],JS(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&c(e,["urlContext"],YS());const d=a(t,["codeExecution"]);d!=null&&c(e,["codeExecution"],d);const h=a(t,["computerUse"]);return h!=null&&c(e,["computerUse"],h),e}function QS(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function XS(t){const e={},n=a(t,["latitude"]);n!=null&&c(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function ZS(t){const e={},n=a(t,["latLng"]);n!=null&&c(e,["latLng"],XS(n));const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function WS(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],QS(n));const o=a(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],ZS(o)),e}function jS(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function Vy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],jS(n)),e}function eC(t){const e={},n=a(t,["speaker"]);n!=null&&c(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Vy(o)),e}function tC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>eC(r))),c(e,["speakerVoiceConfigs"],o)}return e}function nC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],Vy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],tC(o));const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function iC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function oC(t,e,n){const o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],qy(dt(r)));const u=a(e,["temperature"]);u!=null&&c(o,["temperature"],u);const d=a(e,["topP"]);d!=null&&c(o,["topP"],d);const h=a(e,["topK"]);h!=null&&c(o,["topK"],h);const g=a(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const p=a(e,["maxOutputTokens"]);p!=null&&c(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=a(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const _=a(e,["logprobs"]);_!=null&&c(o,["logprobs"],_);const E=a(e,["presencePenalty"]);E!=null&&c(o,["presencePenalty"],E);const x=a(e,["frequencyPenalty"]);x!=null&&c(o,["frequencyPenalty"],x);const D=a(e,["seed"]);D!=null&&c(o,["seed"],D);const k=a(e,["responseMimeType"]);k!=null&&c(o,["responseMimeType"],k);const V=a(e,["responseSchema"]);V!=null&&c(o,["responseSchema"],OS(Kc(V)));const z=a(e,["responseJsonSchema"]);if(z!=null&&c(o,["responseJsonSchema"],z),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=a(e,["safetySettings"]);if(n!==void 0&&N!=null){let ne=N;Array.isArray(ne)&&(ne=ne.map(se=>HS(se))),c(n,["safetySettings"],ne)}const J=a(e,["tools"]);if(n!==void 0&&J!=null){let ne=No(J);Array.isArray(ne)&&(ne=ne.map(se=>KS(ko(se)))),c(n,["tools"],ne)}const B=a(e,["toolConfig"]);if(n!==void 0&&B!=null&&c(n,["toolConfig"],WS(B)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=a(e,["cachedContent"]);n!==void 0&&X!=null&&c(n,["cachedContent"],Sn(t,X));const K=a(e,["responseModalities"]);K!=null&&c(o,["responseModalities"],K);const Q=a(e,["mediaResolution"]);Q!=null&&c(o,["mediaResolution"],Q);const Z=a(e,["speechConfig"]);if(Z!=null&&c(o,["speechConfig"],nC(Qc(Z))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&c(o,["thinkingConfig"],iC(ue)),o}function sC(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["request","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>qy(h))),c(n,["request","contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["request","generationConfig"],oC(t,u,n)),n}function rC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=a(e,["fileName"]);o!=null&&c(n,["fileName"],o);const r=a(e,["inlinedRequests"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>sC(t,d))),c(n,["requests","requests"],u)}return n}function lC(t,e){const n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&c(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function aC(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["src"]);r!=null&&c(n,["batch","inputConfig"],rC(t,Ly(t,r)));const u=a(e,["config"]);return u!=null&&c(n,["config"],lC(u,n)),n}function uC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function cC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function fC(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dC(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],fC(n,e)),e}function hC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function pC(t){const e={},n=a(t,["format"]);n!=null&&c(e,["instancesFormat"],n);const o=a(t,["gcsUri"]);o!=null&&c(e,["gcsSource","uris"],o);const r=a(t,["bigqueryUri"]);if(r!=null&&c(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mC(t){const e={},n=a(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);const o=a(t,["gcsUri"]);o!=null&&c(e,["gcsDestination","outputUriPrefix"],o);const r=a(t,["bigqueryUri"]);if(r!=null&&c(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function gC(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const r=a(t,["dest"]);return e!==void 0&&r!=null&&c(e,["outputConfig"],mC(LS(r))),n}function yC(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["model"],Ae(t,o));const r=a(e,["src"]);r!=null&&c(n,["inputConfig"],pC(Ly(t,r)));const u=a(e,["config"]);return u!=null&&c(n,["config"],gC(u,n)),n}function vC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function TC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function _C(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const u=a(t,["filter"]);return e!==void 0&&u!=null&&c(e,["_query","filter"],u),n}function SC(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],_C(n,e)),e}function CC(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Do(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function EC(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function wC(t){const e={},n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function xC(t){const e={},n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function bC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],EC(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],wC(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],xC(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function AC(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>bC(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function RC(t){const e={},n=a(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function MC(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function kC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>MC(r))),c(e,["urlMetadata"],o)}return e}function NC(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],AC(n));const o=a(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],RC(o));const r=a(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const u=a(t,["finishReason"]);u!=null&&c(e,["finishReason"],u);const d=a(t,["urlContextMetadata"]);d!=null&&c(e,["urlContextMetadata"],kC(d));const h=a(t,["avgLogprobs"]);h!=null&&c(e,["avgLogprobs"],h);const g=a(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const p=a(t,["index"]);p!=null&&c(e,["index"],p);const v=a(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const T=a(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function DC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>NC(p))),c(e,["candidates"],g)}const r=a(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const u=a(t,["promptFeedback"]);u!=null&&c(e,["promptFeedback"],u);const d=a(t,["responseId"]);d!=null&&c(e,["responseId"],d);const h=a(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function By(t){const e={},n=a(t,["details"]);n!=null&&c(e,["details"],n);const o=a(t,["code"]);o!=null&&c(e,["code"],o);const r=a(t,["message"]);return r!=null&&c(e,["message"],r),e}function IC(t){const e={},n=a(t,["response"]);n!=null&&c(e,["response"],DC(n));const o=a(t,["error"]);return o!=null&&c(e,["error"],By(o)),e}function UC(t){const e={},n=a(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);const o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>IC(u))),c(e,["inlinedResponses"],r)}return e}function _c(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["metadata","displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["metadata","state"]);r!=null&&c(e,["state"],Py(r));const u=a(t,["metadata","createTime"]);u!=null&&c(e,["createTime"],u);const d=a(t,["metadata","endTime"]);d!=null&&c(e,["endTime"],d);const h=a(t,["metadata","updateTime"]);h!=null&&c(e,["updateTime"],h);const g=a(t,["metadata","model"]);g!=null&&c(e,["model"],g);const p=a(t,["metadata","output"]);return p!=null&&c(e,["dest"],UC(p)),e}function LC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["operations"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>_c(d))),c(e,["batchJobs"],u)}return e}function PC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const u=a(t,["error"]);return u!=null&&c(e,["error"],By(u)),e}function Oy(t){const e={},n=a(t,["details"]);n!=null&&c(e,["details"],n);const o=a(t,["code"]);o!=null&&c(e,["code"],o);const r=a(t,["message"]);return r!=null&&c(e,["message"],r),e}function qC(t){const e={},n=a(t,["instancesFormat"]);n!=null&&c(e,["format"],n);const o=a(t,["gcsSource","uris"]);o!=null&&c(e,["gcsUri"],o);const r=a(t,["bigquerySource","inputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function VC(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);const o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&c(e,["gcsUri"],o);const r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function Sc(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["state"]);r!=null&&c(e,["state"],Py(r));const u=a(t,["error"]);u!=null&&c(e,["error"],Oy(u));const d=a(t,["createTime"]);d!=null&&c(e,["createTime"],d);const h=a(t,["startTime"]);h!=null&&c(e,["startTime"],h);const g=a(t,["endTime"]);g!=null&&c(e,["endTime"],g);const p=a(t,["updateTime"]);p!=null&&c(e,["updateTime"],p);const v=a(t,["model"]);v!=null&&c(e,["model"],v);const T=a(t,["inputConfig"]);T!=null&&c(e,["src"],qC(T));const _=a(t,["outputConfig"]);return _!=null&&c(e,["dest"],VC(_)),e}function BC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["batchPredictionJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Sc(d))),c(e,["batchJobs"],u)}return e}function OC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const u=a(t,["error"]);return u!=null&&c(e,["error"],Oy(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Si;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Si||(Si={}));class Zs{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends Ei{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${r}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Zs(Si.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}async createInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=yC(this.apiClient,e);return h=ie("batchPredictionJobs",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>Sc(v))}else{const p=aC(this.apiClient,e);return h=ie("{model}:batchGenerateContent",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>_c(v))}}async get(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=vC(this.apiClient,e);return h=ie("batchPredictionJobs/{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>Sc(v))}else{const p=uC(this.apiClient,e);return h=ie("batches/{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>_c(v))}}async cancel(e){var n,o,r,u;let d="",h={};if(this.apiClient.isVertexAI()){const g=TC(this.apiClient,e);d=ie("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g.config,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=cC(this.apiClient,e);d=ie("batches/{name}:cancel",g._url),h=g._query,delete g.config,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=SC(e);return h=ie("batchPredictionJobs",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=BC(v),_=new ug;return Object.assign(_,T),_})}else{const p=dC(e);return h=ie("batches",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=LC(v),_=new ug;return Object.assign(_,T),_})}}async delete(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=CC(this.apiClient,e);return h=ie("batchPredictionJobs/{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>OC(v))}else{const p=hC(this.apiClient,e);return h=ie("batches/{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>PC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function GC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function $C(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function FC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],zC(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],GC(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],$C(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function hg(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>FC(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function JC(t){const e={},n=a(t,["behavior"]);n!=null&&c(e,["behavior"],n);const o=a(t,["description"]);o!=null&&c(e,["description"],o);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const u=a(t,["parameters"]);u!=null&&c(e,["parameters"],u);const d=a(t,["parametersJsonSchema"]);d!=null&&c(e,["parametersJsonSchema"],d);const h=a(t,["response"]);h!=null&&c(e,["response"],h);const g=a(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function YC(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function KC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],YC(n)),e}function QC(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function XC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],QC(n)),e}function ZC(){return{}}function WC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>JC(p))),c(e,["functionDeclarations"],g)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],KC(o));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],XC(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&c(e,["urlContext"],ZC());const d=a(t,["codeExecution"]);d!=null&&c(e,["codeExecution"],d);const h=a(t,["computerUse"]);return h!=null&&c(e,["computerUse"],h),e}function jC(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function eE(t){const e={},n=a(t,["latitude"]);n!=null&&c(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function tE(t){const e={},n=a(t,["latLng"]);n!=null&&c(e,["latLng"],eE(n));const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function nE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],jC(n));const o=a(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],tE(o)),e}function iE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const u=a(t,["displayName"]);e!==void 0&&u!=null&&c(e,["displayName"],u);const d=a(t,["contents"]);if(e!==void 0&&d!=null){let v=Ot(d);Array.isArray(v)&&(v=v.map(T=>hg(T))),c(e,["contents"],v)}const h=a(t,["systemInstruction"]);e!==void 0&&h!=null&&c(e,["systemInstruction"],hg(dt(h)));const g=a(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>WC(T))),c(e,["tools"],v)}const p=a(t,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],nE(p)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oE(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["model"],xy(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],iE(r,n)),n}function sE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function rE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function lE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function aE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],lE(r,n)),n}function uE(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function cE(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],uE(n,e)),e}function fE(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function dE(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["data"]);o!=null&&c(e,["data"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function hE(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function pE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],fE(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],dE(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],hE(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function pg(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>pE(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function mE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const u=a(t,["parametersJsonSchema"]);u!=null&&c(e,["parametersJsonSchema"],u);const d=a(t,["response"]);d!=null&&c(e,["response"],d);const h=a(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function gE(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function yE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],gE(n)),e}function vE(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function TE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],vE(n)),e}function _E(){return{}}function SE(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function CE(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],SE(n));const o=a(t,["authType"]);o!=null&&c(e,["authType"],o);const r=a(t,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const u=a(t,["httpBasicAuthConfig"]);u!=null&&c(e,["httpBasicAuthConfig"],u);const d=a(t,["oauthConfig"]);d!=null&&c(e,["oauthConfig"],d);const h=a(t,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function EE(t){const e={},n=a(t,["authConfig"]);return n!=null&&c(e,["authConfig"],CE(n)),e}function wE(){return{}}function xE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(_=>mE(_))),c(e,["functionDeclarations"],T)}const o=a(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],yE(r));const u=a(t,["googleSearchRetrieval"]);u!=null&&c(e,["googleSearchRetrieval"],TE(u)),a(t,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],_E());const h=a(t,["googleMaps"]);h!=null&&c(e,["googleMaps"],EE(h)),a(t,["urlContext"])!=null&&c(e,["urlContext"],wE());const p=a(t,["codeExecution"]);p!=null&&c(e,["codeExecution"],p);const v=a(t,["computerUse"]);return v!=null&&c(e,["computerUse"],v),e}function bE(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function AE(t){const e={},n=a(t,["latitude"]);n!=null&&c(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function RE(t){const e={},n=a(t,["latLng"]);n!=null&&c(e,["latLng"],AE(n));const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function ME(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],bE(n));const o=a(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],RE(o)),e}function kE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const u=a(t,["displayName"]);e!==void 0&&u!=null&&c(e,["displayName"],u);const d=a(t,["contents"]);if(e!==void 0&&d!=null){let T=Ot(d);Array.isArray(T)&&(T=T.map(_=>pg(_))),c(e,["contents"],T)}const h=a(t,["systemInstruction"]);e!==void 0&&h!=null&&c(e,["systemInstruction"],pg(dt(h)));const g=a(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(_=>xE(_))),c(e,["tools"],T)}const p=a(t,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],ME(p));const v=a(t,["kmsKeyName"]);return e!==void 0&&v!=null&&c(e,["encryption_spec","kmsKeyName"],v),n}function NE(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["model"],xy(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],kE(r,n)),n}function DE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function IE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function UE(t,e){const n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function LE(t,e){const n={},o=a(e,["name"]);o!=null&&c(n,["_url","name"],Sn(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],UE(r,n)),n}function PE(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function qE(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],PE(n,e)),e}function El(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["model"]);r!=null&&c(e,["model"],r);const u=a(t,["createTime"]);u!=null&&c(e,["createTime"],u);const d=a(t,["updateTime"]);d!=null&&c(e,["updateTime"],d);const h=a(t,["expireTime"]);h!=null&&c(e,["expireTime"],h);const g=a(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function VE(){return{}}function BE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>El(d))),c(e,["cachedContents"],u)}return e}function wl(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["model"]);r!=null&&c(e,["model"],r);const u=a(t,["createTime"]);u!=null&&c(e,["createTime"],u);const d=a(t,["updateTime"]);d!=null&&c(e,["updateTime"],d);const h=a(t,["expireTime"]);h!=null&&c(e,["expireTime"],h);const g=a(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function OE(){return{}}function HE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["cachedContents"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>wl(d))),c(e,["cachedContents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zE extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zs(Si.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=NE(this.apiClient,e);return h=ie("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>wl(v))}else{const p=oE(this.apiClient,e);return h=ie("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>El(v))}}async get(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=DE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>wl(v))}else{const p=sE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>El(v))}}async delete(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=IE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(()=>{const v=OE(),T=new lg;return Object.assign(T,v),T})}else{const p=rE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(()=>{const v=VE(),T=new lg;return Object.assign(T,v),T})}}async update(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=LE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>wl(v))}else{const p=aE(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>El(v))}}async listInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=qE(e);return h=ie("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=HE(v),_=new ag;return Object.assign(_,T),_})}else{const p=cE(e);return h=ie("cachedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=BE(v),_=new ag;return Object.assign(_,T),_})}}}function mg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(t){return this instanceof Be?(this.v=t,this):new Be(t)}function Ao(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,u=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(E){return function(x){return Promise.resolve(x).then(E,T)}}function h(E,x){o[E]&&(r[E]=function(D){return new Promise(function(k,V){u.push([E,D,k,V])>1||g(E,D)})},x&&(r[E]=x(r[E])))}function g(E,x){try{p(o[E](x))}catch(D){_(u[0][3],D)}}function p(E){E.value instanceof Be?Promise.resolve(E.value.v).then(v,T):_(u[0][2],E)}function v(E){g("next",E)}function T(E){g("throw",E)}function _(E,x){E(x),u.shift(),u.length&&g(u[0][0],u[0][1])}}function $s(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mg=="function"?mg(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=t[u]&&function(d){return new Promise(function(h,g){d=t[u](d),r(h,g,d.done,d.value)})}}function r(u,d,h,g){Promise.resolve(g).then(function(p){u({value:p,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Hy(n)}function Hy(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function $E(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gg(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let u=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),u&&!Hy(t[o])&&(u=!1),o++;u?e.push(...r):e.pop()}return e}class FE{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new JE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class JE{constructor(e,n,o,r={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=u,this.sendPromise=Promise.resolve(),$E(u)}async sendMessage(e){var n;await this.sendPromise;const o=dt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,d,h;const g=await r,p=(d=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];v!=null&&(_=(h=v.slice(T))!==null&&h!==void 0?h:[]);const E=p?[p]:[];this.recordHistory(o,E,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=dt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const u=await r;return this.processStreamResponse(u,o)}getHistory(e=!1){const n=e?gg(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Ao(this,arguments,function*(){var d,h,g,p;const v=[];try{for(var T=!0,_=$s(e),E;E=yield Be(_.next()),d=E.done,!d;T=!0){p=E.value,T=!1;const x=p;if(GE(x)){const D=(r=(o=x.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;D!==void 0&&v.push(D)}yield yield Be(x)}}catch(x){h={error:x}}finally{try{!T&&!d&&(g=_.return)&&(yield Be(g.call(_)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(u=>u.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...gg(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ul extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ul.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function KE(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],YE(n,e)),e}function QE(t){const e={},n=a(t,["details"]);n!=null&&c(e,["details"],n);const o=a(t,["message"]);o!=null&&c(e,["message"],o);const r=a(t,["code"]);return r!=null&&c(e,["code"],r),e}function XE(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["mimeType"]);r!=null&&c(e,["mimeType"],r);const u=a(t,["sizeBytes"]);u!=null&&c(e,["sizeBytes"],u);const d=a(t,["createTime"]);d!=null&&c(e,["createTime"],d);const h=a(t,["expirationTime"]);h!=null&&c(e,["expirationTime"],h);const g=a(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const p=a(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=a(t,["uri"]);v!=null&&c(e,["uri"],v);const T=a(t,["downloadUri"]);T!=null&&c(e,["downloadUri"],T);const _=a(t,["state"]);_!=null&&c(e,["state"],_);const E=a(t,["source"]);E!=null&&c(e,["source"],E);const x=a(t,["videoMetadata"]);x!=null&&c(e,["videoMetadata"],x);const D=a(t,["error"]);return D!=null&&c(e,["error"],QE(D)),e}function ZE(t){const e={},n=a(t,["file"]);n!=null&&c(e,["file"],XE(n));const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function WE(t){const e={},n=a(t,["name"]);n!=null&&c(e,["_url","file"],Dy(n));const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function jE(t){const e={},n=a(t,["name"]);n!=null&&c(e,["_url","file"],Dy(n));const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function ew(t){const e={},n=a(t,["details"]);n!=null&&c(e,["details"],n);const o=a(t,["message"]);o!=null&&c(e,["message"],o);const r=a(t,["code"]);return r!=null&&c(e,["code"],r),e}function Cc(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["mimeType"]);r!=null&&c(e,["mimeType"],r);const u=a(t,["sizeBytes"]);u!=null&&c(e,["sizeBytes"],u);const d=a(t,["createTime"]);d!=null&&c(e,["createTime"],d);const h=a(t,["expirationTime"]);h!=null&&c(e,["expirationTime"],h);const g=a(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const p=a(t,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=a(t,["uri"]);v!=null&&c(e,["uri"],v);const T=a(t,["downloadUri"]);T!=null&&c(e,["downloadUri"],T);const _=a(t,["state"]);_!=null&&c(e,["state"],_);const E=a(t,["source"]);E!=null&&c(e,["source"],E);const x=a(t,["videoMetadata"]);x!=null&&c(e,["videoMetadata"],x);const D=a(t,["error"]);return D!=null&&c(e,["error"],ew(D)),e}function tw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["files"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Cc(d))),c(e,["files"],u)}return e}function nw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function iw(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ow extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zs(Si.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Cc(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KE(e);return u=ie("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=tw(g),v=new CS;return Object.assign(v,p),v})}}async createInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZE(e);return u=ie("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=nw(g),v=new ES;return Object.assign(v,p),v})}}async get(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WE(e);return u=ie("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>Cc(g))}}async delete(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jE(e);return u=ie("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(()=>{const g=iw(),p=new wS;return Object.assign(p,g),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function zy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],sw(n)),e}function rw(t){const e={},n=a(t,["speaker"]);n!=null&&c(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],zy(o)),e}function lw(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>rw(r))),c(e,["speakerVoiceConfigs"],o)}return e}function aw(t){const e={},n=a(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],zy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],lw(o));const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function uw(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function cw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function fw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function dw(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],uw(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],cw(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],fw(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function hw(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>dw(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function pw(t){const e={},n=a(t,["behavior"]);n!=null&&c(e,["behavior"],n);const o=a(t,["description"]);o!=null&&c(e,["description"],o);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const u=a(t,["parameters"]);u!=null&&c(e,["parameters"],u);const d=a(t,["parametersJsonSchema"]);d!=null&&c(e,["parametersJsonSchema"],d);const h=a(t,["response"]);h!=null&&c(e,["response"],h);const g=a(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function mw(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function gw(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],mw(n)),e}function yw(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function vw(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],yw(n)),e}function Tw(){return{}}function _w(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>pw(p))),c(e,["functionDeclarations"],g)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],gw(o));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],vw(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&c(e,["urlContext"],Tw());const d=a(t,["codeExecution"]);d!=null&&c(e,["codeExecution"],d);const h=a(t,["computerUse"]);return h!=null&&c(e,["computerUse"],h),e}function Sw(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yg(){return{}}function Cw(t){const e={},n=a(t,["disabled"]);n!=null&&c(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const u=a(t,["prefixPaddingMs"]);u!=null&&c(e,["prefixPaddingMs"],u);const d=a(t,["silenceDurationMs"]);return d!=null&&c(e,["silenceDurationMs"],d),e}function Ew(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],Cw(n));const o=a(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=a(t,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function ww(t){const e={},n=a(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function xw(t){const e={},n=a(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],ww(o)),e}function bw(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function Aw(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const d=a(t,["topP"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topP"],d);const h=a(t,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const p=a(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=a(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],aw(Xc(T)));const _=a(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],hw(dt(E)));const x=a(t,["tools"]);if(e!==void 0&&x!=null){let B=No(x);Array.isArray(B)&&(B=B.map(X=>_w(ko(X)))),c(e,["setup","tools"],B)}const D=a(t,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],Sw(D));const k=a(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&c(e,["setup","inputAudioTranscription"],yg());const V=a(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&c(e,["setup","outputAudioTranscription"],yg());const z=a(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&c(e,["setup","realtimeInputConfig"],Ew(z));const N=a(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],xw(N));const J=a(t,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],bw(J)),n}function Rw(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["setup","model"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],Aw(r,n)),n}function Mw(){return{}}function kw(){return{}}function Nw(t){const e={},n=a(t,["media"]);n!=null&&c(e,["mediaChunks"],by(n));const o=a(t,["audio"]);o!=null&&c(e,["audio"],Ry(o));const r=a(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const u=a(t,["video"]);u!=null&&c(e,["video"],Ay(u));const d=a(t,["text"]);return d!=null&&c(e,["text"],d),a(t,["activityStart"])!=null&&c(e,["activityStart"],Mw()),a(t,["activityEnd"])!=null&&c(e,["activityEnd"],kw()),e}function Gy(t){const e={},n=a(t,["text"]);n!=null&&c(e,["text"],n);const o=a(t,["weight"]);return o!=null&&c(e,["weight"],o),e}function Dw(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Gy(r))),c(e,["weightedPrompts"],o)}return e}function $y(t){const e={},n=a(t,["temperature"]);n!=null&&c(e,["temperature"],n);const o=a(t,["topK"]);o!=null&&c(e,["topK"],o);const r=a(t,["seed"]);r!=null&&c(e,["seed"],r);const u=a(t,["guidance"]);u!=null&&c(e,["guidance"],u);const d=a(t,["bpm"]);d!=null&&c(e,["bpm"],d);const h=a(t,["density"]);h!=null&&c(e,["density"],h);const g=a(t,["brightness"]);g!=null&&c(e,["brightness"],g);const p=a(t,["scale"]);p!=null&&c(e,["scale"],p);const v=a(t,["muteBass"]);v!=null&&c(e,["muteBass"],v);const T=a(t,["muteDrums"]);T!=null&&c(e,["muteDrums"],T);const _=a(t,["onlyBassAndDrums"]);_!=null&&c(e,["onlyBassAndDrums"],_);const E=a(t,["musicGenerationMode"]);return E!=null&&c(e,["musicGenerationMode"],E),e}function Iw(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],$y(n)),e}function Fy(t){const e={},n=a(t,["model"]);return n!=null&&c(e,["model"],n),e}function Jy(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Gy(r))),c(e,["weightedPrompts"],o)}return e}function Ec(t){const e={},n=a(t,["setup"]);n!=null&&c(e,["setup"],Fy(n));const o=a(t,["clientContent"]);o!=null&&c(e,["clientContent"],Jy(o));const r=a(t,["musicGenerationConfig"]);r!=null&&c(e,["musicGenerationConfig"],$y(r));const u=a(t,["playbackControl"]);return u!=null&&c(e,["playbackControl"],u),e}function Uw(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function Lw(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],Uw(n)),e}function Pw(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],Lw(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function qw(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function Vw(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["data"]);o!=null&&c(e,["data"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Bw(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Ow(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],qw(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],Vw(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Bw(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function Hw(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Ow(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function zw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const u=a(t,["parametersJsonSchema"]);u!=null&&c(e,["parametersJsonSchema"],u);const d=a(t,["response"]);d!=null&&c(e,["response"],d);const h=a(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Gw(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function $w(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],Gw(n)),e}function Fw(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function Jw(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],Fw(n)),e}function Yw(){return{}}function Kw(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function Qw(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],Kw(n));const o=a(t,["authType"]);o!=null&&c(e,["authType"],o);const r=a(t,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const u=a(t,["httpBasicAuthConfig"]);u!=null&&c(e,["httpBasicAuthConfig"],u);const d=a(t,["oauthConfig"]);d!=null&&c(e,["oauthConfig"],d);const h=a(t,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function Xw(t){const e={},n=a(t,["authConfig"]);return n!=null&&c(e,["authConfig"],Qw(n)),e}function Zw(){return{}}function Ww(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(_=>zw(_))),c(e,["functionDeclarations"],T)}const o=a(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],$w(r));const u=a(t,["googleSearchRetrieval"]);u!=null&&c(e,["googleSearchRetrieval"],Jw(u)),a(t,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],Yw());const h=a(t,["googleMaps"]);h!=null&&c(e,["googleMaps"],Xw(h)),a(t,["urlContext"])!=null&&c(e,["urlContext"],Zw());const p=a(t,["codeExecution"]);p!=null&&c(e,["codeExecution"],p);const v=a(t,["computerUse"]);return v!=null&&c(e,["computerUse"],v),e}function jw(t){const e={},n=a(t,["handle"]);n!=null&&c(e,["handle"],n);const o=a(t,["transparent"]);return o!=null&&c(e,["transparent"],o),e}function vg(){return{}}function ex(t){const e={},n=a(t,["disabled"]);n!=null&&c(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const u=a(t,["prefixPaddingMs"]);u!=null&&c(e,["prefixPaddingMs"],u);const d=a(t,["silenceDurationMs"]);return d!=null&&c(e,["silenceDurationMs"],d),e}function tx(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],ex(n));const o=a(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=a(t,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function nx(t){const e={},n=a(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function ix(t){const e={},n=a(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],nx(o)),e}function ox(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function sx(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const d=a(t,["topP"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topP"],d);const h=a(t,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const p=a(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=a(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],Pw(Xc(T)));const _=a(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],Hw(dt(E)));const x=a(t,["tools"]);if(e!==void 0&&x!=null){let B=No(x);Array.isArray(B)&&(B=B.map(X=>Ww(ko(X)))),c(e,["setup","tools"],B)}const D=a(t,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],jw(D));const k=a(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&c(e,["setup","inputAudioTranscription"],vg());const V=a(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&c(e,["setup","outputAudioTranscription"],vg());const z=a(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&c(e,["setup","realtimeInputConfig"],tx(z));const N=a(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],ix(N));const J=a(t,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],ox(J)),n}function rx(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["setup","model"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],sx(r,n)),n}function lx(){return{}}function ax(){return{}}function ux(t){const e={},n=a(t,["media"]);n!=null&&c(e,["mediaChunks"],by(n));const o=a(t,["audio"]);o!=null&&c(e,["audio"],Ry(o));const r=a(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const u=a(t,["video"]);u!=null&&c(e,["video"],Ay(u));const d=a(t,["text"]);return d!=null&&c(e,["text"],d),a(t,["activityStart"])!=null&&c(e,["activityStart"],lx()),a(t,["activityEnd"])!=null&&c(e,["activityEnd"],ax()),e}function cx(){return{}}function fx(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function dx(t){const e={},n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function hx(t){const e={},n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function px(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],fx(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],dx(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],hx(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function mx(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>px(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function Tg(t){const e={},n=a(t,["text"]);n!=null&&c(e,["text"],n);const o=a(t,["finished"]);return o!=null&&c(e,["finished"],o),e}function gx(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function yx(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>gx(r))),c(e,["urlMetadata"],o)}return e}function vx(t){const e={},n=a(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],mx(n));const o=a(t,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const r=a(t,["interrupted"]);r!=null&&c(e,["interrupted"],r);const u=a(t,["groundingMetadata"]);u!=null&&c(e,["groundingMetadata"],u);const d=a(t,["generationComplete"]);d!=null&&c(e,["generationComplete"],d);const h=a(t,["inputTranscription"]);h!=null&&c(e,["inputTranscription"],Tg(h));const g=a(t,["outputTranscription"]);g!=null&&c(e,["outputTranscription"],Tg(g));const p=a(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],yx(p)),e}function Tx(t){const e={},n=a(t,["id"]);n!=null&&c(e,["id"],n);const o=a(t,["args"]);o!=null&&c(e,["args"],o);const r=a(t,["name"]);return r!=null&&c(e,["name"],r),e}function _x(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Tx(r))),c(e,["functionCalls"],o)}return e}function Sx(t){const e={},n=a(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function gl(t){const e={},n=a(t,["modality"]);n!=null&&c(e,["modality"],n);const o=a(t,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function Cx(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const o=a(t,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const r=a(t,["responseTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const u=a(t,["toolUsePromptTokenCount"]);u!=null&&c(e,["toolUsePromptTokenCount"],u);const d=a(t,["thoughtsTokenCount"]);d!=null&&c(e,["thoughtsTokenCount"],d);const h=a(t,["totalTokenCount"]);h!=null&&c(e,["totalTokenCount"],h);const g=a(t,["promptTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>gl(E))),c(e,["promptTokensDetails"],_)}const p=a(t,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(E=>gl(E))),c(e,["cacheTokensDetails"],_)}const v=a(t,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(E=>gl(E))),c(e,["responseTokensDetails"],_)}const T=a(t,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(E=>gl(E))),c(e,["toolUsePromptTokensDetails"],_)}return e}function Ex(t){const e={},n=a(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function wx(t){const e={},n=a(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const o=a(t,["resumable"]);o!=null&&c(e,["resumable"],o);const r=a(t,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function xx(t){const e={};a(t,["setupComplete"])!=null&&c(e,["setupComplete"],cx());const o=a(t,["serverContent"]);o!=null&&c(e,["serverContent"],vx(o));const r=a(t,["toolCall"]);r!=null&&c(e,["toolCall"],_x(r));const u=a(t,["toolCallCancellation"]);u!=null&&c(e,["toolCallCancellation"],Sx(u));const d=a(t,["usageMetadata"]);d!=null&&c(e,["usageMetadata"],Cx(d));const h=a(t,["goAway"]);h!=null&&c(e,["goAway"],Ex(h));const g=a(t,["sessionResumptionUpdate"]);return g!=null&&c(e,["sessionResumptionUpdate"],wx(g)),e}function bx(){return{}}function Ax(t){const e={},n=a(t,["text"]);n!=null&&c(e,["text"],n);const o=a(t,["weight"]);return o!=null&&c(e,["weight"],o),e}function Rx(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ax(r))),c(e,["weightedPrompts"],o)}return e}function Mx(t){const e={},n=a(t,["temperature"]);n!=null&&c(e,["temperature"],n);const o=a(t,["topK"]);o!=null&&c(e,["topK"],o);const r=a(t,["seed"]);r!=null&&c(e,["seed"],r);const u=a(t,["guidance"]);u!=null&&c(e,["guidance"],u);const d=a(t,["bpm"]);d!=null&&c(e,["bpm"],d);const h=a(t,["density"]);h!=null&&c(e,["density"],h);const g=a(t,["brightness"]);g!=null&&c(e,["brightness"],g);const p=a(t,["scale"]);p!=null&&c(e,["scale"],p);const v=a(t,["muteBass"]);v!=null&&c(e,["muteBass"],v);const T=a(t,["muteDrums"]);T!=null&&c(e,["muteDrums"],T);const _=a(t,["onlyBassAndDrums"]);_!=null&&c(e,["onlyBassAndDrums"],_);const E=a(t,["musicGenerationMode"]);return E!=null&&c(e,["musicGenerationMode"],E),e}function kx(t){const e={},n=a(t,["clientContent"]);n!=null&&c(e,["clientContent"],Rx(n));const o=a(t,["musicGenerationConfig"]);return o!=null&&c(e,["musicGenerationConfig"],Mx(o)),e}function Nx(t){const e={},n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=a(t,["sourceMetadata"]);return r!=null&&c(e,["sourceMetadata"],kx(r)),e}function Dx(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Nx(r))),c(e,["audioChunks"],o)}return e}function Ix(t){const e={},n=a(t,["text"]);n!=null&&c(e,["text"],n);const o=a(t,["filteredReason"]);return o!=null&&c(e,["filteredReason"],o),e}function Ux(t){const e={};a(t,["setupComplete"])!=null&&c(e,["setupComplete"],bx());const o=a(t,["serverContent"]);o!=null&&c(e,["serverContent"],Dx(o));const r=a(t,["filteredPrompt"]);return r!=null&&c(e,["filteredPrompt"],Ix(r)),e}function Lx(t){const e={},n=a(t,["sessionId"]);return n!=null&&c(e,["sessionId"],n),e}function Px(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function qx(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["data"]);o!=null&&c(e,["data"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Vx(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Bx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Px(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],qx(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Vx(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function Ox(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Bx(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function _g(t){const e={},n=a(t,["text"]);n!=null&&c(e,["text"],n);const o=a(t,["finished"]);return o!=null&&c(e,["finished"],o),e}function Hx(t){const e={},n=a(t,["modelTurn"]);n!=null&&c(e,["modelTurn"],Ox(n));const o=a(t,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const r=a(t,["interrupted"]);r!=null&&c(e,["interrupted"],r);const u=a(t,["groundingMetadata"]);u!=null&&c(e,["groundingMetadata"],u);const d=a(t,["generationComplete"]);d!=null&&c(e,["generationComplete"],d);const h=a(t,["inputTranscription"]);h!=null&&c(e,["inputTranscription"],_g(h));const g=a(t,["outputTranscription"]);return g!=null&&c(e,["outputTranscription"],_g(g)),e}function zx(t){const e={},n=a(t,["args"]);n!=null&&c(e,["args"],n);const o=a(t,["name"]);return o!=null&&c(e,["name"],o),e}function Gx(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>zx(r))),c(e,["functionCalls"],o)}return e}function $x(t){const e={},n=a(t,["ids"]);return n!=null&&c(e,["ids"],n),e}function yl(t){const e={},n=a(t,["modality"]);n!=null&&c(e,["modality"],n);const o=a(t,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function Fx(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);const o=a(t,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const r=a(t,["candidatesTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const u=a(t,["toolUsePromptTokenCount"]);u!=null&&c(e,["toolUsePromptTokenCount"],u);const d=a(t,["thoughtsTokenCount"]);d!=null&&c(e,["thoughtsTokenCount"],d);const h=a(t,["totalTokenCount"]);h!=null&&c(e,["totalTokenCount"],h);const g=a(t,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(x=>yl(x))),c(e,["promptTokensDetails"],E)}const p=a(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(x=>yl(x))),c(e,["cacheTokensDetails"],E)}const v=a(t,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>yl(x))),c(e,["responseTokensDetails"],E)}const T=a(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(x=>yl(x))),c(e,["toolUsePromptTokensDetails"],E)}const _=a(t,["trafficType"]);return _!=null&&c(e,["trafficType"],_),e}function Jx(t){const e={},n=a(t,["timeLeft"]);return n!=null&&c(e,["timeLeft"],n),e}function Yx(t){const e={},n=a(t,["newHandle"]);n!=null&&c(e,["newHandle"],n);const o=a(t,["resumable"]);o!=null&&c(e,["resumable"],o);const r=a(t,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function Kx(t){const e={},n=a(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],Lx(n));const o=a(t,["serverContent"]);o!=null&&c(e,["serverContent"],Hx(o));const r=a(t,["toolCall"]);r!=null&&c(e,["toolCall"],Gx(r));const u=a(t,["toolCallCancellation"]);u!=null&&c(e,["toolCallCancellation"],$x(u));const d=a(t,["usageMetadata"]);d!=null&&c(e,["usageMetadata"],Fx(d));const h=a(t,["goAway"]);h!=null&&c(e,["goAway"],Jx(h));const g=a(t,["sessionResumptionUpdate"]);return g!=null&&c(e,["sessionResumptionUpdate"],Yx(g)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function Xx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Zx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Wx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Qx(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],Xx(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Zx(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function Ll(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Wx(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function jx(t){const e={},n=a(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&c(e,["default"],o);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const u=a(t,["enum"]);u!=null&&c(e,["enum"],u);const d=a(t,["example"]);d!=null&&c(e,["example"],d);const h=a(t,["format"]);h!=null&&c(e,["format"],h);const g=a(t,["items"]);g!=null&&c(e,["items"],g);const p=a(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=a(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const T=a(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const _=a(t,["maximum"]);_!=null&&c(e,["maximum"],_);const E=a(t,["minItems"]);E!=null&&c(e,["minItems"],E);const x=a(t,["minLength"]);x!=null&&c(e,["minLength"],x);const D=a(t,["minProperties"]);D!=null&&c(e,["minProperties"],D);const k=a(t,["minimum"]);k!=null&&c(e,["minimum"],k);const V=a(t,["nullable"]);V!=null&&c(e,["nullable"],V);const z=a(t,["pattern"]);z!=null&&c(e,["pattern"],z);const N=a(t,["properties"]);N!=null&&c(e,["properties"],N);const J=a(t,["propertyOrdering"]);J!=null&&c(e,["propertyOrdering"],J);const B=a(t,["required"]);B!=null&&c(e,["required"],B);const X=a(t,["title"]);X!=null&&c(e,["title"],X);const K=a(t,["type"]);return K!=null&&c(e,["type"],K),e}function eb(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&c(e,["category"],n);const o=a(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function tb(t){const e={},n=a(t,["behavior"]);n!=null&&c(e,["behavior"],n);const o=a(t,["description"]);o!=null&&c(e,["description"],o);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const u=a(t,["parameters"]);u!=null&&c(e,["parameters"],u);const d=a(t,["parametersJsonSchema"]);d!=null&&c(e,["parametersJsonSchema"],d);const h=a(t,["response"]);h!=null&&c(e,["response"],h);const g=a(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function nb(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function ib(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],nb(n)),e}function ob(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function sb(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],ob(n)),e}function rb(){return{}}function lb(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>tb(p))),c(e,["functionDeclarations"],g)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],ib(o));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],sb(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&c(e,["urlContext"],rb());const d=a(t,["codeExecution"]);d!=null&&c(e,["codeExecution"],d);const h=a(t,["computerUse"]);return h!=null&&c(e,["computerUse"],h),e}function ab(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function ub(t){const e={},n=a(t,["latitude"]);n!=null&&c(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function cb(t){const e={},n=a(t,["latLng"]);n!=null&&c(e,["latLng"],ub(n));const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function fb(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],ab(n));const o=a(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],cb(o)),e}function db(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function Yy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],db(n)),e}function hb(t){const e={},n=a(t,["speaker"]);n!=null&&c(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Yy(o)),e}function pb(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>hb(r))),c(e,["speakerVoiceConfigs"],o)}return e}function mb(t){const e={},n=a(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],Yy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],pb(o));const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function gb(t){const e={},n=a(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function yb(t,e,n){const o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Ll(dt(r)));const u=a(e,["temperature"]);u!=null&&c(o,["temperature"],u);const d=a(e,["topP"]);d!=null&&c(o,["topP"],d);const h=a(e,["topK"]);h!=null&&c(o,["topK"],h);const g=a(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const p=a(e,["maxOutputTokens"]);p!=null&&c(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=a(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const _=a(e,["logprobs"]);_!=null&&c(o,["logprobs"],_);const E=a(e,["presencePenalty"]);E!=null&&c(o,["presencePenalty"],E);const x=a(e,["frequencyPenalty"]);x!=null&&c(o,["frequencyPenalty"],x);const D=a(e,["seed"]);D!=null&&c(o,["seed"],D);const k=a(e,["responseMimeType"]);k!=null&&c(o,["responseMimeType"],k);const V=a(e,["responseSchema"]);V!=null&&c(o,["responseSchema"],jx(Kc(V)));const z=a(e,["responseJsonSchema"]);if(z!=null&&c(o,["responseJsonSchema"],z),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=a(e,["safetySettings"]);if(n!==void 0&&N!=null){let ne=N;Array.isArray(ne)&&(ne=ne.map(se=>eb(se))),c(n,["safetySettings"],ne)}const J=a(e,["tools"]);if(n!==void 0&&J!=null){let ne=No(J);Array.isArray(ne)&&(ne=ne.map(se=>lb(ko(se)))),c(n,["tools"],ne)}const B=a(e,["toolConfig"]);if(n!==void 0&&B!=null&&c(n,["toolConfig"],fb(B)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=a(e,["cachedContent"]);n!==void 0&&X!=null&&c(n,["cachedContent"],Sn(t,X));const K=a(e,["responseModalities"]);K!=null&&c(o,["responseModalities"],K);const Q=a(e,["mediaResolution"]);Q!=null&&c(o,["mediaResolution"],Q);const Z=a(e,["speechConfig"]);if(Z!=null&&c(o,["speechConfig"],mb(Qc(Z))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&c(o,["thinkingConfig"],gb(ue)),o}function Sg(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>Ll(h))),c(n,["contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["generationConfig"],yb(t,u,n)),n}function vb(t,e){const n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&c(e,["requests[]","taskType"],o);const r=a(t,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);const u=a(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&c(e,["requests[]","outputDimensionality"],u),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Tb(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);r!=null&&c(n,["requests[]","content"],ky(t,r));const u=a(e,["config"]);u!=null&&c(n,["config"],vb(u,n));const d=a(e,["model"]);return d!==void 0&&c(n,["requests[]","model"],Ae(t,d)),n}function _b(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);if(e!==void 0&&u!=null&&c(e,["parameters","guidanceScale"],u),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);const h=a(t,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const g=a(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&c(e,["parameters","includeSafetyAttributes"],g);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const v=a(t,["language"]);e!==void 0&&v!=null&&c(e,["parameters","language"],v);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&c(e,["parameters","outputOptions","mimeType"],T);const _=a(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&c(e,["parameters","outputOptions","compressionQuality"],_),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const E=a(t,["imageSize"]);if(e!==void 0&&E!=null&&c(e,["parameters","sampleImageSize"],E),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Sb(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const u=a(e,["config"]);return u!=null&&c(n,["config"],_b(u,n)),n}function Cb(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","name"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function Eb(t,e,n){const o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const u=a(e,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=a(e,["filter"]);n!==void 0&&d!=null&&c(n,["_query","filter"],d);const h=a(e,["queryBase"]);return n!==void 0&&h!=null&&c(n,["_url","models_url"],Iy(t,h)),o}function wb(t,e){const n={},o=a(e,["config"]);return o!=null&&c(n,["config"],Eb(t,o,n)),n}function xb(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const r=a(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const u=a(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&c(e,["defaultCheckpointId"],u),n}function bb(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","name"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],xb(r,n)),n}function Ab(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","name"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function Rb(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Mb(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>Ll(h))),c(n,["contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["config"],Rb(u)),n}function kb(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],wi(n));const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Nb(t,e){const n={},o=a(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&c(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(t,["aspectRatio"]);if(e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=a(t,["personGeneration"]);if(e!==void 0&&d!=null&&c(e,["parameters","personGeneration"],d),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","negativePrompt"],h);const g=a(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&c(e,["parameters","enhancePrompt"],g),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Db(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const u=a(e,["image"]);if(u!=null&&c(n,["instances[0]","image"],kb(u)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=a(e,["config"]);return d!=null&&c(n,["config"],Nb(d,n)),n}function Ib(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function Ub(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["data"]);o!=null&&c(e,["data"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Lb(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Pb(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],Ib(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],Ub(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Lb(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function Io(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>Pb(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function qb(t){const e={},n=a(t,["anyOf"]);n!=null&&c(e,["anyOf"],n);const o=a(t,["default"]);o!=null&&c(e,["default"],o);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const u=a(t,["enum"]);u!=null&&c(e,["enum"],u);const d=a(t,["example"]);d!=null&&c(e,["example"],d);const h=a(t,["format"]);h!=null&&c(e,["format"],h);const g=a(t,["items"]);g!=null&&c(e,["items"],g);const p=a(t,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=a(t,["maxLength"]);v!=null&&c(e,["maxLength"],v);const T=a(t,["maxProperties"]);T!=null&&c(e,["maxProperties"],T);const _=a(t,["maximum"]);_!=null&&c(e,["maximum"],_);const E=a(t,["minItems"]);E!=null&&c(e,["minItems"],E);const x=a(t,["minLength"]);x!=null&&c(e,["minLength"],x);const D=a(t,["minProperties"]);D!=null&&c(e,["minProperties"],D);const k=a(t,["minimum"]);k!=null&&c(e,["minimum"],k);const V=a(t,["nullable"]);V!=null&&c(e,["nullable"],V);const z=a(t,["pattern"]);z!=null&&c(e,["pattern"],z);const N=a(t,["properties"]);N!=null&&c(e,["properties"],N);const J=a(t,["propertyOrdering"]);J!=null&&c(e,["propertyOrdering"],J);const B=a(t,["required"]);B!=null&&c(e,["required"],B);const X=a(t,["title"]);X!=null&&c(e,["title"],X);const K=a(t,["type"]);return K!=null&&c(e,["type"],K),e}function Vb(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&c(e,["featureSelectionPreference"],n),e}function Bb(t){const e={},n=a(t,["method"]);n!=null&&c(e,["method"],n);const o=a(t,["category"]);o!=null&&c(e,["category"],o);const r=a(t,["threshold"]);return r!=null&&c(e,["threshold"],r),e}function Ob(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&c(e,["description"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["parameters"]);r!=null&&c(e,["parameters"],r);const u=a(t,["parametersJsonSchema"]);u!=null&&c(e,["parametersJsonSchema"],u);const d=a(t,["response"]);d!=null&&c(e,["response"],d);const h=a(t,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Hb(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function zb(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],Hb(n)),e}function Gb(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function $b(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],Gb(n)),e}function Fb(){return{}}function Jb(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&c(e,["apiKeyString"],n),e}function Yb(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&c(e,["apiKeyConfig"],Jb(n));const o=a(t,["authType"]);o!=null&&c(e,["authType"],o);const r=a(t,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const u=a(t,["httpBasicAuthConfig"]);u!=null&&c(e,["httpBasicAuthConfig"],u);const d=a(t,["oauthConfig"]);d!=null&&c(e,["oauthConfig"],d);const h=a(t,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function Kb(t){const e={},n=a(t,["authConfig"]);return n!=null&&c(e,["authConfig"],Yb(n)),e}function Qb(){return{}}function Ky(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(_=>Ob(_))),c(e,["functionDeclarations"],T)}const o=a(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=a(t,["googleSearch"]);r!=null&&c(e,["googleSearch"],zb(r));const u=a(t,["googleSearchRetrieval"]);u!=null&&c(e,["googleSearchRetrieval"],$b(u)),a(t,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],Fb());const h=a(t,["googleMaps"]);h!=null&&c(e,["googleMaps"],Kb(h)),a(t,["urlContext"])!=null&&c(e,["urlContext"],Qb());const p=a(t,["codeExecution"]);p!=null&&c(e,["codeExecution"],p);const v=a(t,["computerUse"]);return v!=null&&c(e,["computerUse"],v),e}function Xb(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function Zb(t){const e={},n=a(t,["latitude"]);n!=null&&c(e,["latitude"],n);const o=a(t,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function Wb(t){const e={},n=a(t,["latLng"]);n!=null&&c(e,["latLng"],Zb(n));const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function jb(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],Xb(n));const o=a(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],Wb(o)),e}function eA(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function tA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],eA(n)),e}function nA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&c(e,["voiceConfig"],tA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=a(t,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function iA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&c(e,["includeThoughts"],n);const o=a(t,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function oA(t,e,n){const o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Io(dt(r)));const u=a(e,["temperature"]);u!=null&&c(o,["temperature"],u);const d=a(e,["topP"]);d!=null&&c(o,["topP"],d);const h=a(e,["topK"]);h!=null&&c(o,["topK"],h);const g=a(e,["candidateCount"]);g!=null&&c(o,["candidateCount"],g);const p=a(e,["maxOutputTokens"]);p!=null&&c(o,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const T=a(e,["responseLogprobs"]);T!=null&&c(o,["responseLogprobs"],T);const _=a(e,["logprobs"]);_!=null&&c(o,["logprobs"],_);const E=a(e,["presencePenalty"]);E!=null&&c(o,["presencePenalty"],E);const x=a(e,["frequencyPenalty"]);x!=null&&c(o,["frequencyPenalty"],x);const D=a(e,["seed"]);D!=null&&c(o,["seed"],D);const k=a(e,["responseMimeType"]);k!=null&&c(o,["responseMimeType"],k);const V=a(e,["responseSchema"]);V!=null&&c(o,["responseSchema"],qb(Kc(V)));const z=a(e,["responseJsonSchema"]);z!=null&&c(o,["responseJsonSchema"],z);const N=a(e,["routingConfig"]);N!=null&&c(o,["routingConfig"],N);const J=a(e,["modelSelectionConfig"]);J!=null&&c(o,["modelConfig"],Vb(J));const B=a(e,["safetySettings"]);if(n!==void 0&&B!=null){let ee=B;Array.isArray(ee)&&(ee=ee.map(U=>Bb(U))),c(n,["safetySettings"],ee)}const X=a(e,["tools"]);if(n!==void 0&&X!=null){let ee=No(X);Array.isArray(ee)&&(ee=ee.map(U=>Ky(ko(U)))),c(n,["tools"],ee)}const K=a(e,["toolConfig"]);n!==void 0&&K!=null&&c(n,["toolConfig"],jb(K));const Q=a(e,["labels"]);n!==void 0&&Q!=null&&c(n,["labels"],Q);const Z=a(e,["cachedContent"]);n!==void 0&&Z!=null&&c(n,["cachedContent"],Sn(t,Z));const ue=a(e,["responseModalities"]);ue!=null&&c(o,["responseModalities"],ue);const ne=a(e,["mediaResolution"]);ne!=null&&c(o,["mediaResolution"],ne);const se=a(e,["speechConfig"]);se!=null&&c(o,["speechConfig"],nA(Qc(se)));const de=a(e,["audioTimestamp"]);de!=null&&c(o,["audioTimestamp"],de);const he=a(e,["thinkingConfig"]);return he!=null&&c(o,["thinkingConfig"],iA(he)),o}function Cg(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>Io(h))),c(n,["contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["generationConfig"],oA(t,u,n)),n}function sA(t,e){const n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&c(e,["instances[]","task_type"],o);const r=a(t,["title"]);e!==void 0&&r!=null&&c(e,["instances[]","title"],r);const u=a(t,["outputDimensionality"]);e!==void 0&&u!=null&&c(e,["parameters","outputDimensionality"],u);const d=a(t,["mimeType"]);e!==void 0&&d!=null&&c(e,["instances[]","mimeType"],d);const h=a(t,["autoTruncate"]);return e!==void 0&&h!=null&&c(e,["parameters","autoTruncate"],h),n}function rA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);r!=null&&c(n,["instances[]","content"],ky(t,r));const u=a(e,["config"]);return u!=null&&c(n,["config"],sA(u,n)),n}function lA(t,e){const n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const u=a(t,["numberOfImages"]);e!==void 0&&u!=null&&c(e,["parameters","sampleCount"],u);const d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&c(e,["parameters","aspectRatio"],d);const h=a(t,["guidanceScale"]);e!==void 0&&h!=null&&c(e,["parameters","guidanceScale"],h);const g=a(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const p=a(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const T=a(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&c(e,["parameters","includeSafetyAttributes"],T);const _=a(t,["includeRaiReason"]);e!==void 0&&_!=null&&c(e,["parameters","includeRaiReason"],_);const E=a(t,["language"]);e!==void 0&&E!=null&&c(e,["parameters","language"],E);const x=a(t,["outputMimeType"]);e!==void 0&&x!=null&&c(e,["parameters","outputOptions","mimeType"],x);const D=a(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&c(e,["parameters","outputOptions","compressionQuality"],D);const k=a(t,["addWatermark"]);e!==void 0&&k!=null&&c(e,["parameters","addWatermark"],k);const V=a(t,["imageSize"]);e!==void 0&&V!=null&&c(e,["parameters","sampleImageSize"],V);const z=a(t,["enhancePrompt"]);return e!==void 0&&z!=null&&c(e,["parameters","enhancePrompt"],z),n}function aA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const u=a(e,["config"]);return u!=null&&c(n,["config"],lA(u,n)),n}function Uo(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const o=a(t,["imageBytes"]);o!=null&&c(e,["bytesBase64Encoded"],wi(o));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function uA(t){const e={},n=a(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);const o=a(t,["segmentationClasses"]);o!=null&&c(e,["maskClasses"],o);const r=a(t,["maskDilation"]);return r!=null&&c(e,["dilation"],r),e}function cA(t){const e={},n=a(t,["controlType"]);n!=null&&c(e,["controlType"],n);const o=a(t,["enableControlImageComputation"]);return o!=null&&c(e,["computeControl"],o),e}function fA(t){const e={},n=a(t,["styleDescription"]);return n!=null&&c(e,["styleDescription"],n),e}function dA(t){const e={},n=a(t,["subjectType"]);n!=null&&c(e,["subjectType"],n);const o=a(t,["subjectDescription"]);return o!=null&&c(e,["subjectDescription"],o),e}function hA(t){const e={},n=a(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],Uo(n));const o=a(t,["referenceId"]);o!=null&&c(e,["referenceId"],o);const r=a(t,["referenceType"]);r!=null&&c(e,["referenceType"],r);const u=a(t,["maskImageConfig"]);u!=null&&c(e,["maskImageConfig"],uA(u));const d=a(t,["controlImageConfig"]);d!=null&&c(e,["controlImageConfig"],cA(d));const h=a(t,["styleImageConfig"]);h!=null&&c(e,["styleImageConfig"],fA(h));const g=a(t,["subjectImageConfig"]);return g!=null&&c(e,["subjectImageConfig"],dA(g)),e}function pA(t,e){const n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const u=a(t,["numberOfImages"]);e!==void 0&&u!=null&&c(e,["parameters","sampleCount"],u);const d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&c(e,["parameters","aspectRatio"],d);const h=a(t,["guidanceScale"]);e!==void 0&&h!=null&&c(e,["parameters","guidanceScale"],h);const g=a(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const p=a(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const T=a(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&c(e,["parameters","includeSafetyAttributes"],T);const _=a(t,["includeRaiReason"]);e!==void 0&&_!=null&&c(e,["parameters","includeRaiReason"],_);const E=a(t,["language"]);e!==void 0&&E!=null&&c(e,["parameters","language"],E);const x=a(t,["outputMimeType"]);e!==void 0&&x!=null&&c(e,["parameters","outputOptions","mimeType"],x);const D=a(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&c(e,["parameters","outputOptions","compressionQuality"],D);const k=a(t,["addWatermark"]);e!==void 0&&k!=null&&c(e,["parameters","addWatermark"],k);const V=a(t,["editMode"]);e!==void 0&&V!=null&&c(e,["parameters","editMode"],V);const z=a(t,["baseSteps"]);return e!==void 0&&z!=null&&c(e,["parameters","editConfig","baseSteps"],z),n}function mA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const u=a(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>hA(g))),c(n,["instances[0]","referenceImages"],h)}const d=a(e,["config"]);return d!=null&&c(n,["config"],pA(d,n)),n}function gA(t,e){const n={},o=a(t,["includeRaiReason"]);e!==void 0&&o!=null&&c(e,["parameters","includeRaiReason"],o);const r=a(t,["outputMimeType"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","mimeType"],r);const u=a(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&c(e,["parameters","outputOptions","compressionQuality"],u);const d=a(t,["enhanceInputImage"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=a(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=a(t,["numberOfImages"]);e!==void 0&&g!=null&&c(e,["parameters","sampleCount"],g);const p=a(t,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),n}function yA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["image"]);r!=null&&c(n,["instances[0]","image"],Uo(r));const u=a(e,["upscaleFactor"]);u!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],u);const d=a(e,["config"]);return d!=null&&c(n,["config"],gA(d,n)),n}function vA(t){const e={},n=a(t,["productImage"]);return n!=null&&c(e,["image"],Uo(n)),e}function TA(t,e){const n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);const r=a(t,["personImage"]);e!==void 0&&r!=null&&c(e,["instances[0]","personImage","image"],Uo(r));const u=a(t,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>vA(h))),c(e,["instances[0]","productImages"],d)}return n}function _A(t,e){const n={},o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const r=a(t,["baseSteps"]);e!==void 0&&r!=null&&c(e,["parameters","editConfig","baseSteps"],r);const u=a(t,["outputGcsUri"]);e!==void 0&&u!=null&&c(e,["parameters","storageUri"],u);const d=a(t,["seed"]);e!==void 0&&d!=null&&c(e,["parameters","seed"],d);const h=a(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&c(e,["parameters","safetySetting"],h);const g=a(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);const v=a(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&c(e,["parameters","outputOptions","compressionQuality"],v);const T=a(t,["enhancePrompt"]);return e!==void 0&&T!=null&&c(e,["parameters","enhancePrompt"],T),n}function SA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["source"]);r!=null&&c(n,["config"],TA(r,n));const u=a(e,["config"]);return u!=null&&c(n,["config"],_A(u,n)),n}function CA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","name"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function EA(t,e,n){const o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const u=a(e,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=a(e,["filter"]);n!==void 0&&d!=null&&c(n,["_query","filter"],d);const h=a(e,["queryBase"]);return n!==void 0&&h!=null&&c(n,["_url","models_url"],Iy(t,h)),o}function wA(t,e){const n={},o=a(e,["config"]);return o!=null&&c(n,["config"],EA(t,o,n)),n}function xA(t,e){const n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const r=a(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const u=a(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&c(e,["defaultCheckpointId"],u),n}function bA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],xA(r,n)),n}function AA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","name"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],r),n}function RA(t,e){const n={},o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&c(e,["systemInstruction"],Io(dt(o)));const r=a(t,["tools"]);if(e!==void 0&&r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Ky(h))),c(e,["tools"],d)}const u=a(t,["generationConfig"]);return e!==void 0&&u!=null&&c(e,["generationConfig"],u),n}function MA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>Io(h))),c(n,["contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["config"],RA(u,n)),n}function kA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(h=>Io(h))),c(n,["contents"],d)}const u=a(e,["config"]);return u!=null&&c(n,["config"],u),n}function NA(t){const e={},n=a(t,["uri"]);n!=null&&c(e,["gcsUri"],n);const o=a(t,["videoBytes"]);o!=null&&c(e,["bytesBase64Encoded"],wi(o));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function DA(t,e){const n={},o=a(t,["numberOfVideos"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const u=a(t,["fps"]);e!==void 0&&u!=null&&c(e,["parameters","fps"],u);const d=a(t,["durationSeconds"]);e!==void 0&&d!=null&&c(e,["parameters","durationSeconds"],d);const h=a(t,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const g=a(t,["aspectRatio"]);e!==void 0&&g!=null&&c(e,["parameters","aspectRatio"],g);const p=a(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const T=a(t,["pubsubTopic"]);e!==void 0&&T!=null&&c(e,["parameters","pubsubTopic"],T);const _=a(t,["negativePrompt"]);e!==void 0&&_!=null&&c(e,["parameters","negativePrompt"],_);const E=a(t,["enhancePrompt"]);e!==void 0&&E!=null&&c(e,["parameters","enhancePrompt"],E);const x=a(t,["generateAudio"]);e!==void 0&&x!=null&&c(e,["parameters","generateAudio"],x);const D=a(t,["lastFrame"]);e!==void 0&&D!=null&&c(e,["instances[0]","lastFrame"],Uo(D));const k=a(t,["compressionQuality"]);return e!==void 0&&k!=null&&c(e,["parameters","compressionQuality"],k),n}function IA(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["_url","model"],Ae(t,o));const r=a(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);const u=a(e,["image"]);u!=null&&c(n,["instances[0]","image"],Uo(u));const d=a(e,["video"]);d!=null&&c(n,["instances[0]","video"],NA(d));const h=a(e,["config"]);return h!=null&&c(n,["config"],DA(h,n)),n}function UA(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function LA(t){const e={},n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function PA(t){const e={},n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function qA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],UA(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],LA(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],PA(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function VA(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>qA(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function BA(t){const e={},n=a(t,["citationSources"]);return n!=null&&c(e,["citations"],n),e}function OA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function HA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>OA(r))),c(e,["urlMetadata"],o)}return e}function zA(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],VA(n));const o=a(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],BA(o));const r=a(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const u=a(t,["finishReason"]);u!=null&&c(e,["finishReason"],u);const d=a(t,["urlContextMetadata"]);d!=null&&c(e,["urlContextMetadata"],HA(d));const h=a(t,["avgLogprobs"]);h!=null&&c(e,["avgLogprobs"],h);const g=a(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const p=a(t,["index"]);p!=null&&c(e,["index"],p);const v=a(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const T=a(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function Eg(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>zA(p))),c(e,["candidates"],g)}const r=a(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);const u=a(t,["promptFeedback"]);u!=null&&c(e,["promptFeedback"],u);const d=a(t,["responseId"]);d!=null&&c(e,["responseId"],d);const h=a(t,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function GA(t){const e={},n=a(t,["values"]);return n!=null&&c(e,["values"],n),e}function $A(){return{}}function FA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>GA(d))),c(e,["embeddings"],u)}return a(t,["metadata"])!=null&&c(e,["metadata"],$A()),e}function JA(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],wi(n));const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Qy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const o=a(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const r=a(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function YA(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],JA(n));const o=a(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const r=a(t,["_self"]);return r!=null&&c(e,["safetyAttributes"],Qy(r)),e}function KA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>YA(d))),c(e,["generatedImages"],u)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],Qy(r)),e}function QA(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const o=a(t,["createTime"]);o!=null&&c(e,["createTime"],o);const r=a(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function wc(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const u=a(t,["version"]);u!=null&&c(e,["version"],u);const d=a(t,["_self"]);d!=null&&c(e,["tunedModelInfo"],QA(d));const h=a(t,["inputTokenLimit"]);h!=null&&c(e,["inputTokenLimit"],h);const g=a(t,["outputTokenLimit"]);g!=null&&c(e,["outputTokenLimit"],g);const p=a(t,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function XA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["_self"]);if(r!=null){let u=Uy(r);Array.isArray(u)&&(u=u.map(d=>wc(d))),c(e,["models"],u)}return e}function ZA(){return{}}function WA(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["totalTokens"]);o!=null&&c(e,["totalTokens"],o);const r=a(t,["cachedContentTokenCount"]);return r!=null&&c(e,["cachedContentTokenCount"],r),e}function jA(t){const e={},n=a(t,["video","uri"]);n!=null&&c(e,["uri"],n);const o=a(t,["video","encodedVideo"]);o!=null&&c(e,["videoBytes"],wi(o));const r=a(t,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function e1(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],jA(n)),e}function t1(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>e1(d))),c(e,["generatedVideos"],u)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function n1(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["metadata"]);o!=null&&c(e,["metadata"],o);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const d=a(t,["response","generateVideoResponse"]);return d!=null&&c(e,["response"],t1(d)),e}function i1(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function o1(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["data"]);o!=null&&c(e,["data"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function s1(t){const e={},n=a(t,["displayName"]);n!=null&&c(e,["displayName"],n);const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function r1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],i1(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],o1(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],s1(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function l1(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>r1(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function a1(t){const e={},n=a(t,["citations"]);return n!=null&&c(e,["citations"],n),e}function u1(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&c(e,["retrievedUrl"],n);const o=a(t,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function c1(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>u1(r))),c(e,["urlMetadata"],o)}return e}function f1(t){const e={},n=a(t,["content"]);n!=null&&c(e,["content"],l1(n));const o=a(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],a1(o));const r=a(t,["finishMessage"]);r!=null&&c(e,["finishMessage"],r);const u=a(t,["finishReason"]);u!=null&&c(e,["finishReason"],u);const d=a(t,["urlContextMetadata"]);d!=null&&c(e,["urlContextMetadata"],c1(d));const h=a(t,["avgLogprobs"]);h!=null&&c(e,["avgLogprobs"],h);const g=a(t,["groundingMetadata"]);g!=null&&c(e,["groundingMetadata"],g);const p=a(t,["index"]);p!=null&&c(e,["index"],p);const v=a(t,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const T=a(t,["safetyRatings"]);return T!=null&&c(e,["safetyRatings"],T),e}function wg(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(v=>f1(v))),c(e,["candidates"],p)}const r=a(t,["createTime"]);r!=null&&c(e,["createTime"],r);const u=a(t,["modelVersion"]);u!=null&&c(e,["modelVersion"],u);const d=a(t,["promptFeedback"]);d!=null&&c(e,["promptFeedback"],d);const h=a(t,["responseId"]);h!=null&&c(e,["responseId"],h);const g=a(t,["usageMetadata"]);return g!=null&&c(e,["usageMetadata"],g),e}function d1(t){const e={},n=a(t,["truncated"]);n!=null&&c(e,["truncated"],n);const o=a(t,["token_count"]);return o!=null&&c(e,["tokenCount"],o),e}function h1(t){const e={},n=a(t,["values"]);n!=null&&c(e,["values"],n);const o=a(t,["statistics"]);return o!=null&&c(e,["statistics"],d1(o)),e}function p1(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&c(e,["billableCharacterCount"],n),e}function m1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["predictions[]","embeddings"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>h1(d))),c(e,["embeddings"],u)}const r=a(t,["metadata"]);return r!=null&&c(e,["metadata"],p1(r)),e}function g1(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);const o=a(t,["bytesBase64Encoded"]);o!=null&&c(e,["imageBytes"],wi(o));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Xy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);const o=a(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const r=a(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function Pl(t){const e={},n=a(t,["_self"]);n!=null&&c(e,["image"],g1(n));const o=a(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const r=a(t,["_self"]);r!=null&&c(e,["safetyAttributes"],Xy(r));const u=a(t,["prompt"]);return u!=null&&c(e,["enhancedPrompt"],u),e}function y1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Pl(d))),c(e,["generatedImages"],u)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],Xy(r)),e}function v1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Pl(u))),c(e,["generatedImages"],r)}return e}function T1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Pl(u))),c(e,["generatedImages"],r)}return e}function _1(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Pl(r))),c(e,["generatedImages"],o)}return e}function S1(t){const e={},n=a(t,["endpoint"]);n!=null&&c(e,["name"],n);const o=a(t,["deployedModelId"]);return o!=null&&c(e,["deployedModelId"],o),e}function C1(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);const o=a(t,["createTime"]);o!=null&&c(e,["createTime"],o);const r=a(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function E1(t){const e={},n=a(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const o=a(t,["epoch"]);o!=null&&c(e,["epoch"],o);const r=a(t,["step"]);return r!=null&&c(e,["step"],r),e}function xc(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["displayName"]);o!=null&&c(e,["displayName"],o);const r=a(t,["description"]);r!=null&&c(e,["description"],r);const u=a(t,["versionId"]);u!=null&&c(e,["version"],u);const d=a(t,["deployedModels"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(_=>S1(_))),c(e,["endpoints"],T)}const h=a(t,["labels"]);h!=null&&c(e,["labels"],h);const g=a(t,["_self"]);g!=null&&c(e,["tunedModelInfo"],C1(g));const p=a(t,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const v=a(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(_=>E1(_))),c(e,["checkpoints"],T)}return e}function w1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["_self"]);if(r!=null){let u=Uy(r);Array.isArray(u)&&(u=u.map(d=>xc(d))),c(e,["models"],u)}return e}function x1(){return{}}function b1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["totalTokens"]);return o!=null&&c(e,["totalTokens"],o),e}function A1(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["tokensInfo"]);return o!=null&&c(e,["tokensInfo"],o),e}function R1(t){const e={},n=a(t,["gcsUri"]);n!=null&&c(e,["uri"],n);const o=a(t,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],wi(o));const r=a(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function M1(t){const e={},n=a(t,["_self"]);return n!=null&&c(e,["video"],R1(n)),e}function k1(t){const e={},n=a(t,["videos"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>M1(d))),c(e,["generatedVideos"],u)}const o=a(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function N1(t){const e={},n=a(t,["name"]);n!=null&&c(e,["name"],n);const o=a(t,["metadata"]);o!=null&&c(e,["metadata"],o);const r=a(t,["done"]);r!=null&&c(e,["done"],r);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const d=a(t,["response"]);return d!=null&&c(e,["response"],k1(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D1="Content-Type",I1="X-Server-Timeout",U1="User-Agent",bc="x-goog-api-client",L1="1.13.0",P1=`google-genai-sdk/${L1}`,q1="v1beta1",V1="v1beta",xg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class B1{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:q1,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:V1,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))r.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(r,u,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,u]of Object.entries(n))typeof u=="object"?o[r]=Object.assign(Object.assign({},o[r]),u):u!==void 0&&(o[r]=u);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(r,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const r=new AbortController,u=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>r.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=u}return n&&n.extraBody!==null&&O1(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await bg(r),new vc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await bg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Ao(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:g}=yield Be(r.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(g,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const _=JSON.parse(JSON.stringify(T.error)),E=_.status,x=_.code,D=`got status: ${E}. ${JSON.stringify(T)}`;if(x>=400&&x<600)throw new Ul({message:D,status:x})}}catch(T){if(T.name==="ApiError")throw T}d+=p;let v=d.match(xg);for(;v;){const T=v[1];try{const _=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Be(new vc(_)),d=d.slice(v[0].length),v=d.match(xg)}catch(_){throw new Error(`exception parsing stream chunk ${T}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=P1+" "+this.clientOptions.userAgentExtra;return e[U1]=n,e[bc]=n,e[D1]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))n.append(o,r);e.timeout&&e.timeout>0&&n.append(I1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);r.sizeBytes=String(d.size);const h=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g=await this.fetchUploadUrl(r,n);return u.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},d=await this.request({path:ie("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:r});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function bg(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Ul({message:r,status:n}):new Error(r)}}function O1(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))n=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(u,d){const h=Object.assign({},u);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const p=d[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H1="mcp_used/unknown";let z1=!1;function Zy(t){for(const e of t)if(G1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return z1}function Wy(t){var e;const n=(e=t[bc])!==null&&e!==void 0?e:"";t[bc]=(n+` ${H1}`).trimStart()}function G1(t){return t!==null&&typeof t=="object"&&t instanceof Zc}function $1(t,e=100){return Ao(this,arguments,function*(){let o,r=0;for(;r<e;){const u=yield Be(t.listTools({cursor:o}));for(const d of u.tools)yield yield Be(d),r++;if(!u.nextCursor)break;o=u.nextCursor}})}class Zc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Zc(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,g=(n=void 0,$s($1(v))),p;p=await g.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const T=r;d.push(T);const _=T.name;if(u[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);u[_]=v}}catch(T){n={error:T}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),US(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await r.callTool({name:o.name,arguments:o.args},void 0,u);n.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function F1(t,e,n){const o=new bS;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const u=Ux(r);Object.assign(o,u),e(o)}class J1{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=Q1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(N=>{p=N}),T=e.callbacks,_=function(){p({})},E=this.apiClient,x={onopen:_,onmessage:N=>{F1(E,T.onmessage,N)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(N){}},D=this.webSocketFactory.create(g,K1(d),x);D.connect(),await v;const k=Ae(this.apiClient,e.model),V=Fy({model:k}),z=Ec({setup:V});return D.send(JSON.stringify(z)),new Y1(D,this.apiClient)}}class Y1{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Dw(e),o=Jy(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Iw(e),o=Ec(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const n=Ec({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xo.PLAY)}pause(){this.sendPlaybackControl(xo.PAUSE)}stop(){this.sendPlaybackControl(xo.STOP)}resetContext(){this.sendPlaybackControl(xo.RESET_CONTEXT)}close(){this.conn.close()}}function K1(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Q1(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Z1(t,e,n){const o=new xS;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const u=JSON.parse(r);if(t.isVertexAI()){const d=Kx(u);Object.assign(o,d)}else{const d=xx(u);Object.assign(o,d)}e(o)}class W1{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new J1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Zy(e.config.tools)&&Wy(T);const _=nR(T);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const Z=this.apiClient.getApiKey();let ue="BidiGenerateContent",ne="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",ne="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ue}?${ne}=${Z}`}let E=()=>{};const x=new Promise(Z=>{E=Z}),D=e.callbacks,k=function(){var Z;(Z=D==null?void 0:D.onopen)===null||Z===void 0||Z.call(D),E({})},V=this.apiClient,z={onopen:k,onmessage:Z=>{Z1(V,D.onmessage,Z)},onerror:(n=D==null?void 0:D.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(o=D==null?void 0:D.onclose)!==null&&o!==void 0?o:function(Z){}},N=this.webSocketFactory.create(v,tR(_),z);N.connect(),await x;let J=Ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),ue=this.apiClient.getLocation();J=`projects/${Z}/locations/${ue}/`+J}let B={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rl.AUDIO]}:e.config.responseModalities=[Rl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],K=[];for(const Z of X)if(this.isCallableTool(Z)){const ue=Z;K.push(await ue.tool())}else K.push(Z);K.length>0&&(e.config.tools=K);const Q={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=rx(this.apiClient,Q):B=Rw(this.apiClient,Q),delete B.config,N.send(JSON.stringify(B)),new eR(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const j1={turnComplete:!0};class eR{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ot(n.turns),e.isVertexAI()?o=o.map(r=>Io(r)):o=o.map(r=>Ll(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const u of o){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(X1)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},j1),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ux(e)}:n={realtimeInput:Nw(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function tR(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function nR(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ag=10;function Rg(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const d of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ro(d)){r=!0;break}if(!r)return!0;const u=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Ro(t){return"callTool"in t&&typeof t.callTool=="function"}function iR(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Ro(r)))!==null&&o!==void 0?o:!1}function oR(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Ro(r)))!==null&&o!==void 0?o:!1}function Mg(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sR extends Ei{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,u,d,h;const g=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!iR(n)||Rg(n.config))return await this.generateContentInternal(g);if(oR(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const T=Ot(g.contents),_=(u=(r=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:Ag;let E=0;for(;E<_&&(p=await this.generateContentInternal(g),!(!p.functionCalls||p.functionCalls.length===0));){const x=p.candidates[0].content,D=[];for(const k of(h=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Ro(k)){const z=await k.callTool(p.functionCalls);D.push(...z)}E++,v={role:"user",parts:D},g.contents=Ot(g.contents),g.contents.push(x),g.contents.push(v),Mg(g.config)&&(T.push(x),T.push(v))}return Mg(g.config)&&(p.automaticFunctionCallingHistory=T),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Rg(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let u;const d=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:d.push(g);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async n=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Zs(Si.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const u=(n=e.config)===null||n===void 0?void 0:n.tools;if(!u)return e;const d=await Promise.all(u.map(async g=>Ro(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&Zy(e.config.tools)){const g=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Wy(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var n,o,r;const u=new Map;for(const d of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ro(d)){const h=d,g=await h.tool();for(const p of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var n,o,r;const u=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Ag;let d=!1,h=0;const g=await this.initAfcToolsMap(e);return function(p,v,T){var _,E;return Ao(this,arguments,function*(){for(var x,D,k,V;h<u;){d&&(h++,d=!1);const B=yield Be(p.processParamsMaybeAddMcpUsage(T)),X=yield Be(p.generateContentStreamInternal(B)),K=[],Q=[];try{for(var z=!0,N=(D=void 0,$s(X)),J;J=yield Be(N.next()),x=J.done,!x;z=!0){V=J.value,z=!1;const Z=V;if(yield yield Be(Z),Z.candidates&&(!((_=Z.candidates[0])===null||_===void 0)&&_.content)){Q.push(Z.candidates[0].content);for(const ue of(E=Z.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<u&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const ne=yield Be(v.get(ue.functionCall.name).callTool([ue.functionCall]));K.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(Z){D={error:Z}}finally{try{!z&&!x&&(k=N.return)&&(yield Be(k.call(N)))}finally{if(D)throw D.error}}if(K.length>0){d=!0;const Z=new Vs;Z.candidates=[{content:{role:"user",parts:K}}],yield yield Be(Z);const ue=[];ue.push(...Q),ue.push({role:"user",parts:K});const ne=Ot(T.contents).concat(ue);T.contents=ne}else break}})}(this,g,e)}async generateContentInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=Cg(this.apiClient,e);return h=ie("{model}:generateContent",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=wg(v),_=new Vs;return Object.assign(_,T),_})}else{const p=Sg(this.apiClient,e);return h=ie("{model}:generateContent",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=Eg(v),_=new Vs;return Object.assign(_,T),_})}}async generateContentStreamInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=Cg(this.apiClient,e);return h=ie("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(T){return Ao(this,arguments,function*(){var _,E,x,D;try{for(var k=!0,V=$s(T),z;z=yield Be(V.next()),_=z.done,!_;k=!0){D=z.value,k=!1;const N=D,J=wg(yield Be(N.json()));J.sdkHttpResponse={headers:N.headers};const B=new Vs;Object.assign(B,J),yield yield Be(B)}}catch(N){E={error:N}}finally{try{!k&&!_&&(x=V.return)&&(yield Be(x.call(V)))}finally{if(E)throw E.error}}})})}else{const p=Sg(this.apiClient,e);return h=ie("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(T){return Ao(this,arguments,function*(){var _,E,x,D;try{for(var k=!0,V=$s(T),z;z=yield Be(V.next()),_=z.done,!_;k=!0){D=z.value,k=!1;const N=D,J=Eg(yield Be(N.json()));J.sdkHttpResponse={headers:N.headers};const B=new Vs;Object.assign(B,J),yield yield Be(B)}}catch(N){E={error:N}}finally{try{!k&&!_&&(x=V.return)&&(yield Be(x.call(V)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=rA(this.apiClient,e);return h=ie("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=m1(v),_=new eg;return Object.assign(_,T),_})}else{const p=Tb(this.apiClient,e);return h=ie("{model}:batchEmbedContents",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=FA(v),_=new eg;return Object.assign(_,T),_})}}async generateImagesInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=aA(this.apiClient,e);return h=ie("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=y1(v),_=new tg;return Object.assign(_,T),_})}else{const p=Sb(this.apiClient,e);return h=ie("{model}:predict",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=KA(v),_=new tg;return Object.assign(_,T),_})}}async editImageInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=mA(this.apiClient,e);return u=ie("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=v1(g),v=new vS;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=yA(this.apiClient,e);return u=ie("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=T1(g),v=new TS;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=SA(this.apiClient,e);return u=ie("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=_1(g),v=new _S;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=CA(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>xc(v))}else{const p=Cb(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>wc(v))}}async listInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=wA(this.apiClient,e);return h=ie("{models_url}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=w1(v),_=new ng;return Object.assign(_,T),_})}else{const p=wb(this.apiClient,e);return h=ie("{models_url}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=XA(v),_=new ng;return Object.assign(_,T),_})}}async update(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=bA(this.apiClient,e);return h=ie("{model}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>xc(v))}else{const p=bb(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>wc(v))}}async delete(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=AA(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(()=>{const v=x1(),T=new ig;return Object.assign(T,v),T})}else{const p=Ab(this.apiClient,e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(()=>{const v=ZA(),T=new ig;return Object.assign(T,v),T})}}async countTokens(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=MA(this.apiClient,e);return h=ie("{model}:countTokens",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=b1(v),_=new og;return Object.assign(_,T),_})}else{const p=Mb(this.apiClient,e);return h=ie("{model}:countTokens",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=WA(v),_=new og;return Object.assign(_,T),_})}}async computeTokens(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=kA(this.apiClient,e);return u=ie("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=A1(g),v=new SS;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=IA(this.apiClient,e);return h=ie("{model}:predictLongRunning",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d.then(v=>{const T=N1(v),_=new Ml;return Object.assign(_,T),_})}else{const p=Db(this.apiClient,e);return h=ie("{model}:predictLongRunning",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const T=n1(v),_=new Ml;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rR(t){const e={},n=a(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function lR(t){const e={},n=a(t,["operationName"]);n!=null&&c(e,["_url","operationName"],n);const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function aR(t){const e={},n=a(t,["operationName"]);n!=null&&c(e,["operationName"],n);const o=a(t,["resourceName"]);o!=null&&c(e,["_url","resourceName"],o);const r=a(t,["config"]);return r!=null&&c(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR extends Ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let u;o&&"httpOptions"in o&&(u=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=lR(e);return h=ie("{operationName}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),d}else{const p=rR(e);return h=ie("{operationName}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=aR(e);return u=ie("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(t){const e={},n=a(t,["voiceName"]);return n!=null&&c(e,["voiceName"],n),e}function jy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&c(e,["prebuiltVoiceConfig"],cR(n)),e}function fR(t){const e={},n=a(t,["speaker"]);n!=null&&c(e,["speaker"],n);const o=a(t,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],jy(o)),e}function dR(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>fR(r))),c(e,["speakerVoiceConfigs"],o)}return e}function hR(t){const e={},n=a(t,["voiceConfig"]);n!=null&&c(e,["voiceConfig"],jy(n));const o=a(t,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],dR(o));const r=a(t,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function pR(t){const e={},n=a(t,["fps"]);n!=null&&c(e,["fps"],n);const o=a(t,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=a(t,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function mR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&c(e,["data"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function gR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);const o=a(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function yR(t){const e={},n=a(t,["videoMetadata"]);n!=null&&c(e,["videoMetadata"],pR(n));const o=a(t,["thought"]);o!=null&&c(e,["thought"],o);const r=a(t,["inlineData"]);r!=null&&c(e,["inlineData"],mR(r));const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],gR(u));const d=a(t,["thoughtSignature"]);d!=null&&c(e,["thoughtSignature"],d);const h=a(t,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const g=a(t,["executableCode"]);g!=null&&c(e,["executableCode"],g);const p=a(t,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=a(t,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const T=a(t,["text"]);return T!=null&&c(e,["text"],T),e}function vR(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>yR(u))),c(e,["parts"],r)}const o=a(t,["role"]);return o!=null&&c(e,["role"],o),e}function TR(t){const e={},n=a(t,["behavior"]);n!=null&&c(e,["behavior"],n);const o=a(t,["description"]);o!=null&&c(e,["description"],o);const r=a(t,["name"]);r!=null&&c(e,["name"],r);const u=a(t,["parameters"]);u!=null&&c(e,["parameters"],u);const d=a(t,["parametersJsonSchema"]);d!=null&&c(e,["parametersJsonSchema"],d);const h=a(t,["response"]);h!=null&&c(e,["response"],h);const g=a(t,["responseJsonSchema"]);return g!=null&&c(e,["responseJsonSchema"],g),e}function _R(t){const e={},n=a(t,["startTime"]);n!=null&&c(e,["startTime"],n);const o=a(t,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function SR(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],_R(n)),e}function CR(t){const e={},n=a(t,["mode"]);n!=null&&c(e,["mode"],n);const o=a(t,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function ER(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&c(e,["dynamicRetrievalConfig"],CR(n)),e}function wR(){return{}}function xR(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>TR(p))),c(e,["functionDeclarations"],g)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["googleSearch"]);o!=null&&c(e,["googleSearch"],SR(o));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],ER(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&c(e,["urlContext"],wR());const d=a(t,["codeExecution"]);d!=null&&c(e,["codeExecution"],d);const h=a(t,["computerUse"]);return h!=null&&c(e,["computerUse"],h),e}function bR(t){const e={},n=a(t,["handle"]);if(n!=null&&c(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kg(){return{}}function AR(t){const e={},n=a(t,["disabled"]);n!=null&&c(e,["disabled"],n);const o=a(t,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const u=a(t,["prefixPaddingMs"]);u!=null&&c(e,["prefixPaddingMs"],u);const d=a(t,["silenceDurationMs"]);return d!=null&&c(e,["silenceDurationMs"],d),e}function RR(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&c(e,["automaticActivityDetection"],AR(n));const o=a(t,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=a(t,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function MR(t){const e={},n=a(t,["targetTokens"]);return n!=null&&c(e,["targetTokens"],n),e}function kR(t){const e={},n=a(t,["triggerTokens"]);n!=null&&c(e,["triggerTokens"],n);const o=a(t,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],MR(o)),e}function NR(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&c(e,["proactiveAudio"],n),e}function DR(t,e){const n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const d=a(t,["topP"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","topP"],d);const h=a(t,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const g=a(t,["maxOutputTokens"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","maxOutputTokens"],g);const p=a(t,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=a(t,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],hR(Xc(T)));const _=a(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],vR(dt(E)));const x=a(t,["tools"]);if(e!==void 0&&x!=null){let B=No(x);Array.isArray(B)&&(B=B.map(X=>xR(ko(X)))),c(e,["setup","tools"],B)}const D=a(t,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],bR(D));const k=a(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&c(e,["setup","inputAudioTranscription"],kg());const V=a(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&c(e,["setup","outputAudioTranscription"],kg());const z=a(t,["realtimeInputConfig"]);e!==void 0&&z!=null&&c(e,["setup","realtimeInputConfig"],RR(z));const N=a(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],kR(N));const J=a(t,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],NR(J)),n}function IR(t,e){const n={},o=a(e,["model"]);o!=null&&c(n,["setup","model"],Ae(t,o));const r=a(e,["config"]);return r!=null&&c(n,["config"],DR(r,n)),n}function UR(t,e,n){const o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const u=a(e,["newSessionExpireTime"]);n!==void 0&&u!=null&&c(n,["newSessionExpireTime"],u);const d=a(e,["uses"]);n!==void 0&&d!=null&&c(n,["uses"],d);const h=a(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&c(n,["bidiGenerateContentSetup"],IR(t,h));const g=a(e,["lockAdditionalFields"]);return n!==void 0&&g!=null&&c(n,["fieldMask"],g),o}function LR(t,e){const n={},o=a(e,["config"]);return o!=null&&c(n,["config"],UR(t,o,n)),n}function PR(t){const e={},n=a(t,["name"]);return n!=null&&c(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qR(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(u=>`${n}.${u}`);e.push(...r)}else e.push(n)}return e.join(",")}function VR(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const u=o.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,n=u):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const u=qR(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(p=>d.includes(p)?`generationConfig.${p}`:p));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class BR extends Ei{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=LR(this.apiClient,e);u=ie("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const g=VR(h,e.config);return r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>PR(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OR(t){const e={},n=a(t,["name"]);n!=null&&c(e,["_url","name"],n);const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function HR(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const u=a(t,["filter"]);return e!==void 0&&u!=null&&c(e,["_query","filter"],u),n}function zR(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],HR(n,e)),e}function GR(t){const e={},n=a(t,["textInput"]);n!=null&&c(e,["textInput"],n);const o=a(t,["output"]);return o!=null&&c(e,["output"],o),e}function $R(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>GR(r))),c(e,["examples","examples"],o)}return e}function FR(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=a(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&c(e,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=a(t,["epochCount"]);e!==void 0&&r!=null&&c(e,["tuningTask","hyperparameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);if(u!=null&&c(n,["tuningTask","hyperparameters","learningRateMultiplier"],u),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=a(t,["batchSize"]);e!==void 0&&d!=null&&c(e,["tuningTask","hyperparameters","batchSize"],d);const h=a(t,["learningRate"]);return e!==void 0&&h!=null&&c(e,["tuningTask","hyperparameters","learningRate"],h),n}function JR(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const o=a(t,["trainingDataset"]);o!=null&&c(e,["tuningTask","trainingData"],$R(o));const r=a(t,["config"]);return r!=null&&c(e,["config"],FR(r,e)),e}function YR(t){const e={},n=a(t,["name"]);n!=null&&c(e,["_url","name"],n);const o=a(t,["config"]);return o!=null&&c(e,["config"],o),e}function KR(t,e){const n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const u=a(t,["filter"]);return e!==void 0&&u!=null&&c(e,["_query","filter"],u),n}function QR(t){const e={},n=a(t,["config"]);return n!=null&&c(e,["config"],KR(n,e)),e}function XR(t,e){const n={},o=a(t,["gcsUri"]);e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o);const r=a(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],r),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function ZR(t,e){const n={},o=a(t,["gcsUri"]);o!=null&&c(n,["validationDatasetUri"],o);const r=a(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}function WR(t,e){const n={},o=a(t,["validationDataset"]);e!==void 0&&o!=null&&c(e,["supervisedTuningSpec"],ZR(o,n));const r=a(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&c(e,["tunedModelDisplayName"],r);const u=a(t,["description"]);e!==void 0&&u!=null&&c(e,["description"],u);const d=a(t,["epochCount"]);e!==void 0&&d!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=a(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const p=a(t,["adapterSize"]);if(e!==void 0&&p!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function jR(t){const e={},n=a(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);const o=a(t,["trainingDataset"]);o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],XR(o,e));const r=a(t,["config"]);return r!=null&&c(e,["config"],WR(r,e)),e}function eM(t){const e={},n=a(t,["name"]);n!=null&&c(e,["model"],n);const o=a(t,["name"]);return o!=null&&c(e,["endpoint"],o),e}function ev(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["state"]);r!=null&&c(e,["state"],Ny(r));const u=a(t,["createTime"]);u!=null&&c(e,["createTime"],u);const d=a(t,["tuningTask","startTime"]);d!=null&&c(e,["startTime"],d);const h=a(t,["tuningTask","completeTime"]);h!=null&&c(e,["endTime"],h);const g=a(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const p=a(t,["description"]);p!=null&&c(e,["description"],p);const v=a(t,["baseModel"]);v!=null&&c(e,["baseModel"],v);const T=a(t,["_self"]);T!=null&&c(e,["tunedModel"],eM(T));const _=a(t,["distillationSpec"]);_!=null&&c(e,["distillationSpec"],_);const E=a(t,["experiment"]);E!=null&&c(e,["experiment"],E);const x=a(t,["labels"]);x!=null&&c(e,["labels"],x);const D=a(t,["pipelineJob"]);D!=null&&c(e,["pipelineJob"],D);const k=a(t,["satisfiesPzi"]);k!=null&&c(e,["satisfiesPzi"],k);const V=a(t,["satisfiesPzs"]);V!=null&&c(e,["satisfiesPzs"],V);const z=a(t,["serviceAccount"]);z!=null&&c(e,["serviceAccount"],z);const N=a(t,["tunedModelDisplayName"]);return N!=null&&c(e,["tunedModelDisplayName"],N),e}function tM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["tunedModels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>ev(d))),c(e,["tuningJobs"],u)}return e}function nM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["metadata"]);r!=null&&c(e,["metadata"],r);const u=a(t,["done"]);u!=null&&c(e,["done"],u);const d=a(t,["error"]);return d!=null&&c(e,["error"],d),e}function iM(t){const e={},n=a(t,["checkpointId"]);n!=null&&c(e,["checkpointId"],n);const o=a(t,["epoch"]);o!=null&&c(e,["epoch"],o);const r=a(t,["step"]);r!=null&&c(e,["step"],r);const u=a(t,["endpoint"]);return u!=null&&c(e,["endpoint"],u),e}function oM(t){const e={},n=a(t,["model"]);n!=null&&c(e,["model"],n);const o=a(t,["endpoint"]);o!=null&&c(e,["endpoint"],o);const r=a(t,["checkpoints"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>iM(d))),c(e,["checkpoints"],u)}return e}function Ac(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["name"]);o!=null&&c(e,["name"],o);const r=a(t,["state"]);r!=null&&c(e,["state"],Ny(r));const u=a(t,["createTime"]);u!=null&&c(e,["createTime"],u);const d=a(t,["startTime"]);d!=null&&c(e,["startTime"],d);const h=a(t,["endTime"]);h!=null&&c(e,["endTime"],h);const g=a(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const p=a(t,["error"]);p!=null&&c(e,["error"],p);const v=a(t,["description"]);v!=null&&c(e,["description"],v);const T=a(t,["baseModel"]);T!=null&&c(e,["baseModel"],T);const _=a(t,["tunedModel"]);_!=null&&c(e,["tunedModel"],oM(_));const E=a(t,["supervisedTuningSpec"]);E!=null&&c(e,["supervisedTuningSpec"],E);const x=a(t,["tuningDataStats"]);x!=null&&c(e,["tuningDataStats"],x);const D=a(t,["encryptionSpec"]);D!=null&&c(e,["encryptionSpec"],D);const k=a(t,["partnerModelTuningSpec"]);k!=null&&c(e,["partnerModelTuningSpec"],k);const V=a(t,["distillationSpec"]);V!=null&&c(e,["distillationSpec"],V);const z=a(t,["experiment"]);z!=null&&c(e,["experiment"],z);const N=a(t,["labels"]);N!=null&&c(e,["labels"],N);const J=a(t,["pipelineJob"]);J!=null&&c(e,["pipelineJob"],J);const B=a(t,["satisfiesPzi"]);B!=null&&c(e,["satisfiesPzi"],B);const X=a(t,["satisfiesPzs"]);X!=null&&c(e,["satisfiesPzs"],X);const K=a(t,["serviceAccount"]);K!=null&&c(e,["serviceAccount"],K);const Q=a(t,["tunedModelDisplayName"]);return Q!=null&&c(e,["tunedModelDisplayName"],Q),e}function sM(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);const o=a(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);const r=a(t,["tuningJobs"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>Ac(d))),c(e,["tuningJobs"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rM extends Ei{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Zs(Si.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const o=await this.tuneMldevInternal(n);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:yc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=YR(e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>Ac(v))}else{const p=OR(e);return h=ie("{name}",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>ev(v))}}async listInternal(e){var n,o,r,u;let d,h="",g={};if(this.apiClient.isVertexAI()){const p=QR(e);return h=ie("tuningJobs",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=sM(v),_=new rg;return Object.assign(_,T),_})}else{const p=zR(e);return h=ie("tunedModels",p._url),g=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),d.then(v=>{const T=tM(v),_=new rg;return Object.assign(_,T),_})}}async tuneInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI()){const h=jR(e);return u=ie("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>Ac(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=JR(e);return u=ie("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>nM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aM=1024*1024*8,uM=3,cM=1e3,fM=2,sc="x-goog-upload-status";async function dM(t,e,n){var o,r,u;let d=0,h=0,g=new vc(new Response),p="upload";for(d=t.size;h<d;){const T=Math.min(aM,d-h),_=t.slice(h,h+T);h+T>=d&&(p+=", finalize");let E=0,x=cM;for(;E<uM&&(g=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((o=g==null?void 0:g.headers)===null||o===void 0)&&o[sc]));)E++,await pM(x),x=x*fM;if(h+=T,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[sc])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(g==null?void 0:g.json());if(((u=g==null?void 0:g.headers)===null||u===void 0?void 0:u[sc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function hM(t){return{size:t.size,type:t.type}}function pM(t){return new Promise(e=>setTimeout(e,t))}class mM{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dM(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gM{create(e,n,o){return new yM(e,n,o)}}class yM{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng="x-goog-api-key";class vM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ng)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ng,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TM="gl-node/";class _M{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=yS(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new vM(this.apiKey);this.apiClient=new B1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:TM+"web",uploader:new mM,downloader:new lM}),this.models=new sR(this.apiClient),this.live=new W1(this.apiClient,r,new gM),this.batches=new HC(this.apiClient),this.chats=new FE(this.models,this.apiClient),this.caches=new zE(this.apiClient),this.files=new ow(this.apiClient),this.operations=new uR(this.apiClient),this.authTokens=new BR(this.apiClient),this.tunings=new rM(this.apiClient)}}const SM=void 0;throw new Error("API_KEY environment variable not set");const CM=new _M({apiKey:SM}),EM={type:Ye.OBJECT,properties:{thinkingProcess:{type:Ye.STRING,description:"A detailed, step-by-step analysis of the chart following the required process. This should be in Markdown format."},summary:{type:Ye.STRING,description:"A concise summary of the overall analysis."},signal:{type:Ye.STRING,enum:["BUY","SELL","NEUTRAL"],description:"The final trade signal."},confidence:{type:Ye.STRING,enum:["HIGH","LOW"],description:"The confidence level of the signal. HIGH if overallConfidenceScore >= 75, otherwise LOW."},trade:{type:Ye.OBJECT,nullable:!0,description:"The trade details. Must be null if confidence is LOW or signal is NEUTRAL.",properties:{entryPrice:{type:Ye.STRING},takeProfit:{type:Ye.STRING},stopLoss:{type:Ye.STRING}}},timeframe:{type:Ye.STRING,description:"The chart's timeframe (e.g., '4-Hour', '1-Day')."},riskRewardRatio:{type:Ye.STRING,nullable:!0,description:"The calculated risk/reward ratio as a string (e.g., '2.5:1'). Must be null if no trade is provided."},verificationSummary:{type:Ye.STRING,description:"A brief, critical self-assessment of the analysis, noting any conflicting data or weaknesses."},overallConfidenceScore:{type:Ye.INTEGER,description:"A final numerical confidence score from 0 to 100 based on the verification step."}},required:["thinkingProcess","summary","signal","confidence","trade","timeframe","riskRewardRatio","verificationSummary","overallConfidenceScore"]},wM=`You are Wizz, an elite crypto chart analyst. Your analysis must be precise, quantitative, and strictly confined to the visual data in the chart. Your goal is reproducibility and self-awareness.

First, perform a rigorous 7-step analysis process.
1.  **Identify Timeframe:** State the chart's timeframe.
2.  **Identify Key Levels:** Quantify major support and resistance levels.
3.  **Analyze Chart Patterns:** Name any identified classic patterns and their implications.
4.  **Examine Indicators:** For each visible indicator, state its value and implication.
5.  **Assess Volume:** Describe the volume and correlate it with price action.
6.  **Synthesize Findings:** Briefly summarize the confluence of factors.
7.  **Verification & Confidence Score:** Critically review your own analysis from steps 1-6. Note any conflicting signals, weaknesses, or reasons for caution. Based on this self-critique, provide a final numerical 'overallConfidenceScore' from 0 (no confidence) to 100 (perfect confidence).

Then, run an Ensemble Strategy Confluence pass to improve signal quality:
- Build an "Ensemble Matrix" of at least these strategies visible from the chart: Trend-Following (market structure/MAs), Breakout/Range, Mean Reversion (RSI/MFI), Momentum Divergence (RSI/MACD), Liquidity/SMC (OB/FVG/equal highs-lows/sweeps), and Volume Confirmation.
- For each strategy, assign: direction vote (BUY=+1, SELL=-1, NEUTRAL=0), a strength score 0-5, and a one-sentence justification grounded in the chart.
- Aggregate votes using weights by evidence quality: strong structure/imbalance/liquidity > indicator reads > patterns.
- Only issue a non-NEUTRAL signal when the weighted sum shows clear confluence and conflicting strategies are weak. Favor NEUTRAL when mixed.

STRICT RISK RULES TO REDUCE STOP-LOSS HITS AND BOOST WIN RATE
- Default to NEUTRAL unless there is strong multi-factor confluence.
- Only provide a trade if ALL are true:
  1) overallConfidenceScore >= 75 (HIGH);
  2) clear invalidation level exists (recent swing high/low or structural break);
  3) riskRewardRatio is >= 1.8:1 based on a realistic entry, take profit, and a robust stop.
- Stop Loss Placement (must be robust):
  - Place stop beyond the invalidation point (e.g., below the last swing low for BUY, above the last swing high for SELL) with a buffer that is outside typical wick noise.
  - Avoid placing the stop inside obvious liquidity clusters such as equal highs/lows or immediately below/above a level likely to be swept.
  - If a robust stop produces R:R < 1.8:1, do NOT provide a trade; output NEUTRAL and set trade=null.
- Entry Quality:
  - Prefer pullback/mitigation entries at or near a defined level rather than chasing extended moves.
  - If the precise numeric entry cannot be justified from the chart, do not provide a trade.

Include the Ensemble Matrix and its aggregation inside 'thinkingProcess' as a concise table or list.

After your internal analysis, you MUST provide your entire response as a single, valid, minified JSON object conforming to the provided schema.

- The complete 7-step analysis MUST be placed in the 'thinkingProcess' field as a single Markdown string.
- The self-critique MUST be placed in 'verificationSummary'.
- The final score MUST be placed in 'overallConfidenceScore'.
- The 'confidence' field must be 'HIGH' if 'overallConfidenceScore' is 75 or greater, otherwise it must be 'LOW'.
- If 'confidence' is 'LOW' or 'signal' is 'NEUTRAL', the 'trade' and 'riskRewardRatio' fields MUST be null.
- If you provide a 'trade' signal, you MUST calculate the 'riskRewardRatio'.
  - For a BUY signal: Risk/Reward = (Take Profit - Entry) / (Entry - Stop Loss).
  - For a SELL signal: Risk/Reward = (Entry - Take Profit) / (Stop Loss - Entry).
  - Format the result as a string like "2.5:1". Round to one decimal place.

Do not add any text, formatting, or markdown backticks before or after the final JSON object. Your entire output must be the JSON object itself.`,xM=`You are Wizz Ultra, a world-class quantitative crypto analyst and trading algorithm. Your analysis is not mere technical analysis; it's a multi-layered, institutional-grade assessment. You operate with extreme precision, logical rigor, and a deep, holistic understanding of market dynamics. Mistakes are not an option. Your sole purpose is to provide the most accurate, profitable, and risk-managed analysis possible.

You will conduct a three-pass verification process for every chart:

**PASS 1: Core Technical Analysis (The Foundation)**
1.  **Timeframe & Asset:** Identify the asset and chart timeframe.
2.  **Market Structure:** Define the primary, secondary, and tertiary trends. Identify key swing highs and lows, and market structure breaks (MSB) or changes of character (CHoCH).
3.  **Liquidity Mapping:** Identify key liquidity zones: equal highs/lows, trendline liquidity, old highs/lows. Where is the "smart money" likely to hunt for stops?
4.  **Supply & Demand Zones:** Pinpoint significant, unmitigated order blocks, breaker blocks, and fair value gaps (FVGs) or imbalances. Quantify these price ranges.
5.  **Classic & Advanced Patterns:** Identify any classic patterns (e.g., Head & Shoulders, Triangles) and advanced formations (e.g., Wyckoff accumulation/distribution schematics, Elliott Wave counts). State the textbook implications.
6.  **Indicator Confluence:** Analyze visible indicators (RSI, MACD, MAs, etc.). Note any divergences (regular/hidden), convergences, or key level crosses. Do not just state the reading; state its implication within the current market structure.
7.  **Volume & Volatility Profile:** Analyze volume. Is it confirming price action? Note any high-volume climactic moves or low-volume corrections. Correlate with volatility.
8.  **Strategy Ensemble Matrix (Ultra)**: Build an explicit matrix of these strategies with votes and strengths grounded strictly in the visible chart: Trend-Following, Breakout/Range, Mean Reversion, Momentum Divergence, Liquidity/SMC, Volume Confirmation, and Candle/Trigger Context. For each, assign direction (BUY=+1, SELL=-1, NEUTRAL=0), strength 0-5, and a one-sentence rationale. Weight structure/liquidity > momentum > indicators > patterns. Summarize the weighted total and evidence quality.

**PASS 2: Cross-Examination & Self-Correction (The Gauntlet)**
-  **Bearish Thesis:** Force yourself to construct the strongest possible argument AGAINST your initial bullish/neutral findings. What could go wrong? Where is the analysis weakest? Identify conflicting signals between indicators, patterns, and market structure.
-  **Bullish Thesis:** Force yourself to construct the strongest possible argument AGAINST your initial bearish/neutral findings. What is the counter-argument? What bullish signals might you be downplaying?
-  **Re-evaluation:** Based on these counter-arguments, critically re-evaluate your findings from Pass 1. Refine your key levels and zones. Does the primary thesis still hold up under this scrutiny?
-  **Adversarial Ensemble Re-test:** Re-run the Strategy Ensemble assuming common failure modes (fake breakouts, liquidity sweeps beyond obvious highs/lows, indicator lag). Record any flips in strategy votes and the new weighted total.

**PASS 3: Synthesis & Final Verdict (The Execution Plan)**
1.  **Synthesized Narrative:** Combine the findings from all passes into a coherent, final analysis narrative. This is your definitive read of the market.
2.  **Final Confidence Score:** Based on the degree of confluence and the severity of conflicting data found in Pass 2, provide a final 'overallConfidenceScore' from 0 to 100. Be brutally honest.
3.  **Final Signal Generation (Ultra Gating):** Default to NEUTRAL unless conviction is very high. Only issue BUY/SELL if both the initial and adversarial ensembles agree on direction and the weighted margin is decisively in favor of that direction.
4.  **Trade Parameters (High Confidence ONLY):** If confidence is 'HIGH', provide a precise 'trade' plan with 'entryPrice', 'takeProfit', and 'stopLoss'. The entry should be a specific level, not a wide range.
5.  **Stop-Run Safeguard (critical):** Place the stop beyond the invalidation with a sensible buffer outside typical wick noise and away from obvious liquidity pools. If a robust stop leads to R:R < 2.2:1, do NOT provide a trade.
6.  **Risk/Reward Calculation:** If a trade is provided, calculate and include the 'riskRewardRatio'.

Ultra Mode Acceptance Criteria (aimed at ~2x stricter accuracy vs Normal):
- Require overallConfidenceScore >= 85 to provide any trade (confidence will still be HIGH if >=75 per schema, but you must suppress the trade unless score >=85).
- Require Strategy Ensemble AND Adversarial Ensemble to agree on direction with strong margin (e.g., majority of strategies aligned and no strong opposing evidence from liquidity or structure).
- Require evidence of a credible invalidation level that is not inside obvious liquidity. Prefer entries at mitigations/retests rather than chases.
- If any criterion fails, set 'signal' to NEUTRAL and 'trade' to null.

After this entire internal process, you MUST provide your response as a single, valid, minified JSON object conforming to the provided schema.

- The 'thinkingProcess' field must contain the complete, detailed output of all three passes, formatted in Markdown, including the Strategy Ensemble matrices (initial and adversarial) and their aggregation.
- The 'verificationSummary' will contain a concise summary of the key findings from Pass 2 (the cross-examination and adversarial re-test).
- Adhere strictly to all schema requirements regarding null fields and data types. Your entire output must be only the JSON object.`,bM="You are Wizz, an expert AI assistant specializing in cryptocurrency and technical analysis. Engage in a helpful and informative conversation with the user. If they ask about analysis but don't provide a chart, ask them to upload one. Maintain a professional and knowledgeable tone. Your answers should be formatted in Markdown.",AM="You are Wizz Ultra, a world-class quantitative crypto analyst AI. Your knowledge is vast and precise. When a user asks a question without a chart, answer it with institutional-grade insight and clarity. If they ask for analysis, politely guide them to upload a chart to unlock your full capabilities. Be direct, insightful, and confident. Your answers should be formatted in Markdown.";async function*Dg(t,e,n,o,r){const u=t.filter(v=>v.role==="user"||v.role==="assistant"&&v.rawResponse).map(v=>{if(v.role==="assistant")return{role:"model",parts:[{text:v.rawResponse}]};const T=[];typeof v.content=="string"&&v.content.trim()&&T.push({text:v.content});const _=[];Array.isArray(v.images)&&v.images.length>0?_.push(...v.images):v.image&&_.push(v.image);for(const E of _){const x=E.split(";base64,");if(x.length===2){const D=x[0].split(":")[1],k=x[1];D&&k&&T.push({inlineData:{mimeType:D,data:k}})}}return{role:"user",parts:T}}).filter(v=>v.parts.length>0),d=[{text:e}];if(Array.isArray(n)&&n.length>0)for(const v of n)d.push({inlineData:{mimeType:v.mimeType,data:v.data}});const h=[...u,{role:"user",parts:d}],g=Array.isArray(n)&&n.length>0,p=g?{systemInstruction:r?xM:wM,temperature:0,topK:1,topP:1,seed:42,responseMimeType:"application/json",responseSchema:EM}:{systemInstruction:r?AM:bM,temperature:0,topK:1,topP:1,seed:42};try{const v=await CM.models.generateContentStream({model:g&&r?"gemini-2.5-pro":"gemini-2.5-flash",contents:h,config:p});for await(const T of v){if(o.aborted){console.log("Stream generation aborted by user.");break}const _=T==null?void 0:T.text;typeof _=="string"&&_.length>0&&(yield _)}}catch(v){if(!(v instanceof Error&&v.name==="AbortError")){console.error("Error during Gemini stream:",v);const T=`Details: ${v instanceof Error?v.message:String(v)}`;g?yield`{"error": "Could not retrieve analysis. ${T}"}`:yield`Sorry, I encountered an error and could not respond. Please try again. ${T}`}}}const Ig=t=>{let e;const n=new Set,o=(p,v)=>{const T=typeof p=="function"?p(e):p;if(!Object.is(T,e)){const _=e;e=v??(typeof T!="object"||T===null)?T:Object.assign({},e,T),n.forEach(E=>E(e,_))}},r=()=>e,h={setState:o,getState:r,getInitialState:()=>g,subscribe:p=>(n.add(p),()=>n.delete(p))},g=e=t(o,r,h);return h},RM=t=>t?Ig(t):Ig,MM=t=>t;function kM(t,e=MM){const n=wo.useSyncExternalStore(t.subscribe,wo.useCallback(()=>e(t.getState()),[t,e]),wo.useCallback(()=>e(t.getInitialState()),[t,e]));return wo.useDebugValue(n),n}const Ug=t=>{const e=RM(t),n=o=>kM(e,o);return Object.assign(n,e),n},tv=t=>t?Ug(t):Ug,NM="modulepreload",DM=function(t){return"/"+t},Lg={},Ws=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=d(n.map(p=>{if(p=DM(p),p in Lg)return;Lg[p]=!0;const v=p.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":NM,v||(_.as="script"),_.crossOrigin="",_.href=p,g&&_.setAttribute("nonce",g),document.head.appendChild(_),v)return new Promise((E,x)=>{_.addEventListener("load",E),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return r.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})},IM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:o}=await Promise.resolve().then(()=>Lo);return{default:o}},void 0).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)};class Wc extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class UM extends Wc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pg extends Wc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qg extends Wc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rc||(Rc={}));var LM=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};class PM{constructor(e,{headers:n={},customFetch:o,region:r=Rc.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=IM(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var o;return LM(this,void 0,void 0,function*(){try{const{headers:r,method:u,body:d}=n;let h={},{region:g}=n;g||(g=this.region);const p=new URL(`${this.url}/${e}`);g&&g!=="any"&&(h["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let v;d&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(h["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(h["Content-Type"]="application/json",v=JSON.stringify(d)));const T=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:v}).catch(D=>{throw new UM(D)}),_=T.headers.get("x-relay-error");if(_&&_==="true")throw new Pg(T);if(!T.ok)throw new qg(T);let E=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),x;return E==="application/json"?x=yield T.json():E==="application/octet-stream"?x=yield T.blob():E==="text/event-stream"?x=T:E==="multipart/form-data"?x=yield T.formData():x=yield T.text(),{data:x,error:null,response:T}}catch(r){return{data:null,error:r,response:r instanceof qg||r instanceof Pg?r.context:void 0}}})}}var ot={},fo={},ho={},po={},mo={},go={},qM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=qM();const VM=Mo.fetch,nv=Mo.fetch.bind(Mo),iv=Mo.Headers,BM=Mo.Request,OM=Mo.Response,Lo=Object.freeze(Object.defineProperty({__proto__:null,Headers:iv,Request:BM,Response:OM,default:nv,fetch:VM},Symbol.toStringTag,{value:"Module"})),HM=YT(Lo);var vl={},Vg;function ov(){if(Vg)return vl;Vg=1,Object.defineProperty(vl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return vl.default=t,vl}var Bg;function sv(){if(Bg)return go;Bg=1;var t=go&&go.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(go,"__esModule",{value:!0});const e=t(HM),n=t(ov());class o{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,T,_;let E=null,x=null,D=null,k=p.status,V=p.statusText;if(p.ok){if(this.method!=="HEAD"){const B=await p.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=B:x=JSON.parse(B))}const N=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),J=(T=p.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");N&&J&&J.length>1&&(D=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(E={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,D=null,k=406,V="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const N=await p.text();try{E=JSON.parse(N),Array.isArray(E)&&p.status===404&&(x=[],E=null,k=200,V="OK")}catch{p.status===404&&N===""?(k=204,V="No Content"):E={message:N}}if(E&&this.isMaybeSingle&&(!((_=E==null?void 0:E.details)===null||_===void 0)&&_.includes("0 rows"))&&(E=null,k=200,V="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:x,count:D,status:k,statusText:V}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,T,_;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(T=p==null?void 0:p.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(_=p==null?void 0:p.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,d)}returns(){return this}overrideTypes(){return this}}return go.default=o,go}var Og;function rv(){if(Og)return mo;Og=1;var t=mo&&mo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(mo,"__esModule",{value:!0});const e=t(sv());class n extends e.default{select(r){let u=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${r}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,u,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(p,`${u-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:g=!1,format:p="text"}={}){var v;const T=[r?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${_}"; options=${T};`,p==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return mo.default=n,mo}var Hg;function jc(){if(Hg)return po;Hg=1;var t=po&&po.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(po,"__esModule",{value:!0});const e=t(rv());class n extends e.default{eq(r,u){return this.url.searchParams.append(r,`eq.${u}`),this}neq(r,u){return this.url.searchParams.append(r,`neq.${u}`),this}gt(r,u){return this.url.searchParams.append(r,`gt.${u}`),this}gte(r,u){return this.url.searchParams.append(r,`gte.${u}`),this}lt(r,u){return this.url.searchParams.append(r,`lt.${u}`),this}lte(r,u){return this.url.searchParams.append(r,`lte.${u}`),this}like(r,u){return this.url.searchParams.append(r,`like.${u}`),this}likeAllOf(r,u){return this.url.searchParams.append(r,`like(all).{${u.join(",")}}`),this}likeAnyOf(r,u){return this.url.searchParams.append(r,`like(any).{${u.join(",")}}`),this}ilike(r,u){return this.url.searchParams.append(r,`ilike.${u}`),this}ilikeAllOf(r,u){return this.url.searchParams.append(r,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(r,u){return this.url.searchParams.append(r,`ilike(any).{${u.join(",")}}`),this}is(r,u){return this.url.searchParams.append(r,`is.${u}`),this}in(r,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(r,`in.(${d})`),this}contains(r,u){return typeof u=="string"?this.url.searchParams.append(r,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(r,`cs.{${u.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(u)}`),this}containedBy(r,u){return typeof u=="string"?this.url.searchParams.append(r,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(r,`cd.{${u.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(u)}`),this}rangeGt(r,u){return this.url.searchParams.append(r,`sr.${u}`),this}rangeGte(r,u){return this.url.searchParams.append(r,`nxl.${u}`),this}rangeLt(r,u){return this.url.searchParams.append(r,`sl.${u}`),this}rangeLte(r,u){return this.url.searchParams.append(r,`nxr.${u}`),this}rangeAdjacent(r,u){return this.url.searchParams.append(r,`adj.${u}`),this}overlaps(r,u){return typeof u=="string"?this.url.searchParams.append(r,`ov.${u}`):this.url.searchParams.append(r,`ov.{${u.join(",")}}`),this}textSearch(r,u,{config:d,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(r,`${g}fts${p}.${u}`),this}match(r){return Object.entries(r).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(r,u,d){return this.url.searchParams.append(r,`not.${u}.${d}`),this}or(r,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${r})`),this}filter(r,u,d){return this.url.searchParams.append(r,`${u}.${d}`),this}}return po.default=n,po}var zg;function lv(){if(zg)return ho;zg=1;var t=ho&&ho.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ho,"__esModule",{value:!0});const e=t(jc());class n{constructor(r,{headers:u={},schema:d,fetch:h}){this.url=r,this.headers=u,this.schema=d,this.fetch=h}select(r,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let g=!1;const p=(r??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:u,defaultToNull:d=!0}={}){const h="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(r)){const p=r.reduce((v,T)=>v.concat(Object.keys(T)),[]);if(p.length>0){const v=[...new Set(p)].map(T=>`"${T}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:g=!0}={}){const p="POST",v=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&v.push(this.headers.Prefer),h&&v.push(`count=${h}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(r)){const T=r.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(T.length>0){const _=[...new Set(T)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const u="DELETE",d=[];return r&&d.push(`count=${r}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ho.default=n,ho}var Bs={},Os={},Gg;function zM(){return Gg||(Gg=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.version=void 0,Os.version="0.0.0-automated"),Os}var $g;function GM(){if($g)return Bs;$g=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.DEFAULT_HEADERS=void 0;const t=zM();return Bs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Bs}var Fg;function $M(){if(Fg)return fo;Fg=1;var t=fo&&fo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(fo,"__esModule",{value:!0});const e=t(lv()),n=t(jc()),o=GM();class r{constructor(d,{headers:h={},schema:g,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),h),this.schemaName=g,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new r(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:p=!1,count:v}={}){let T;const _=new URL(`${this.url}/rpc/${d}`);let E;g||p?(T=g?"HEAD":"GET",Object.entries(h).filter(([D,k])=>k!==void 0).map(([D,k])=>[D,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([D,k])=>{_.searchParams.append(D,k)})):(T="POST",E=h);const x=Object.assign({},this.headers);return v&&(x.Prefer=`count=${v}`),new n.default({method:T,url:_,headers:x,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return fo.default=r,fo}var Jg;function FM(){if(Jg)return ot;Jg=1;var t=ot&&ot.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ot,"__esModule",{value:!0}),ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const e=t($M());ot.PostgrestClient=e.default;const n=t(lv());ot.PostgrestQueryBuilder=n.default;const o=t(jc());ot.PostgrestFilterBuilder=o.default;const r=t(rv());ot.PostgrestTransformBuilder=r.default;const u=t(sv());ot.PostgrestBuilder=u.default;const d=t(ov());return ot.PostgrestError=d.default,ot.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:u.default,PostgrestError:d.default},ot}var JM=FM();const YM=Bc(JM),{PostgrestClient:KM,PostgrestQueryBuilder:r2,PostgrestFilterBuilder:l2,PostgrestTransformBuilder:a2,PostgrestBuilder:u2,PostgrestError:c2}=YM;class QM{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const o=parseInt(process.versions.node.split(".")[0]);if(o>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const r=this.dynamicRequire("undici");if(r&&r.WebSocket)return{type:"native",constructor:r.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const r=this.dynamicRequire("ws");if(r)return{type:"ws",constructor:(n=r.WebSocket)!==null&&n!==void 0?n:r};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${o} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const XM="2.15.0",ZM=`realtime-js/${XM}`,WM="1.0.0",Mc=1e4,jM=1e3,ek=100;var Fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fs||(Fs={}));var We;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(We||(We={}));var Ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ft||(Ft={}));var kc;(function(t){t.websocket="websocket"})(kc||(kc={}));var vi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vi||(vi={}));class tk{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,n,o)}_decodeBroadcast(e,n,o){const r=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=o.decode(e.slice(d,d+r));d=d+r;const g=o.decode(e.slice(d,d+u));d=d+u;const p=JSON.parse(o.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:g,payload:p}}}class av{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Yg=(t,e,n={})=>{var o;const r=(o=n.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((u,d)=>(u[d]=nk(d,t,e,r),u),{})},nk=(t,e,n,o)=>{const r=e.find(h=>h.name===t),u=r==null?void 0:r.type,d=n[t];return u&&!o.includes(u)?uv(u,d):Nc(d)},uv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rk(e,n)}switch(t){case Ve.bool:return ik(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return ok(e);case Ve.json:case Ve.jsonb:return sk(e);case Ve.timestamp:return lk(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Nc(e);default:return Nc(e)}},Nc=t=>t,ik=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ok=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rk=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,o=t[n];if(t[0]==="{"&&o==="}"){let u;const d=t.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>uv(e,h))}return t},lk=t=>typeof t=="string"?t.replace(" ","T"):t,cv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class rc{constructor(e,n,o={},r=Mc){this.channel=e,this.event=n,this.payload=o,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kg||(Kg={}));class Js{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},r=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Js.syncState(this.state,r,u,d),this.pendingDiffs.forEach(g=>{this.state=Js.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},r=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Js.syncDiff(this.state,r,u,d),h())}),this.onJoin((r,u,d)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:u,newPresences:d})}),this.onLeave((r,u,d)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,r){const u=this.cloneDeep(e),d=this.transformState(n),h={},g={};return this.map(u,(p,v)=>{d[p]||(g[p]=v)}),this.map(d,(p,v)=>{const T=u[p];if(T){const _=v.map(k=>k.presence_ref),E=T.map(k=>k.presence_ref),x=v.filter(k=>E.indexOf(k.presence_ref)<0),D=T.filter(k=>_.indexOf(k.presence_ref)<0);x.length>0&&(h[p]=x),D.length>0&&(g[p]=D)}else h[p]=v}),this.syncDiff(u,{joins:h,leaves:g},o,r)}static syncDiff(e,n,o,r){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),r||(r=()=>{}),this.map(u,(h,g)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(g),v.length>0){const T=e[h].map(E=>E.presence_ref),_=v.filter(E=>T.indexOf(E.presence_ref)<0);e[h].unshift(..._)}o(h,v,g)}),this.map(d,(h,g)=>{let p=e[h];if(!p)return;const v=g.map(T=>T.presence_ref);p=p.filter(T=>v.indexOf(T.presence_ref)<0),e[h]=p,r(h,p,g),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const r=e[o];return"metas"in r?n[o]=r.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qg||(Qg={}));var Ys;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ys||(Ys={}));var yn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class ef{constructor(e,n={config:{}},o){this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rc(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new av(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(r,u)=>{this._trigger(this._replyEventName(u),r)}),this.presence=new Js(this),this.broadcastEndpointURL=cv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var o,r;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,g=(r=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(_=>_.filter))!==null&&r!==void 0?r:[],p=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0,v={},T={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(yn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var E;if(this.socket.setAuth(),_===void 0){e==null||e(yn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,D=(E=x==null?void 0:x.length)!==null&&E!==void 0?E:0,k=[];for(let V=0;V<D;V++){const z=x[V],{filter:{event:N,schema:J,table:B,filter:X}}=z,K=_&&_[V];if(K&&K.event===N&&K.schema===J&&K.table===B&&K.filter===X)k.push(Object.assign(Object.assign({},z),{id:K.id}));else{this.unsubscribe(),this.state=We.errored,e==null||e(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(yn.SUBSCRIBED);return}}).receive("error",_=>{this.state=We.errored,e==null||e(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===We.joined&&e===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,o)}async send(e,n={}){var o,r;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((r=p.body)===null||r===void 0?void 0:r.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,g;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(r=>{o=new rc(this,Ft.leave,{},e),o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const r=new AbortController,u=setTimeout(()=>r.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(u),d}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new rc(this,e,n,o);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ek){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var r,u;const d=e.toLocaleLowerCase(),{close:h,error:g,leave:p,join:v}=Ft;if(o&&[h,g,p,v].indexOf(d)>=0&&o!==this._joinRef())return;let _=this._onMessage(d,n,o);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(E=>{var x,D,k;return((x=E.filter)===null||x===void 0?void 0:x.event)==="*"||((k=(D=E.filter)===null||D===void 0?void 0:D.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(E=>E.callback(_,o)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var x,D,k,V,z,N;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const J=E.id,B=(x=E.filter)===null||x===void 0?void 0:x.event;return J&&((D=n.ids)===null||D===void 0?void 0:D.includes(J))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const J=(z=(V=E==null?void 0:E.filter)===null||V===void 0?void 0:V.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return J==="*"||J===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof _=="object"&&"ids"in _){const x=_.data,{schema:D,table:k,commit_timestamp:V,type:z,errors:N}=x;_=Object.assign(Object.assign({},{schema:D,table:k,commit_timestamp:V,eventType:z,new:{},old:{},errors:N}),this._getPayloadRecords(x))}E.callback(_,o)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const r=e.toLocaleLowerCase(),u={type:r,filter:n,callback:o};return this.bindings[r]?this.bindings[r].push(u):this.bindings[r]=[u],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(r=>{var u;return!(((u=r.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&ef.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ft.close,{},e)}_onError(e){this._on(Ft.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Yg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Yg(e.columns,e.old_record)),n}}const Xg=()=>{},Tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ak=[1e3,2e3,5e3,1e4],uk=1e4,ck=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fk{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=Tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xg,this.ref=0,this.reconnectTimer=null,this.logger=Xg,this.conn=null,this.sendBuffer=[],this.serializer=new tk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let u;return r?u=r:typeof fetch>"u"?u=(...d)=>Ws(async()=>{const{default:h}=await Promise.resolve().then(()=>Lo);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kc.websocket}`,this.httpEndpoint=cv(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QM.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WM}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Fs.connecting:return vi.Connecting;case Fs.open:return vi.Open;case Fs.closing:return vi.Closing;default:return vi.Closed}}isConnected(){return this.connectionState()===vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,r=this.getChannels().find(u=>u.topic===o);if(r)return r;{const u=new ef(`realtime:${e}`,n,this);return this.channels.push(u),u}}push(e){const{topic:n,event:o,payload:r,ref:u}=e,d=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${o} (${u})`,r),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:r,payload:u,ref:d}=n,h=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${o} ${r} ${h}`.trim(),u),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(r,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ft.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${o}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([ck],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const r={access_token:n,version:ZM};n&&o.updateJoinPayload(r),o.joinedOnce&&o._isJoined()&&o._push(Ft.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new av(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,r,u,d,h,g,p;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:Mc,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:Tl.HEARTBEAT_INTERVAL,this.worker=(u=e==null?void 0:e.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:v=>ak[v-1]||uk,this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:(v,T)=>T(JSON.stringify(v)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class tf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dk extends tf{constructor(e,n,o){super(e),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dc extends tf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hk=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const fv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:o}=await Promise.resolve().then(()=>Lo);return{default:o}},void 0).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)},pk=()=>hk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ws(()=>Promise.resolve().then(()=>Lo),void 0)).Response:Response}),Ic=t=>{if(Array.isArray(t))return t.map(n=>Ic(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,o])=>{const r=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[r]=Ic(o)}),e},mk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xi=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const lc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gk=(t,e,n)=>xi(void 0,void 0,void 0,function*(){const o=yield pk();t instanceof o&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const u=t.status||500,d=(r==null?void 0:r.statusCode)||u+"";e(new dk(lc(r),u,d))}).catch(r=>{e(new Dc(lc(r),r))}):e(new Dc(lc(t),t))}),yk=(t,e,n,o)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!o?r:(mk(o)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(o)):r.body=o,Object.assign(Object.assign({},r),n))};function js(t,e,n,o,r,u){return xi(this,void 0,void 0,function*(){return new Promise((d,h)=>{t(n,yk(e,o,r,u)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>gk(g,h,o))})})}function Nl(t,e,n,o){return xi(this,void 0,void 0,function*(){return js(t,"GET",e,n,o)})}function vn(t,e,n,o,r){return xi(this,void 0,void 0,function*(){return js(t,"POST",e,o,r,n)})}function Uc(t,e,n,o,r){return xi(this,void 0,void 0,function*(){return js(t,"PUT",e,o,r,n)})}function vk(t,e,n,o){return xi(this,void 0,void 0,function*(){return js(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function dv(t,e,n,o,r){return xi(this,void 0,void 0,function*(){return js(t,"DELETE",e,o,r,n)})}var Tt=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const Tk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _k{constructor(e,n={},o,r){this.url=e,this.headers=n,this.bucketId=o,this.fetch=fv(r)}uploadOrUpdate(e,n,o,r){return Tt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Zg),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=o,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r!=null&&r.headers&&(h=Object.assign(Object.assign({},h),r.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),T=yield(e=="PUT"?Uc:vn)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:T.Id,fullPath:T.Key},error:null}}catch(u){if(st(u))return{data:null,error:u};throw u}})}upload(e,n,o){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,o)})}uploadToSignedUrl(e,n,o,r){return Tt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:Zg.upsert},r),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",p.cacheControl)):(g=o,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const T=yield Uc(this.fetch,h.toString(),g,{headers:v});return{data:{path:u,fullPath:T.Key},error:null}}catch(g){if(st(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return Tt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const u=yield vn(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:r}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new tf("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}update(e,n,o){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,o)})}move(e,n,o){return Tt(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}copy(e,n,o){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,o){return Tt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),u=yield vn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,o){return Tt(this,void 0,void 0,function*(){try{const r=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:r.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}download(e,n){return Tt(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Nl(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(st(h))return{data:null,error:h};throw h}})}info(e){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const o=yield Nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ic(o),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}exists(e){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield vk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(st(o)&&o instanceof Dc){const r=o.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,n){const o=this._getFinalPath(e),r=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&r.push(u);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&r.push(g);let p=r.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${p}`)}}}remove(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield dv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}list(e,n,o){return Tt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Tk),n),{prefix:e||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},o),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Sk="2.10.4",Ck={"X-Client-Info":`storage-js/${Sk}`};var yo=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};class Ek{constructor(e,n={},o,r){const u=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Ck),n),this.fetch=fv(o)}listBuckets(){return yo(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}getBucket(e){return yo(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return yo(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return yo(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(st(o))return{data:null,error:o};throw o}})}emptyBucket(e){return yo(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return yo(this,void 0,void 0,function*(){try{return{data:yield dv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}})}}class wk extends Ek{constructor(e,n={},o,r){super(e,n,o,r)}from(e){return new _k(this.url,this.headers,e,this.fetch)}}const xk="2.54.0";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const bk={"X-Client-Info":`supabase-js-${Hs}/${xk}`},Ak={headers:bk},Rk={schema:"public"},Mk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kk={};var Nk=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const Dk=t=>{let e;return t?e=t:typeof fetch>"u"?e=nv:e=fetch,(...n)=>e(...n)},Ik=()=>typeof Headers>"u"?iv:Headers,Uk=(t,e,n)=>{const o=Dk(n),r=Ik();return(u,d)=>Nk(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:t;let p=new r(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),o(u,Object.assign(Object.assign({},d),{headers:p}))})};var Lk=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};function Pk(t){return t.endsWith("/")?t:t+"/"}function qk(t,e){var n,o;const{db:r,auth:u,realtime:d,global:h}=t,{db:g,auth:p,realtime:v,global:T}=e,_={db:Object.assign(Object.assign({},g),r),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},T),h),{headers:Object.assign(Object.assign({},(n=T==null?void 0:T.headers)!==null&&n!==void 0?n:{}),(o=h==null?void 0:h.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Lk(this,void 0,void 0,function*(){return""})};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}const hv="2.71.1",Co=30*1e3,Lc=3,ac=Lc*Co,Vk="http://localhost:9999",Bk="supabase.auth.token",Ok={"X-Client-Info":`gotrue-js/${hv}`},Pc="X-Supabase-Api-Version",pv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zk=600*1e3;class nf extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gk extends nf{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function $k(t){return ge(t)&&t.name==="AuthApiError"}class mv extends nf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Xn extends nf{constructor(e,n,o,r){super(e,o,r),this.name=n,this.status=o}}class Kn extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fk(t){return ge(t)&&t.name==="AuthSessionMissingError"}class _l extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sl extends Xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cl extends Xn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jk(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wg extends Xn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qc extends Xn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function uc(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class jg extends Xn{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Vc extends Xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ey=` 	
\r=`.split(""),Yk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ey.length;e+=1)t[ey[e].charCodeAt(0)]=-2;for(let e=0;e<Dl.length;e+=1)t[Dl[e].charCodeAt(0)]=e;return t})();function ty(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Dl[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Dl[o]),e.queuedBits-=6}}function gv(t,e,n){const o=Yk[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ny(t){const e=[],n=d=>{e.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},u=d=>{Xk(d,o,n)};for(let d=0;d<t.length;d+=1)gv(t.charCodeAt(d),r,u);return e.join("")}function Kk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Qk(t,e){for(let n=0;n<t.length;n+=1){let o=t.charCodeAt(n);if(o>55295&&o<=56319){const r=(o-55296)*1024&65535;o=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Kk(o,e)}}function Xk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zk(t){const e=[],n={queue:0,queuedBits:0},o=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)gv(t.charCodeAt(r),n,o);return new Uint8Array(e)}function Wk(t){const e=[];return Qk(t,n=>e.push(n)),new Uint8Array(e)}function jk(t){const e=[],n={queue:0,queuedBits:0},o=r=>{e.push(r)};return t.forEach(r=>ty(r,n,o)),ty(null,n,o),e.join("")}function eN(t){return Math.round(Date.now()/1e3)+t}function tN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",mi={tested:!1,writable:!1},yv=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mi.tested)return mi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mi.tested=!0,mi.writable=!0}catch{mi.tested=!0,mi.writable=!1}return mi.writable};function nN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,u)=>{e[u]=r})}catch{}return n.searchParams.forEach((o,r)=>{e[r]=o}),e}const vv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:o}=await Promise.resolve().then(()=>Lo);return{default:o}},void 0).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)},iN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Eo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},gi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yn=async(t,e)=>{await t.removeItem(e)};class ql{constructor(){this.promise=new ql.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ql.promiseConstructor=Promise;function cc(t){const e=t.split(".");if(e.length!==3)throw new Vc("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!Hk.test(e[o]))throw new Vc("JWT not in base64url format");return{header:JSON.parse(ny(e[0])),payload:JSON.parse(ny(e[1])),signature:Zk(e[2]),raw:{header:e[0],payload:e[1]}}}async function oN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sN(t,e){return new Promise((o,r)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await t(u);if(!e(u,null,d)){o(d);return}}catch(d){if(!e(u,d)){r(d);return}}})()})}function rN(t){return("0"+t.toString(16)).substr(-2)}function lN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let r="";for(let u=0;u<56;u++)r+=n.charAt(Math.floor(Math.random()*o));return r}return crypto.getRandomValues(e),Array.from(e,rN).join("")}async function aN(t){const n=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(o);return Array.from(r).map(u=>String.fromCharCode(u)).join("")}async function uN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await aN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vo(t,e,n=!1){const o=lN();let r=o;n&&(r+="/PASSWORD_RECOVERY"),await Eo(t,`${e}-code-verifier`,r);const u=await uN(o);return[u,o===u?"plain":"s256"]}const cN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fN(t){const e=t.headers.get(Pc);if(!e||!e.match(cN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(t){if(!pN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iy(t){return JSON.parse(JSON.stringify(t))}var mN=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const yi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gN=[502,503,504];async function oy(t){var e;if(!iN(t))throw new qc(yi(t),0);if(gN.includes(t.status))throw new qc(yi(t),t.status);let n;try{n=await t.json()}catch(u){throw new mv(yi(u),u)}let o;const r=fN(t);if(r&&r.getTime()>=pv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new jg(yi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Kn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new jg(yi(n),t.status,n.weak_password.reasons);throw new Gk(yi(n),t.status||500,o)}const yN=(t,e,n,o)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(o),Object.assign(Object.assign({},r),n))};async function Ce(t,e,n,o){var r;const u=Object.assign({},o==null?void 0:o.headers);u[Pc]||(u[Pc]=pv["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(r=o==null?void 0:o.query)!==null&&r!==void 0?r:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await vN(t,e,n+h,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function vN(t,e,n,o,r,u){const d=yN(e,o,r,u);let h;try{h=await t(n,Object.assign({},d))}catch(g){throw console.error(g),new qc(yi(g),0)}if(h.ok||await oy(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(g){await oy(g)}}function gn(t){var e;let n=null;CN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=eN(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:o},error:null}}function sy(t){const e=gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function TN(t){return{data:t,error:null}}function _N(t){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:r,verification_type:u}=t,d=mN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:o,redirect_to:r,verification_type:u},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function SN(t){return t}function CN(t){return t.access_token&&t.refresh_token&&t.expires_in}const dc=["global","local","others"];var EN=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};class wN{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=vv(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=dc[0]){if(dc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dc.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qn})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=EN(e,["options"]),r=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(r.new_email=o==null?void 0:o.newEmail,delete r.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_N,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qn})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,r,u,d,h,g;try{const p={nextPage:null,lastPage:0,total:0},v=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&u!==void 0?u:""},xform:SN});if(v.error)throw v.error;const T=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(x=>{const D=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(x.split(";")[1].split("=")[1]);p[`${k}Page`]=D}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},T),p),error:null}}catch(p){if(ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){To(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qn})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){To(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Qn})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){To(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qn})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){To(e.userId);try{const{data:n,error:o}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:o}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){To(e.userId),To(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function ry(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function xN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _o={debug:!!(globalThis&&yv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bN extends Tv{}async function AN(t,e,n){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async r=>{if(r){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new bN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_o.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xN();const RN={url:Vk,storageKey:Bk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ok,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ly(t,e,n){return await n()}const So={};class Ks{constructor(e){var n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},RN),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new wN({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=vv(r.fetch),this.lock=r.lock||ly,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=AN:this.lock=ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:yv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ry(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ry(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=So[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=So[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=nN(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),$t()&&this.detectSessionInUrl&&o!=="none"){const{data:r,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Jk(u)){const g=(e=u.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new mv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,r;try{const u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:gn}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var n,o,r;try{let u;if("email"in e){const{email:v,password:T,options:_}=e;let E=null,x=null;this.flowType==="pkce"&&([E,x]=await vo(this.storage,this.storageKey)),u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:T,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:x},xform:gn})}else if("phone"in e){const{phone:v,password:T,options:_}=e;u=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:T,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},channel:(r=_==null?void 0:_.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:gn})}else throw new Sl("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let n;if("email"in e){const{email:u,password:d,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sy})}else if("phone"in e){const{phone:u,password:d,options:h}=e;n=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sy})}else throw new Sl("You must provide either an email or phone number and a password");const{data:o,error:r}=n;return r?{data:{user:null,session:null},error:r}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new _l}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:r})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,o,r,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,o,r,u,d,h,g,p,v,T,_,E;let x,D;if("message"in e)x=e.message,D=e.signature;else{const{chain:k,wallet:V,statement:z,options:N}=e;let J;if($t())if(typeof V=="object")J=V;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))J=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=V}const B=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in J&&J.signIn){const X=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),z?{statement:z}:null));let K;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")K=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)K=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)x=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),D=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${B.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(r=(o=N==null?void 0:N.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((g=N==null?void 0:N.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((T=(v=N==null?void 0:N.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||T===void 0)&&T.length?["Resources",...N.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const X=await J.signMessage(new TextEncoder().encode(x),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=X}}try{const{data:k,error:V}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:jk(D)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:gn});if(V)throw V;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new _l}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:V})}catch(k){if(ge(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await gi(this.storage,`${this.storageKey}-code-verifier`),[o,r]=(n??"").split("/");try{const{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:gn});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new _l}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:r??null}),error:d})}catch(u){if(ge(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:n,provider:o,token:r,access_token:u,nonce:d}=e,h=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:r,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gn}),{data:g,error:p}=h;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new _l}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,o,r,u,d;try{if("email"in e){const{email:h,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await vo(this.storage,this.storageKey));const{error:T}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in e){const{phone:h,options:g}=e,{data:p,error:v}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Sl("You must provide either an email or phone number.")}catch(h){if(ge(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,o;try{let r,u;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,u=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:r,xform:gn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,o,r;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await vo(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:TN})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new Kn;const{error:r}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:r,options:u}=e,{error:d}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:o,type:r,options:u}=e,{data:d,error:h}=await Ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Sl("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const d=await gi(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=fc()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,v)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,v))})}return{data:{session:e},error:null}}const{session:r,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qn}):await this._useSession(async n=>{var o,r,u;const{data:d,error:h}=n;if(h)throw h;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kn}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0,xform:Qn})})}catch(n){if(ge(n))return Fk(n)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:r,error:u}=o;if(u)throw u;if(!r.session)throw new Kn;const d=r.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await vo(this.storage,this.storageKey));const{data:p,error:v}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:Qn});if(v)throw v;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kn;const n=Date.now()/1e3;let o=n,r=!0,u=null;const{payload:d}=cc(e.access_token);if(d.exp&&(o=d.exp,r=o<=n),r){const{session:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;u={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:d,error:h}=n;if(h)throw h;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Kn;const{session:r,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$t())throw new Cl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wg("No code detected.");const{data:z,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:r,access_token:u,refresh_token:d,expires_in:h,expires_at:g,token_type:p}=e;if(!u||!h||!d||!p)throw new Cl("No session defined in URL");const v=Math.round(Date.now()/1e3),T=parseInt(h);let _=v+T;g&&(_=parseInt(g));const E=_-v;E*1e3<=Co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${T}s`);const x=_-T;v-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,_,v):v-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,_,v);const{data:D,error:k}=await this._getUser(u);if(k)throw k;const V={provider_token:o,provider_refresh_token:r,access_token:u,expires_in:T,expires_at:_,refresh_token:d,token_type:p,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:e.type},error:null}}catch(o){if(ge(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await gi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:r,error:u}=n;if(u)return{error:u};const d=(o=r.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!($k(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=tN(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,r;try{const{data:{session:u},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,n={}){let o=null,r=null;this.flowType==="pkce"&&([o,r]=await vo(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:o,error:r}=await this._useSession(async u=>{var d,h,g,p,v;const{data:T,error:_}=u;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(p=T.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(r)throw r;return $t()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(ge(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,r;const{data:u,error:d}=n;if(d)throw d;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await sN(async r=>(r>0&&await oN(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gn})),(r,u)=>{const d=200*Math.pow(2,r);return u&&uc(u)&&Date.now()+d-o<Co})}catch(o){if(this._debug(n,"error",o),ge(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),$t()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const r=await gi(this.storage,this.storageKey);if(r&&this.userStorage){let d=await gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:r.user},await Eo(this.userStorage,this.storageKey+"-user",d)),r.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:fc()}else if(r&&!r.user&&!r.user){const d=await gi(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(r.user=d.user,await Yn(this.storage,this.storageKey+"-user"),await Eo(this.storage,this.storageKey,r)):r.user=fc()}if(this._debug(o,"session from storage",r),!this._isValidSession(r)){this._debug(o,"session is not valid"),r!==null&&await this._removeSession();return}const u=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ac;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${ac}s`),u){if(this.autoRefreshToken&&r.refresh_token){const{error:d}=await this._callRefreshToken(r.refresh_token);d&&(console.error(d),uc(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(r.access_token);!h&&(d!=null&&d.user)?(r.user=d.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(o,"error",r),console.error(r);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new Kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ql;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new Kn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(r,"error",u),ge(u)){const d={session:null,error:u};return uc(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,o=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Eo(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const u=iy(r);await Eo(this.storage,this.storageKey,u)}else{const r=iy(n);await Eo(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Co);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((o.expires_at*1e3-e)/Co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Co}ms, refresh threshold is ${Lc} ticks`),r<=Lc&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const r=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&r.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&r.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await vo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});r.push(h.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);r.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&r.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:r,error:u}=n;return u?{data:null,error:u}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,r;const{data:u,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:p}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((r=g==null?void 0:g.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:r,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:r,error:u}=n;return u?{data:null,error:u}:await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const o=(e==null?void 0:e.factors)||[],r=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:r,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,o;const{data:{session:r},error:u}=e;if(u)return{data:null,error:u};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=cc(r.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((o=(n=r.user.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(h=>h.kid===e);if(o)return o;const r=Date.now();if(o=this.jwks.keys.find(h=>h.kid===e),o&&this.jwks_cached_at+zk>r)return o;const{data:u,error:d}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=r,o=u.keys.find(h=>h.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:E,error:x}=await this.getSession();if(x||!E.session)return{data:null,error:x};o=E.session.access_token}const{header:r,payload:u,signature:d,raw:{header:h,payload:g}}=cc(o);n!=null&&n.allowExpired||dN(u.exp);const p=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:u,header:r,signature:d},error:null}}const v=hN(r.alg),T=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,T,d,Wk(`${h}.${g}`)))throw new Vc("Invalid JWT signature");return{data:{claims:u,header:r,signature:d},error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}}}Ks.nextInstanceID=0;const MN=Ks;class kN extends MN{constructor(e){super(e)}}var NN=function(t,e,n,o){function r(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(v){try{p(o.next(v))}catch(T){d(T)}}function g(v){try{p(o.throw(v))}catch(T){d(T)}}function p(v){v.done?u(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};class DN{constructor(e,n,o){var r,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Pk(e),g=new URL(h);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:Rk,realtime:kk,auth:Object.assign(Object.assign({},Mk),{storageKey:p}),global:Ak},T=qk(o??{},v);this.storageKey=(r=T.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(u=T.global.headers)!==null&&u!==void 0?u:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(_,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=T.auth)!==null&&d!==void 0?d:{},this.headers,T.global.fetch),this.fetch=Uk(n,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.rest=new KM(new URL("rest/v1",g).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new wk(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new PM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},o={}){return this.rest.rpc(e,n,o)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return NN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(n=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:r,storageKey:u,flowType:d,lock:h,debug:g},p,v){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kN({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),p),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:r,flowType:d,lock:h,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,n,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const IN=(t,e,n)=>new DN(t,e,n);function UN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LN="https://pxmubamvtgwafzfjpkdx.supabase.co",PN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4bXViYW12dGd3YWZ6Zmpwa2R4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMxMDQsImV4cCI6MjA3MDA5OTEwNH0.Jmv_IxT2ct0zsu5ohrzh7rvMc3CYnXZs2teOEV2MFxI",je=IN(LN,PN),hc={theme:"dark",default_ultra_mode:!1},qN=async t=>{const e={user_id:t,theme:hc.theme},{error:n}=await je.from("user_preferences").upsert(e,{onConflict:"user_id",ignoreDuplicates:!0});n&&console.error("Error attempting to create default preferences:",n);let o=je.from("user_preferences").select("theme, default_ultra_mode").eq("user_id",t).single(),{data:r,error:u}=await o;if(u&&u.code==="42703"){const d=await je.from("user_preferences").select("theme").eq("user_id",t).single();return d.error?(console.error("Error fetching preferences:",d.error),{...hc}):{theme:d.data.theme==="light"?"light":"dark",default_ultra_mode:!1}}return u?(console.error("Error fetching preferences:",u),{...hc}):{theme:r.theme==="light"?"light":"dark",default_ultra_mode:r.default_ultra_mode??!1}},VN=async(t,e)=>{const n={user_id:t};typeof e.theme<"u"&&(n.theme=e.theme),typeof e.default_ultra_mode<"u"&&(n.default_ultra_mode=e.default_ultra_mode);let{error:o}=await je.from("user_preferences").upsert(n,{onConflict:"user_id"});if(o&&o.code==="42703"&&"default_ultra_mode"in n){const r={user_id:t,...typeof n.theme<"u"?{theme:n.theme}:{}},u=await je.from("user_preferences").upsert(r,{onConflict:"user_id"});if(u.error)throw console.error("Error updating preferences:",u.error),u.error;return}if(o)throw console.error("Error updating preferences:",o),o},BN=async t=>{const{data:e,error:n}=await je.from("sessions").select("*").eq("user_id",t).order("updated_at",{ascending:!1});return n?(console.error("Error fetching sessions:",n),[]):e.map(r=>({...r,messages:r.messages}))},ON=async(t,e)=>{const{data:n,error:o}=await je.from("sessions").insert([{user_id:t,title:e.title,messages:e.messages}]).select().single();if(o)throw console.error("Error creating session:",o),o;return{...n,messages:n.messages}},ay=async(t,e)=>{const n={...e,...e.messages&&{messages:e.messages}},{error:o}=await je.from("sessions").update(n).eq("id",t);if(o)throw console.error("Error updating session:",o),o},HN=async t=>{const{data:e,error:n}=await je.from("sessions").delete().eq("id",t).select();if(n)throw console.error("Error deleting session:",n),n;if(!e||e.length===0){const o=new Error("Session not found or permission denied.");throw console.error(o.message,`ID: ${t}`),o}},zN=async t=>{const{error:e}=await je.from("sessions").delete().eq("user_id",t);if(e)throw console.error("Error deleting all user sessions:",e),e},GN=async(t,e)=>{const o=`${t}/${Date.now()}.jpg`,{error:r}=await je.storage.from("avatars").upload(o,e,{contentType:"image/jpeg",upsert:!0});if(r)throw console.error("Error uploading avatar:",r),r;const{data:u}=je.storage.from("avatars").getPublicUrl(o);return u.publicUrl},Tn=tv((t,e)=>({sessions:[],activeSession:null,activeSessionId:null,isLoading:!0,user:null,setSessions:n=>t({sessions:n}),setActiveSessionId:n=>t({activeSessionId:n}),loadSessions:async n=>{t({isLoading:!0,user:n});try{const o=await BN(n.id);t({sessions:o}),o.length>0?t({activeSessionId:o[0].id}):await e().newSession()}catch(o){console.error("Error loading user sessions:",o),t({sessions:[],activeSessionId:null})}finally{t({isLoading:!1})}},newSession:async()=>{const n=e().user;if(n)try{const o=await ON(n.id,{title:"New Analysis",messages:[]});t(r=>({sessions:[o,...r.sessions],activeSessionId:o.id}))}catch(o){console.error("Error creating new session:",o)}},selectSession:n=>{t({activeSessionId:n})},updateSession:async(n,o)=>{t(r=>({sessions:r.sessions.map(u=>u.id===n?{...u,...o}:u)}));try{await ay(n,o)}catch(r){console.error("Error updating session:",r)}},updateSessionTitle:async(n,o)=>{t(r=>({sessions:r.sessions.map(u=>u.id===n?{...u,title:o}:u)}));try{await ay(n,{title:o})}catch(r){console.error("Error renaming session:",r)}},deleteSession:async n=>{if(!e().user)return;const r=e().sessions,u=e().activeSessionId;t(d=>{const h=d.sessions.filter(p=>p.id!==n);let g=d.activeSessionId;return d.activeSessionId===n&&(g=h.length>0?h[0].id:null),{sessions:h,activeSessionId:g}});try{await HN(n),e().sessions.length===0&&await e().newSession()}catch(d){console.error("Error deleting session:",d),t({sessions:r,activeSessionId:u})}},clearAllUserSessions:async()=>{const n=e().user;if(n)try{await zN(n.id),t({sessions:[],activeSessionId:null}),await e().newSession()}catch(o){console.error("Error clearing all sessions:",o)}}}));Tn.subscribe(t=>{const e=t.sessions.find(n=>n.id===t.activeSessionId)||null;t.activeSession=e});const $N=({children:t,user:e})=>{const{loadSessions:n,user:o}=Tn();return re.useEffect(()=>{e&&e.id!==(o==null?void 0:o.id)&&n(e)},[e,o,n]),w.jsx(w.Fragment,{children:t})},FN=["Analyze the trend and key levels for this BTC/USD 4H chart.","Is there a bullish or bearish pattern forming here?","Based on the indicators, what's a potential trade setup?"],JN=({text:t,onClick:e})=>w.jsx("button",{onClick:e,className:"w-full text-left p-3 bg-input-bg rounded-lg hover:bg-border-color transition-colors text-sm text-text-secondary",children:t}),YN=({onExampleClick:t})=>w.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center max-w-lg mx-auto",children:[w.jsx("div",{className:"w-16 h-16 bg-accent-blue rounded-full mb-4 flex items-center justify-center",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-white",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})})}),w.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Wizz AI Analyzer"}),w.jsx("p",{className:"text-text-secondary mt-2 mb-8",children:"Upload a crypto chart image and ask a question to begin. Or, try one of these examples:"}),w.jsx("div",{className:"w-full space-y-3",children:FN.map(e=>w.jsx(JN,{text:e,onClick:()=>t(e)},e))})]}),_v="wizz_cache_v1";function uy(t){try{const e=`${_v}:${t}`,n=localStorage.getItem(e);return n?JSON.parse(n):null}catch{return null}}function cy(t,e){try{const n=`${_v}:${t}`;localStorage.setItem(n,JSON.stringify(e))}catch{}}function KN(t){if(!t)return null;const n=t.trim().match(/^(\d+(?:\.\d+)?)[\s]*:[\s]*1$/);if(!n)return null;const o=parseFloat(n[1]);return isNaN(o)?null:o}function QN(t){if(!t.trade)return!1;const{entryPrice:e,takeProfit:n,stopLoss:o}=t.trade;if(!e||!n||!o)return!1;const r=parseFloat(String(e).replace(/[^0-9.+-]/g,"")),u=parseFloat(String(n).replace(/[^0-9.+-]/g,"")),d=parseFloat(String(o).replace(/[^0-9.+-]/g,""));return!([r,u,d].some(h=>!isFinite(h))||r===u||r===d||t.signal==="BUY"&&!(u>r&&d<r)||t.signal==="SELL"&&!(u<r&&d>r))}function fy(t,e){const n={...t},o=Number.isFinite(t.overallConfidenceScore)?t.overallConfidenceScore:0,r=o>=75?"HIGH":"LOW";n.confidence!==r&&(n.confidence=r);const u=KN(t.riskRewardRatio),d=QN(t);return e?n.signal==="NEUTRAL"||n.confidence==="LOW"?(n.trade=null,n.riskRewardRatio=null,n):((o<85||!d||u===null||u<2.2)&&(n.signal="NEUTRAL",n.trade=null,n.riskRewardRatio=null),n):n.signal==="NEUTRAL"||n.confidence==="LOW"?(n.trade=null,n.riskRewardRatio=null,n):((o<75||!d||u===null||u<1.8)&&(n.signal="NEUTRAL",n.trade=null,n.riskRewardRatio=null),n)}function dy(t){const e=(t??"").trim(),n=e.match(/^```(?:json)?\s*([\s\S]*?)```\s*$/i),o=n?n[1].trim():e,r=o.indexOf("{"),u=o.lastIndexOf("}");return r!==-1&&u!==-1&&u>r?o.slice(r,u+1):o}const XN=({defaultUltraMode:t})=>{const{activeSession:e,updateSession:n,updateSessionTitle:o}=Tn(),[r,u]=re.useState(!1),[d,h]=re.useState({key:0,text:""}),[g,p]=re.useState(t),v=re.useRef(null),T=re.useRef(null);re.useEffect(()=>{var k;(k=v.current)==null||k.scrollTo(0,v.current.scrollHeight)},[e==null?void 0:e.messages]);const _=re.useCallback(()=>{T.current&&(T.current.abort(),T.current=null),u(!1)},[]),E=re.useCallback(k=>{h({key:Date.now(),text:k})},[]),x=re.useCallback(async(k,V)=>{var se,de;if(!e||!k&&(!V||V.length===0))return;const z=(V||[]).map(he=>he.hash).filter(Boolean),N="p2",J=g?"gemini-2.5-pro":"gemini-2.5-flash",B=z.length>0?am({imageHashes:z,promptVersion:N,modelVersion:J,ultra:g}):"";if(z.length>0){const he=uy(B);if(he){const U={id:`msg_${Date.now()+1}`,role:"assistant",content:JSON.parse(he.raw),thinkingText:JSON.parse(he.raw).thinkingProcess,rawResponse:he.raw},$=[...e.messages,{id:`msg_${Date.now()}`,role:"user",content:k,...V&&V.length>0&&{images:V.map(Y=>`data:${Y.mimeType};base64,${Y.data}`)},...z.length>0&&{imageHashes:z}}];n(e.id,{messages:[...$,U]});return}}T.current=new AbortController,u(!0);const X={id:`msg_${Date.now()}`,role:"user",content:k,...V&&V.length>0&&{images:V.map(he=>`data:${he.mimeType};base64,${he.data}`)},...z.length>0&&{imageHashes:z}},K=`msg_${Date.now()+1}`,Q={id:K,role:"assistant",content:""},Z=[...e.messages,X];n(e.id,{messages:Z});const ue=[...Z,Q];n(e.id,{messages:ue});let ne="";try{const he=Dg(e.messages,k,V,T.current.signal,g);for await(const A of he){if((se=T.current)!=null&&se.signal.aborted)break;ne+=A}const ee=Tn.getState().sessions.find(A=>A.id===e.id);if(!ee)return;const U=ee.messages.findIndex(A=>A.id===K);if(U===-1)return;const $=[...ee.messages];if((de=T.current)!=null&&de.signal.aborted){$[U].content="Response stopped by user.",n(e.id,{messages:$});return}let Y,pe="";if(V&&V.length>0)try{const A=JSON.parse(dy(ne));if(A.error)Y=`Error: ${A.error}`;else{const O=fy(A,g);Y=O,pe=O.thinkingProcess,z.length>0&&cy(B,{signal:O.signal,confidence:(O.overallConfidenceScore??50)/100,raw:JSON.stringify(O),modelVersion:J,promptVersion:N,imageHashes:z,ultra:g,timestamp:Date.now()})}}catch(A){console.error("Failed to parse JSON response:",A,"Raw response:",ne),Y="Error: The analysis result was not in the correct format. Please try again.",ne&&(Y+=`

Raw output:
${ne}`)}else Y=ne;if($[U].content=Y,$[U].thinkingText=pe,$[U].rawResponse=ne,e.title==="New Analysis"){const A=typeof Y=="object"&&"summary"in Y?Y.summary.substring(0,40)+"...":k.substring(0,40)+"...";o(e.id,A)}n(e.id,{messages:$})}catch(he){console.error("Error during analysis stream:",he);const ee=Tn.getState().sessions.find($=>$.id===e.id);if(!ee)return;const U=ee.messages.findIndex($=>$.id===K);if(U!==-1){const $=[...ee.messages];$[U].content="An unexpected error occurred. Please try again.",n(e.id,{messages:$})}}finally{u(!1),T.current=null}},[e,n,o,g]),D=re.useCallback(async()=>{var de,he;if(!e||r)return;const k=e.messages.map(ee=>ee.role).lastIndexOf("assistant");if(k===-1||k===0)return;const V=e.messages[k-1],z=e.messages[k];if(V.role!=="user")return;const N=e.messages.slice(0,k-1),J=typeof V.content=="string"?V.content:"";let B=[];const X=[];Array.isArray(V.images)&&V.images.length>0?X.push(...V.images):V.image&&X.push(V.image);for(const ee of X){const U=ee.split(";base64,");if(U.length===2){const $=U[0].split(":")[1],Y=U[1];B.push({mimeType:$,data:Y})}}const K=V.imageHashes,Q="p2",Z=g?"gemini-2.5-pro":"gemini-2.5-flash",ue=K&&K.length>0?am({imageHashes:K,promptVersion:Q,modelVersion:Z,ultra:g}):"";if(ue){const ee=uy(ue);if(ee){const U=Tn.getState().sessions.find(A=>A.id===e.id);if(!U)return;const $=U.messages.findIndex(A=>A.id===z.id);if($===-1)return;const Y=[...U.messages],pe=JSON.parse(ee.raw);Y[$].content=pe,Y[$].thinkingText=pe.thinkingProcess,Y[$].rawResponse=ee.raw,n(e.id,{messages:Y});return}}T.current=new AbortController,u(!0);const ne=e.messages.map(ee=>ee.id===z.id?{...ee,content:"",thinkingText:"",rawResponse:""}:ee);n(e.id,{messages:ne});let se="";try{const ee=Dg(N,J,B,T.current.signal,g);for await(const O of ee){if((de=T.current)!=null&&de.signal.aborted)break;se+=O}const U=Tn.getState().sessions.find(O=>O.id===e.id);if(!U)return;const $=U.messages.findIndex(O=>O.id===z.id);if($===-1)return;const Y=[...U.messages];if((he=T.current)!=null&&he.signal.aborted){Y[$].content="Response stopped by user.",n(e.id,{messages:Y});return}let pe,A="";if(B&&B.length>0)try{const O=JSON.parse(dy(se));if(O.error)pe=`Error: ${O.error}`;else{const W=fy(O,g);pe=W,A=W.thinkingProcess,K&&K.length>0&&cy(ue,{signal:W.signal,confidence:(W.overallConfidenceScore??50)/100,raw:JSON.stringify(W),modelVersion:Z,promptVersion:Q,imageHashes:K,ultra:g,timestamp:Date.now()})}}catch(O){console.error("Failed to parse JSON response:",O,"Raw response:",se),pe="Error: The analysis result was not in the correct format. Please try again.",se&&(pe+=`

Raw output:
${se}`)}else pe=se;Y[$].content=pe,Y[$].thinkingText=A,Y[$].rawResponse=se,n(e.id,{messages:Y})}catch(ee){console.error("Error during analysis stream:",ee);const U=Tn.getState().sessions.find(Y=>Y.id===e.id);if(!U)return;const $=U.messages.findIndex(Y=>Y.id===z.id);if($!==-1){const Y=[...U.messages];Y[$].content="An unexpected error occurred. Please try again.",n(e.id,{messages:Y})}}finally{u(!1),T.current=null}},[e,n,r,g]);return e?w.jsxs("div",{className:"flex flex-1 flex-col bg-chat-bg overflow-hidden",children:[w.jsx("div",{ref:v,className:"flex-1 overflow-y-auto p-6 space-y-6 scroll-smooth",children:e.messages.length===0?w.jsx(YN,{onExampleClick:E}):e.messages.map((k,V)=>w.jsx(hS,{message:k,isLastMessage:V===e.messages.length-1,isLoading:r&&V===e.messages.length-1&&k.role==="assistant",onRegenerate:D},k.id))}),w.jsx("div",{className:"px-6 pb-4 bg-chat-bg",children:w.jsx(x_,{onSendMessage:x,isLoading:r,onStopGeneration:_,initialPrompt:d.text,isUltraMode:g,onToggleUltraMode:()=>p(k=>!k)},d.key)})]}):null},ZN=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),WN=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),jN=({isOpen:t,onClose:e,onClearAllData:n,user:o,preferences:r,onUpdatePreferences:u,onUpdateProfile:d})=>{var Q,Z,ue,ne,se;const h=re.useRef(null),[g,p]=re.useState(((Q=o.user_metadata)==null?void 0:Q.name)||((Z=o.user_metadata)==null?void 0:Z.full_name)||""),[v,T]=re.useState(((ue=o.user_metadata)==null?void 0:ue.avatar_url)||""),[_,E]=re.useState(null),[x,D]=re.useState(null),[k,V]=re.useState(!1),[z,N]=re.useState(null);re.useEffect(()=>{var he,ee,U;const de=$=>{$.key==="Escape"&&e()};return t&&(p(((he=o.user_metadata)==null?void 0:he.name)||((ee=o.user_metadata)==null?void 0:ee.full_name)||""),T(((U=o.user_metadata)==null?void 0:U.avatar_url)||""),E(null),D(null),N(null),document.addEventListener("keydown",de)),()=>document.removeEventListener("keydown",de)},[t,e,o]);const J=de=>{var U;const he=(U=de.target.files)==null?void 0:U[0];if(!he||!he.type.startsWith("image/"))return;E(he);const ee=new FileReader;ee.onloadend=()=>D(ee.result),ee.readAsDataURL(he)},B=(de,he=256)=>{const ee=document.createElement("canvas");ee.width=he,ee.height=he;const U=ee.getContext("2d"),$=Math.min(de.naturalWidth,de.naturalHeight),Y=(de.naturalWidth-$)/2,pe=(de.naturalHeight-$)/2;return U.drawImage(de,Y,pe,$,$,0,0,he,he),ee},X=async de=>{de.preventDefault(),V(!0),N(null);try{let he=v;if(_){const ee=new Image,U=await new Promise((pe,A)=>{ee.onload=()=>{const O=B(ee,256);pe(O.toDataURL("image/jpeg",.9))},ee.onerror=A,ee.src=x||""}),$=await(await fetch(U)).blob(),Y=await GN(o.id,$);he=Y,T(Y)}await d({name:g,avatar_url:he}),N({type:"success",text:"Profile saved successfully!"})}catch{N({type:"error",text:"Failed to save profile. Please try again."})}finally{V(!1),setTimeout(()=>N(null),3e3)}},K=de=>{u({default_ultra_mode:de.target.checked})};return t?w.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 transition-opacity",onClick:e,children:w.jsxs("div",{ref:h,className:"bg-sidebar-bg rounded-lg shadow-2xl w-full max-w-md m-4 border border-border-color",onClick:de=>de.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-color",children:[w.jsx("h2",{id:"settings-title",className:"text-lg font-semibold text-text-primary",children:"Settings"}),w.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-input-bg","aria-label":"Close settings",children:w.jsx(WN,{className:"h-6 w-6 text-text-secondary"})})]}),w.jsxs("div",{className:"p-6 space-y-8 max-h-[70vh] overflow-y-auto",children:[w.jsxs("form",{onSubmit:X,children:[w.jsx("h3",{className:"font-medium text-text-primary mb-3",children:"Profile"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Avatar"}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"h-16 w-16 rounded-full bg-border-color overflow-hidden flex items-center justify-center",children:x?w.jsx("img",{src:x,alt:"New avatar preview",className:"h-16 w-16 object-cover"}):v?w.jsx("img",{src:v,alt:"Avatar",className:"h-16 w-16 object-cover"}):w.jsx("span",{className:"text-text-primary",children:(se=(((ne=o.user_metadata)==null?void 0:ne.name)||o.email||"?")[0])==null?void 0:se.toUpperCase()})}),w.jsxs("div",{children:[w.jsx("input",{type:"file",accept:"image/*",onChange:J}),w.jsx("p",{className:"text-xs text-text-secondary",children:"Upload an image, it will be auto-cropped to a square."})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"display-name",className:"block text-sm font-medium text-text-secondary mb-1",children:"Display Name"}),w.jsx("input",{id:"display-name",type:"text",value:g,onChange:de=>p(de.target.value),className:"w-full px-3 py-2 bg-input-bg border border-border-color rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue text-sm",placeholder:"Your Name"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"avatar-url",className:"block text-sm font-medium text-text-secondary mb-1",children:"Avatar URL"}),w.jsx("input",{id:"avatar-url",type:"url",value:v,onChange:de=>T(de.target.value),className:"w-full px-3 py-2 bg-input-bg border border-border-color rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue text-sm",placeholder:"https://example.com/avatar.png"})]}),w.jsxs("div",{className:"flex items-center justify-end gap-3",children:[z&&w.jsx("span",{className:`text-sm ${z.type==="success"?"text-accent-green":"text-accent-red"}`,children:z.text}),w.jsx("button",{type:"submit",disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-accent-blue hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-blue focus:ring-offset-sidebar-bg disabled:bg-gray-500",children:k?"Saving...":"Save Profile"})]})]})]}),w.jsx("div",{className:"border-t border-border-color"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium text-text-primary mb-3",children:"Preferences"}),w.jsxs("div",{className:"flex items-center justify-between bg-input-bg-50 p-3 rounded-lg",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"ultra-default",className:"font-medium text-text-primary text-sm",children:"Set Ultra Mode as default"}),w.jsx("p",{className:"text-xs text-text-secondary",children:"Start new analyses with Ultra Mode enabled."})]}),w.jsxs("label",{htmlFor:"ultra-default-toggle",className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{type:"checkbox",id:"ultra-default-toggle",className:"sr-only peer",checked:r.default_ultra_mode,onChange:K}),w.jsx("div",{className:"w-11 h-6 bg-border-color peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-accent-blue peer-focus:ring-offset-sidebar-bg rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-blue"})]})]})]}),w.jsx("div",{className:"border-t border-border-color"}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium text-text-primary mb-2",children:"Manage Data"}),w.jsx("p",{className:"text-sm text-text-secondary mb-3",children:"This will permanently delete all your chat sessions from your account across all devices. This action cannot be undone."}),w.jsx("button",{onClick:n,className:"w-full px-4 py-2 text-sm font-medium text-white bg-accent-red hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-red focus:ring-offset-sidebar-bg",children:"Clear All My Chat History"})]})]}),w.jsx("div",{className:"px-4 py-3 bg-chat-bg border-t border-border-color rounded-b-lg text-right",children:w.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-text-primary bg-input-bg border border-border-color rounded-md hover:bg-border-color transition-colors",children:"Done"})})]})}):null},Ti=tv((t,e)=>({user:null,loading:!0,_setUser:n=>t({user:n}),_setLoading:n=>t({loading:n}),signInWithGoogle:async()=>{const{error:n}=await je.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});n&&console.error("Error logging in with Google:",n)},signOut:async()=>{const{error:n}=await je.auth.signOut();n&&console.error("Error logging out:",n)},signInWithEmail:async n=>{const{data:o,error:r}=await je.auth.signInWithPassword({email:n.email,password:n.password});return{error:r}},signUpWithEmail:async n=>{const{data:o,error:r}=await je.auth.signUp({email:n.email,password:n.password,options:{emailRedirectTo:window.location.origin}});return{error:r}},updateUserMetadata:async n=>{const o=Object.fromEntries(Object.entries(n).filter(([d,h])=>h!=null));if(Object.keys(o).length===0)return{error:null};const{data:r,error:u}=await je.auth.updateUser({data:o});return r.user&&t({user:r.user}),{error:u}}}));je.auth.getSession().then(({data:{session:t}})=>{Ti.getState()._setUser((t==null?void 0:t.user)??null),Ti.getState()._setLoading(!1)}),je.auth.onAuthStateChange((t,e)=>{Ti.getState()._setUser((e==null?void 0:e.user)??null)});const e2=t=>w.jsx("svg",{viewBox:"0 0 48 48",...t,children:w.jsxs("g",{children:[w.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),w.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),w.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),w.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.82l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),w.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),t2=({onGoogleLogin:t,onEmailLogin:e,onEmailSignUp:n})=>{const[o,r]=re.useState("signin"),[u,d]=re.useState(""),[h,g]=re.useState(""),[p,v]=re.useState(!1),[T,_]=re.useState(null),[E,x]=re.useState(null),D=async V=>{V.preventDefault(),v(!0),_(null),x(null);const z={email:u,password:h};let N;o==="signin"?N=await e(z):(N=await n(z),N.error||(x("Check your email for the confirmation link!"),g(""))),N.error&&_(N.error.message),v(!1)},k=()=>{r(o==="signin"?"signup":"signin"),_(null),x(null),d(""),g("")};return w.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-brand-bg text-text-primary p-4",children:w.jsxs("div",{className:"max-w-sm w-full text-center bg-sidebar-bg border border-border-color rounded-lg shadow-xl p-6 md:p-8",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"w-20 h-20 bg-accent-blue rounded-full flex items-center justify-center",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-white",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})})})}),w.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:o==="signin"?"Sign In to Wizz":"Create an Account"}),w.jsx("p",{className:"text-md text-text-secondary mt-2",children:"Your AI Crypto Chart Analyzer."}),w.jsxs("form",{onSubmit:D,className:"mt-8 space-y-4 text-left",children:[w.jsx("input",{type:"email",placeholder:"Email address",value:u,onChange:V=>d(V.target.value),required:!0,className:"w-full px-4 py-2 bg-input-bg border border-border-color rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue","aria-label":"Email address"}),w.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:V=>g(V.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 bg-input-bg border border-border-color rounded-md focus:outline-none focus:ring-2 focus:ring-accent-blue","aria-label":"Password"}),w.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-accent-blue hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-blue disabled:bg-gray-500 disabled:cursor-not-allowed",children:p?w.jsx("div",{className:"h-5 w-5 border-2 border-t-transparent border-white rounded-full animate-spin"}):o==="signin"?"Sign In":"Sign Up"}),T&&w.jsx("p",{className:"text-sm text-accent-red mt-2 text-center",children:T}),E&&w.jsx("p",{className:"text-sm text-accent-green mt-2 text-center",children:E})]}),w.jsxs("div",{className:"my-6 flex items-center",children:[w.jsx("div",{className:"border-t border-border-color flex-grow"}),w.jsx("span",{className:"mx-4 text-sm text-text-secondary flex-shrink-0",children:"OR"}),w.jsx("div",{className:"border-t border-border-color flex-grow"})]}),w.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-3 w-full px-6 py-2.5 font-semibold text-text-primary bg-input-bg border border-border-color rounded-lg shadow-sm hover:bg-border-color focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-blue focus:ring-offset-brand-bg transition-colors",children:[w.jsx(e2,{className:"h-5 w-5"}),w.jsx("span",{children:"Sign In with Google"})]}),w.jsxs("p",{className:"mt-8 text-sm text-center text-text-secondary",children:[o==="signin"?"Don't have an account?":"Already have an account?",w.jsx("button",{onClick:k,className:"font-medium text-accent-blue hover:underline ml-1 focus:outline-none",children:o==="signin"?"Sign up":"Sign in"})]})]})})},n2=()=>{const{user:t}=Ti(),{activeSession:e,sessions:n,isLoading:o,clearAllUserSessions:r,updateSessionTitle:u,deleteSession:d,selectSession:h,newSession:g}=Tn(),[p,v]=re.useState(!0),[T,_]=re.useState(!1),[E,x]=re.useState({theme:"dark",default_ultra_mode:!1});re.useEffect(()=>{const N=window.document.documentElement;N.classList.remove("light","dark"),N.classList.add(E.theme)},[E.theme]),re.useEffect(()=>{t?qN(t.id).then(x):x({theme:"dark",default_ultra_mode:!1})},[t]);const D=re.useCallback(async N=>{if(!t)return;const J={...E,...N};x(J);try{await VN(t.id,J)}catch(B){console.error("Failed to update preferences:",B),x(E)}},[E,t]),k=re.useCallback(async N=>{const{updateUserMetadata:J}=Ti.getState(),{error:B}=await J(N);if(B)throw console.error("Failed to update profile",B),B},[]),V=re.useCallback(async()=>{window.confirm("Are you sure you want to clear all chat history for your account? This action cannot be undone.")&&(await r(),_(!1))},[r]),z=async()=>{if(window.confirm("Are you sure you want to log out?")){const{signOut:N}=Ti.getState();await N()}};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex h-screen w-full bg-brand-bg text-text-primary font-sans",children:[w.jsx(m_,{isOpen:p,sessions:n,activeSessionId:(e==null?void 0:e.id)??null,onNewSession:g,onSelectSession:h,onDeleteSession:d,onRenameSession:u,onToggle:()=>v(!p),user:t,theme:E.theme,onToggleTheme:()=>D({theme:E.theme==="light"?"dark":"light"}),onOpenSettings:()=>_(!0),onLogout:z}),w.jsxs("main",{className:"flex flex-1 flex-col transition-all duration-300 ease-in-out",children:[w.jsxs("div",{className:"flex items-center p-2 border-b border-border-color bg-sidebar-bg h-14",children:[w.jsx("button",{onClick:()=>v(!p),className:"p-2 rounded-md hover:bg-input-bg focus:outline-none focus:ring-2 focus:ring-accent-blue","aria-label":"Toggle sidebar",children:w.jsx(ZN,{className:"h-6 w-6 text-text-secondary"})}),w.jsx("h1",{className:"text-lg font-semibold ml-4",children:(e==null?void 0:e.title)||"Wizz"})]}),e?w.jsx(XN,{defaultUltraMode:E.default_ultra_mode},e.id):w.jsx("div",{className:"flex-1 flex items-center justify-center",children:o?w.jsx("div",{className:"h-6 w-6 border-2 border-t-transparent border-accent-blue rounded-full animate-spin"}):w.jsx("p",{className:"text-text-secondary",children:"Select an analysis or start a new one."})})]})]}),T&&w.jsx(jN,{isOpen:T,onClose:()=>_(!1),onClearAllData:V,user:t,preferences:E,onUpdatePreferences:D,onUpdateProfile:k})]})},i2=()=>{const{user:t,loading:e,signInWithGoogle:n,signOut:o,signInWithEmail:r,signUpWithEmail:u}=Ti();return e?w.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-bg",children:w.jsx("div",{className:"h-8 w-8 border-4 border-t-transparent border-accent-blue rounded-full animate-spin"})}):t?w.jsx($N,{user:t,children:w.jsx(n2,{})}):w.jsx(t2,{onGoogleLogin:n,onEmailLogin:r,onEmailSignUp:u})},Sv=document.getElementById("root");if(!Sv)throw new Error("Could not find root element to mount to");const o2=o_.createRoot(Sv);o2.render(w.jsx(wo.StrictMode,{children:w.jsx(i2,{})}));
